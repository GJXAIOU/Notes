# 05 \| ArrayListè¿˜æ˜¯LinkedListï¼Ÿä½¿ç”¨ä¸å½“æ€§èƒ½å·®åƒå€

ä½œè€…: åˆ˜è¶…

å®Œæˆæ—¶é—´:

æ€»ç»“æ—¶é—´:

![](<https://static001.geekbang.org/resource/image/e0/4d/e0e7e861db0466a5c60d14fe0b5bfe4d.jpg>)

<audio><source src="https://static001.geekbang.org/resource/audio/ad/b6/ad7930998d431602b4ca022d551fc5b6.mp3" type="audio/mpeg"></audio>

ä½ å¥½ï¼Œæˆ‘æ˜¯åˆ˜è¶…ã€‚

é›†åˆä½œä¸ºä¸€ç§å­˜å‚¨æ•°æ®çš„å®¹å™¨ï¼Œæ˜¯æˆ‘ä»¬æ—¥å¸¸å¼€å‘ä¸­ä½¿ç”¨æœ€é¢‘ç¹çš„å¯¹è±¡ç±»å‹ä¹‹ä¸€ã€‚JDKä¸ºå¼€å‘è€…æä¾›äº†ä¸€ç³»åˆ—çš„é›†åˆç±»å‹ï¼Œè¿™äº›é›†åˆç±»å‹ä½¿ç”¨ä¸åŒçš„æ•°æ®ç»“æ„æ¥å®ç°ã€‚å› æ­¤ï¼Œä¸åŒçš„é›†åˆç±»å‹ï¼Œä½¿ç”¨åœºæ™¯ä¹Ÿä¸åŒã€‚

å¾ˆå¤šåŒå­¦åœ¨é¢è¯•çš„æ—¶å€™ï¼Œç»å¸¸ä¼šè¢«é—®åˆ°é›†åˆçš„ç›¸å…³é—®é¢˜ï¼Œæ¯”è¾ƒå¸¸è§çš„æœ‰ArrayListå’ŒLinkedListçš„åŒºåˆ«ã€‚

ç›¸ä¿¡å¤§éƒ¨åˆ†åŒå­¦éƒ½èƒ½å›ç­”ä¸Šï¼šâ€œArrayListæ˜¯åŸºäºæ•°ç»„å®ç°ï¼ŒLinkedListæ˜¯åŸºäºé“¾è¡¨å®ç°ã€‚â€

è€Œåœ¨å›ç­”ä½¿ç”¨åœºæ™¯çš„æ—¶å€™ï¼Œæˆ‘å‘ç°å¤§éƒ¨åˆ†åŒå­¦çš„ç­”æ¡ˆæ˜¯ï¼š<span class="orange">â€œArrayListå’ŒLinkedListåœ¨æ–°å¢ã€åˆ é™¤å…ƒç´ æ—¶ï¼ŒLinkedListçš„æ•ˆç‡è¦é«˜äº ArrayListï¼Œè€Œåœ¨éå†çš„æ—¶å€™ï¼ŒArrayListçš„æ•ˆç‡è¦é«˜äºLinkedListã€‚â€</span>

è¿™ä¸ªå›ç­”æ˜¯å¦å‡†ç¡®å‘¢ï¼Ÿä»Šå¤©è¿™ä¸€è®²å°±å¸¦ä½ éªŒè¯ã€‚

## åˆè¯†Listæ¥å£

åœ¨å­¦ä¹ Listé›†åˆç±»ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥é€šè¿‡è¿™å¼ å›¾ï¼Œçœ‹ä¸‹Listé›†åˆç±»çš„æ¥å£å’Œç±»çš„å®ç°å…³ç³»ï¼š

![](<https://static001.geekbang.org/resource/image/54/09/54f564eb63a2c74723a82540668fc009.jpg?wh=1000x1001>)

æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ArrayListã€Vectorã€LinkedListé›†åˆç±»ç»§æ‰¿äº†AbstractListæŠ½è±¡ç±»ï¼Œè€ŒAbstractListå®ç°äº†Listæ¥å£ï¼ŒåŒæ—¶ä¹Ÿç»§æ‰¿äº†AbstractCollectionæŠ½è±¡ç±»ã€‚ArrayListã€Vectorã€LinkedListåˆæ ¹æ®è‡ªæˆ‘å®šä½ï¼Œåˆ†åˆ«å®ç°äº†å„è‡ªçš„åŠŸèƒ½ã€‚

<!-- [[[read_end]]] -->

ArrayListå’ŒVectorä½¿ç”¨äº†æ•°ç»„å®ç°ï¼Œè¿™ä¸¤è€…çš„å®ç°åŸç†å·®ä¸å¤šï¼ŒLinkedListä½¿ç”¨äº†åŒå‘é“¾è¡¨å®ç°ã€‚åŸºç¡€é“ºå«å°±åˆ°è¿™é‡Œï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±è¯¦ç»†åœ°åˆ†æä¸‹ArrayListå’ŒLinkedListçš„æºç å®ç°ã€‚

## ArrayListæ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ

ArrayListå¾ˆå¸¸ç”¨ï¼Œå…ˆæ¥å‡ é“æµ‹è¯•é¢˜ï¼Œè‡ªæ£€ä¸‹ä½ å¯¹ArrayListçš„äº†è§£ç¨‹åº¦ã€‚

**é—®é¢˜1ï¼š**æˆ‘ä»¬åœ¨æŸ¥çœ‹ArrayListçš„å®ç°ç±»æºç æ—¶ï¼Œä½ ä¼šå‘ç°å¯¹è±¡æ•°ç»„elementDataä½¿ç”¨äº†transientä¿®é¥°ï¼Œæˆ‘ä»¬çŸ¥é“transientå…³é”®å­—ä¿®é¥°è¯¥å±æ€§ï¼Œåˆ™è¡¨ç¤ºè¯¥å±æ€§ä¸ä¼šè¢«åºåˆ—åŒ–ï¼Œç„¶è€Œæˆ‘ä»¬å¹¶æ²¡æœ‰çœ‹åˆ°æ–‡æ¡£ä¸­è¯´æ˜ArrayListä¸èƒ½è¢«åºåˆ—åŒ–ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿ

**é—®é¢˜2ï¼š**æˆ‘ä»¬åœ¨ä½¿ç”¨ArrayListè¿›è¡Œæ–°å¢ã€åˆ é™¤æ—¶ï¼Œç»å¸¸è¢«æé†’â€œä½¿ç”¨ArrayListåšæ–°å¢åˆ é™¤æ“ä½œä¼šå½±å“æ•ˆç‡â€ã€‚é‚£æ˜¯ä¸æ˜¯ArrayListåœ¨å¤§é‡æ–°å¢å…ƒç´ çš„åœºæ™¯ä¸‹æ•ˆç‡å°±ä¸€å®šä¼šå˜æ…¢å‘¢ï¼Ÿ

**é—®é¢˜3ï¼š**å¦‚æœè®©ä½ ä½¿ç”¨forå¾ªç¯ä»¥åŠè¿­ä»£å¾ªç¯éå†ä¸€ä¸ªArrayListï¼Œä½ ä¼šä½¿ç”¨å“ªç§æ–¹å¼å‘¢ï¼ŸåŸå› æ˜¯ä»€ä¹ˆï¼Ÿ

å¦‚æœä½ å¯¹è¿™å‡ é“æµ‹è¯•éƒ½æ²¡æœ‰ä¸€ä¸ªå…¨é¢çš„äº†è§£ï¼Œé‚£å°±è·Ÿæˆ‘ä¸€èµ·ä»æ•°æ®ç»“æ„ã€å®ç°åŸç†ä»¥åŠæºç è§’åº¦é‡æ–°è®¤è¯†ä¸‹ArrayListå§ã€‚

### 1\.ArrayListå®ç°ç±»

ArrayListå®ç°äº†Listæ¥å£ï¼Œç»§æ‰¿äº†AbstractListæŠ½è±¡ç±»ï¼Œåº•å±‚æ˜¯æ•°ç»„å®ç°çš„ï¼Œå¹¶ä¸”å®ç°äº†è‡ªå¢æ‰©å®¹æ•°ç»„å¤§å°ã€‚

ArrayListè¿˜å®ç°äº†Cloneableæ¥å£å’ŒSerializableæ¥å£ï¼Œæ‰€ä»¥ä»–å¯ä»¥å®ç°å…‹éš†å’Œåºåˆ—åŒ–ã€‚

ArrayListè¿˜å®ç°äº†RandomAccessæ¥å£ã€‚ä½ å¯èƒ½å¯¹è¿™ä¸ªæ¥å£æ¯”è¾ƒé™Œç”Ÿï¼Œä¸çŸ¥é“å…·ä½“çš„ç”¨å¤„ã€‚é€šè¿‡ä»£ç æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œè¿™ä¸ªæ¥å£å…¶å®æ˜¯ä¸€ä¸ªç©ºæ¥å£ï¼Œä»€ä¹ˆä¹Ÿæ²¡æœ‰å®ç°ï¼Œé‚£ArrayListä¸ºä»€ä¹ˆè¦å»å®ç°å®ƒå‘¢ï¼Ÿ

å…¶å®RandomAccessæ¥å£æ˜¯ä¸€ä¸ªæ ‡å¿—æ¥å£ï¼Œä»–æ ‡å¿—ç€â€œåªè¦å®ç°è¯¥æ¥å£çš„Listç±»ï¼Œéƒ½èƒ½å®ç°å¿«é€Ÿéšæœºè®¿é—®â€ã€‚

```
public class ArrayList<E> extends AbstractList<E>
        implements List<E>, RandomAccess, Cloneable, java.io.Serializable
```

### 2\.ArrayListå±æ€§

ArrayListå±æ€§ä¸»è¦ç”±æ•°ç»„é•¿åº¦sizeã€å¯¹è±¡æ•°ç»„elementDataã€åˆå§‹åŒ–å®¹é‡default\_capacityç­‰ç»„æˆï¼Œ å…¶ä¸­åˆå§‹åŒ–å®¹é‡é»˜è®¤å¤§å°ä¸º10ã€‚

```
//é»˜è®¤åˆå§‹åŒ–å®¹é‡
    private static final int DEFAULT_CAPACITY = 10;
    //å¯¹è±¡æ•°ç»„
    transient Object[] elementData; 
    //æ•°ç»„é•¿åº¦
    private int size;
```

ä»ArrayListå±æ€§æ¥çœ‹ï¼Œå®ƒæ²¡æœ‰è¢«ä»»ä½•çš„å¤šçº¿ç¨‹å…³é”®å­—ä¿®é¥°ï¼Œä½†elementDataè¢«å…³é”®å­—transientä¿®é¥°äº†ã€‚è¿™å°±æ˜¯æˆ‘åœ¨ä¸Šé¢æåˆ°çš„ç¬¬ä¸€é“æµ‹è¯•é¢˜ï¼štransientå…³é”®å­—ä¿®é¥°è¯¥å­—æ®µåˆ™è¡¨ç¤ºè¯¥å±æ€§ä¸ä¼šè¢«åºåˆ—åŒ–ï¼Œä½†ArrayListå…¶å®æ˜¯å®ç°äº†åºåˆ—åŒ–æ¥å£ï¼Œè¿™åˆ°åº•æ˜¯æ€ä¹ˆå›äº‹å‘¢ï¼Ÿ

è¿™è¿˜å¾—ä»â€œArrayListæ˜¯åŸºäºæ•°ç»„å®ç°â€œå¼€å§‹è¯´èµ·ï¼Œç”±äºArrayListçš„æ•°ç»„æ˜¯åŸºäºåŠ¨æ€æ‰©å¢çš„ï¼Œæ‰€ä»¥å¹¶ä¸æ˜¯æ‰€æœ‰è¢«åˆ†é…çš„å†…å­˜ç©ºé—´éƒ½å­˜å‚¨äº†æ•°æ®ã€‚

å¦‚æœé‡‡ç”¨å¤–éƒ¨åºåˆ—åŒ–æ³•å®ç°æ•°ç»„çš„åºåˆ—åŒ–ï¼Œä¼šåºåˆ—åŒ–æ•´ä¸ªæ•°ç»„ã€‚ArrayListä¸ºäº†é¿å…è¿™äº›æ²¡æœ‰å­˜å‚¨æ•°æ®çš„å†…å­˜ç©ºé—´è¢«åºåˆ—åŒ–ï¼Œå†…éƒ¨æä¾›äº†ä¸¤ä¸ªç§æœ‰æ–¹æ³•writeObjectä»¥åŠreadObjectæ¥è‡ªæˆ‘å®Œæˆåºåˆ—åŒ–ä¸ååºåˆ—åŒ–ï¼Œä»è€Œåœ¨åºåˆ—åŒ–ä¸ååºåˆ—åŒ–æ•°ç»„æ—¶èŠ‚çœäº†ç©ºé—´å’Œæ—¶é—´ã€‚

å› æ­¤ä½¿ç”¨transientä¿®é¥°æ•°ç»„ï¼Œæ˜¯é˜²æ­¢å¯¹è±¡æ•°ç»„è¢«å…¶ä»–å¤–éƒ¨æ–¹æ³•åºåˆ—åŒ–ã€‚

### 3\.ArrayListæ„é€ å‡½æ•°

ArrayListç±»å®ç°äº†ä¸‰ä¸ªæ„é€ å‡½æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯åˆ›å»ºArrayListå¯¹è±¡æ—¶ï¼Œä¼ å…¥ä¸€ä¸ªåˆå§‹åŒ–å€¼ï¼›ç¬¬äºŒä¸ªæ˜¯é»˜è®¤åˆ›å»ºä¸€ä¸ªç©ºæ•°ç»„å¯¹è±¡ï¼›ç¬¬ä¸‰ä¸ªæ˜¯ä¼ å…¥ä¸€ä¸ªé›†åˆç±»å‹è¿›è¡Œåˆå§‹åŒ–ã€‚

å½“ArrayListæ–°å¢å…ƒç´ æ—¶ï¼Œå¦‚æœæ‰€å­˜å‚¨çš„å…ƒç´ å·²ç»è¶…è¿‡å…¶å·²æœ‰å¤§å°ï¼Œå®ƒä¼šè®¡ç®—å…ƒç´ å¤§å°åå†è¿›è¡ŒåŠ¨æ€æ‰©å®¹ï¼Œæ•°ç»„çš„æ‰©å®¹ä¼šå¯¼è‡´æ•´ä¸ªæ•°ç»„è¿›è¡Œä¸€æ¬¡å†…å­˜å¤åˆ¶ã€‚å› æ­¤ï¼Œæˆ‘ä»¬åœ¨åˆå§‹åŒ–ArrayListæ—¶ï¼Œå¯ä»¥é€šè¿‡ç¬¬ä¸€ä¸ªæ„é€ å‡½æ•°åˆç†æŒ‡å®šæ•°ç»„åˆå§‹å¤§å°ï¼Œè¿™æ ·æœ‰åŠ©äºå‡å°‘æ•°ç»„çš„æ‰©å®¹æ¬¡æ•°ï¼Œä»è€Œæé«˜ç³»ç»Ÿæ€§èƒ½ã€‚

```
public ArrayList(int initialCapacity) {
        //åˆå§‹åŒ–å®¹é‡ä¸ä¸ºé›¶æ—¶ï¼Œå°†æ ¹æ®åˆå§‹åŒ–å€¼åˆ›å»ºæ•°ç»„å¤§å°
        if (initialCapacity > 0) {
            this.elementData = new Object[initialCapacity];
        } else if (initialCapacity == 0) {//åˆå§‹åŒ–å®¹é‡ä¸ºé›¶æ—¶ï¼Œä½¿ç”¨é»˜è®¤çš„ç©ºæ•°ç»„
            this.elementData = EMPTY_ELEMENTDATA;
        } else {
            throw new IllegalArgumentException("Illegal Capacity: "+
                                               initialCapacity);
        }
    }

    public ArrayList() {
        //åˆå§‹åŒ–é»˜è®¤ä¸ºç©ºæ•°ç»„
        this.elementData = DEFAULTCAPACITY_EMPTY_ELEMENTDATA;
    }
```

### 4\.ArrayListæ–°å¢å…ƒç´ 

ArrayListæ–°å¢å…ƒç´ çš„æ–¹æ³•æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯ç›´æ¥å°†å…ƒç´ åŠ åˆ°æ•°ç»„çš„æœ«å°¾ï¼Œå¦å¤–ä¸€ç§æ˜¯æ·»åŠ å…ƒç´ åˆ°ä»»æ„ä½ç½®ã€‚

```
public boolean add(E e) {
        ensureCapacityInternal(size + 1);  // Increments modCount!!
        elementData[size++] = e;
        return true;
    }

    public void add(int index, E element) {
        rangeCheckForAdd(index);

        ensureCapacityInternal(size + 1);  // Increments modCount!!
        System.arraycopy(elementData, index, elementData, index + 1,
                         size - index);
        elementData[index] = element;
        size++;
    }
```

ä¸¤ä¸ªæ–¹æ³•çš„ç›¸åŒä¹‹å¤„æ˜¯åœ¨æ·»åŠ å…ƒç´ ä¹‹å‰ï¼Œéƒ½ä¼šå…ˆç¡®è®¤å®¹é‡å¤§å°ï¼Œå¦‚æœå®¹é‡å¤Ÿå¤§ï¼Œå°±ä¸ç”¨è¿›è¡Œæ‰©å®¹ï¼›å¦‚æœå®¹é‡ä¸å¤Ÿå¤§ï¼Œå°±ä¼šæŒ‰ç…§åŸæ¥æ•°ç»„çš„1.5å€å¤§å°è¿›è¡Œæ‰©å®¹ï¼Œåœ¨æ‰©å®¹ä¹‹åéœ€è¦å°†æ•°ç»„å¤åˆ¶åˆ°æ–°åˆ†é…çš„å†…å­˜åœ°å€ã€‚

```
private void ensureExplicitCapacity(int minCapacity) {
        modCount++;

        // overflow-conscious code
        if (minCapacity - elementData.length > 0)
            grow(minCapacity);
    }
    private static final int MAX_ARRAY_SIZE = Integer.MAX_VALUE - 8;

    private void grow(int minCapacity) {
        // overflow-conscious code
        int oldCapacity = elementData.length;
        int newCapacity = oldCapacity + (oldCapacity >> 1);
        if (newCapacity - minCapacity < 0)
            newCapacity = minCapacity;
        if (newCapacity - MAX_ARRAY_SIZE > 0)
            newCapacity = hugeCapacity(minCapacity);
        // minCapacity is usually close to size, so this is a win:
        elementData = Arrays.copyOf(elementData, newCapacity);
    }
```

å½“ç„¶ï¼Œä¸¤ä¸ªæ–¹æ³•ä¹Ÿæœ‰ä¸åŒä¹‹å¤„ï¼Œæ·»åŠ å…ƒç´ åˆ°ä»»æ„ä½ç½®ï¼Œä¼šå¯¼è‡´åœ¨è¯¥ä½ç½®åçš„æ‰€æœ‰å…ƒç´ éƒ½éœ€è¦é‡æ–°æ’åˆ—ï¼Œè€Œå°†å…ƒç´ æ·»åŠ åˆ°æ•°ç»„çš„æœ«å°¾ï¼Œåœ¨æ²¡æœ‰å‘ç”Ÿæ‰©å®¹çš„å‰æä¸‹ï¼Œæ˜¯ä¸ä¼šæœ‰å…ƒç´ å¤åˆ¶æ’åºè¿‡ç¨‹çš„ã€‚

è¿™é‡Œä½ å°±å¯ä»¥æ‰¾åˆ°ç¬¬äºŒé“æµ‹è¯•é¢˜çš„ç­”æ¡ˆäº†ã€‚å¦‚æœæˆ‘ä»¬åœ¨åˆå§‹åŒ–æ—¶å°±æ¯”è¾ƒæ¸…æ¥šå­˜å‚¨æ•°æ®çš„å¤§å°ï¼Œå°±å¯ä»¥åœ¨ArrayListåˆå§‹åŒ–æ—¶æŒ‡å®šæ•°ç»„å®¹é‡å¤§å°ï¼Œå¹¶ä¸”åœ¨æ·»åŠ å…ƒç´ æ—¶ï¼Œåªåœ¨æ•°ç»„æœ«å°¾æ·»åŠ å…ƒç´ ï¼Œé‚£ä¹ˆArrayListåœ¨å¤§é‡æ–°å¢å…ƒç´ çš„åœºæ™¯ä¸‹ï¼Œæ€§èƒ½å¹¶ä¸ä¼šå˜å·®ï¼Œåè€Œæ¯”å…¶ä»–Listé›†åˆçš„æ€§èƒ½è¦å¥½ã€‚

### 5\.ArrayListåˆ é™¤å…ƒç´ 

ArrayListçš„åˆ é™¤æ–¹æ³•å’Œæ·»åŠ ä»»æ„ä½ç½®å…ƒç´ çš„æ–¹æ³•æ˜¯æœ‰äº›ç›¸åŒçš„ã€‚ArrayListåœ¨æ¯ä¸€æ¬¡æœ‰æ•ˆçš„åˆ é™¤å…ƒç´ æ“ä½œä¹‹åï¼Œéƒ½è¦è¿›è¡Œæ•°ç»„çš„é‡ç»„ï¼Œå¹¶ä¸”åˆ é™¤çš„å…ƒç´ ä½ç½®è¶Šé å‰ï¼Œæ•°ç»„é‡ç»„çš„å¼€é”€å°±è¶Šå¤§ã€‚

```
public E remove(int index) {
        rangeCheck(index);

        modCount++;
        E oldValue = elementData(index);

        int numMoved = size - index - 1;
        if (numMoved > 0)
            System.arraycopy(elementData, index+1, elementData, index,
                             numMoved);
        elementData[--size] = null; // clear to let GC do its work

        return oldValue;
    }
```

### 6\.ArrayListéå†å…ƒç´ 

ç”±äºArrayListæ˜¯åŸºäºæ•°ç»„å®ç°çš„ï¼Œæ‰€ä»¥åœ¨è·å–å…ƒç´ çš„æ—¶å€™æ˜¯éå¸¸å¿«æ·çš„ã€‚

```
public E get(int index) {
        rangeCheck(index);

        return elementData(index);
    }

    E elementData(int index) {
        return (E) elementData[index];
    }
```

## LinkedListæ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ

è™½ç„¶LinkedListä¸ArrayListéƒ½æ˜¯Listç±»å‹çš„é›†åˆï¼Œä½†LinkedListçš„å®ç°åŸç†å´å’ŒArrayListå¤§ç›¸å¾„åº­ï¼Œä½¿ç”¨åœºæ™¯ä¹Ÿä¸å¤ªä¸€æ ·ã€‚

LinkedListæ˜¯åŸºäºåŒå‘é“¾è¡¨æ•°æ®ç»“æ„å®ç°çš„ï¼ŒLinkedListå®šä¹‰äº†ä¸€ä¸ªNodeç»“æ„ï¼ŒNodeç»“æ„ä¸­åŒ…å«äº†3ä¸ªéƒ¨åˆ†ï¼šå…ƒç´ å†…å®¹itemã€å‰æŒ‡é’ˆprevä»¥åŠåæŒ‡é’ˆnextï¼Œä»£ç å¦‚ä¸‹ã€‚

```
private static class Node<E> {
        E item;
        Node<E> next;
        Node<E> prev;

        Node(Node<E> prev, E element, Node<E> next) {
            this.item = element;
            this.next = next;
            this.prev = prev;
        }
    }
```

æ€»ç»“ä¸€ä¸‹ï¼ŒLinkedListå°±æ˜¯ç”±Nodeç»“æ„å¯¹è±¡è¿æ¥è€Œæˆçš„ä¸€ä¸ªåŒå‘é“¾è¡¨ã€‚åœ¨JDK1.7ä¹‹å‰ï¼ŒLinkedListä¸­åªåŒ…å«äº†ä¸€ä¸ªEntryç»“æ„çš„headerå±æ€§ï¼Œå¹¶åœ¨åˆå§‹åŒ–çš„æ—¶å€™é»˜è®¤åˆ›å»ºä¸€ä¸ªç©ºçš„Entryï¼Œç”¨æ¥åšheaderï¼Œå‰åæŒ‡é’ˆæŒ‡å‘è‡ªå·±ï¼Œå½¢æˆä¸€ä¸ªå¾ªç¯åŒå‘é“¾è¡¨ã€‚

åœ¨JDK1.7ä¹‹åï¼ŒLinkedListåšäº†å¾ˆå¤§çš„æ”¹åŠ¨ï¼Œå¯¹é“¾è¡¨è¿›è¡Œäº†ä¼˜åŒ–ã€‚é“¾è¡¨çš„Entryç»“æ„æ¢æˆäº†Nodeï¼Œå†…éƒ¨ç»„æˆåŸºæœ¬æ²¡æœ‰æ”¹å˜ï¼Œä½†LinkedListé‡Œé¢çš„headerå±æ€§å»æ‰äº†ï¼Œæ–°å¢äº†ä¸€ä¸ªNodeç»“æ„çš„firstå±æ€§å’Œä¸€ä¸ªNodeç»“æ„çš„lastå±æ€§ã€‚è¿™æ ·åšæœ‰ä»¥ä¸‹å‡ ç‚¹å¥½å¤„ï¼š

- first/lastå±æ€§èƒ½æ›´æ¸…æ™°åœ°è¡¨è¾¾é“¾è¡¨çš„é“¾å¤´å’Œé“¾å°¾æ¦‚å¿µï¼›
- first/lastæ–¹å¼å¯ä»¥åœ¨åˆå§‹åŒ–LinkedListçš„æ—¶å€™èŠ‚çœnewä¸€ä¸ªEntryï¼›
- first/lastæ–¹å¼æœ€é‡è¦çš„æ€§èƒ½ä¼˜åŒ–æ˜¯é“¾å¤´å’Œé“¾å°¾çš„æ’å…¥åˆ é™¤æ“ä½œæ›´åŠ å¿«æ·äº†ã€‚

<!-- -->

è¿™é‡ŒåŒArrayListçš„è®²è§£ä¸€æ ·ï¼Œæˆ‘å°†ä»æ•°æ®ç»“æ„ã€å®ç°åŸç†ä»¥åŠæºç åˆ†æç­‰å‡ ä¸ªè§’åº¦å¸¦ä½ æ·±å…¥äº†è§£LinkedListã€‚

### 1\.LinkedListå®ç°ç±»

LinkedListç±»å®ç°äº†Listæ¥å£ã€Dequeæ¥å£ï¼ŒåŒæ—¶ç»§æ‰¿äº†AbstractSequentialListæŠ½è±¡ç±»ï¼ŒLinkedListæ—¢å®ç°äº†Listç±»å‹åˆæœ‰Queueç±»å‹çš„ç‰¹ç‚¹ï¼›LinkedListä¹Ÿå®ç°äº†Cloneableå’ŒSerializableæ¥å£ï¼ŒåŒArrayListä¸€æ ·ï¼Œå¯ä»¥å®ç°å…‹éš†å’Œåºåˆ—åŒ–ã€‚

ç”±äºLinkedListå­˜å‚¨æ•°æ®çš„å†…å­˜åœ°å€æ˜¯ä¸è¿ç»­çš„ï¼Œè€Œæ˜¯é€šè¿‡æŒ‡é’ˆæ¥å®šä½ä¸è¿ç»­åœ°å€ï¼Œå› æ­¤ï¼ŒLinkedListä¸æ”¯æŒéšæœºå¿«é€Ÿè®¿é—®ï¼ŒLinkedListä¹Ÿå°±ä¸èƒ½å®ç°RandomAccessæ¥å£ã€‚

```
public class LinkedList<E>
    extends AbstractSequentialList<E>
    implements List<E>, Deque<E>, Cloneable, java.io.Serializable
```

### 2\.LinkedListå±æ€§

æˆ‘ä»¬å‰é¢è®²åˆ°äº†LinkedListçš„ä¸¤ä¸ªé‡è¦å±æ€§first/lastå±æ€§ï¼Œå…¶å®è¿˜æœ‰ä¸€ä¸ªsizeå±æ€§ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¿™ä¸‰ä¸ªå±æ€§éƒ½è¢«transientä¿®é¥°äº†ï¼ŒåŸå› å¾ˆç®€å•ï¼Œæˆ‘ä»¬åœ¨åºåˆ—åŒ–çš„æ—¶å€™ä¸ä¼šåªå¯¹å¤´å°¾è¿›è¡Œåºåˆ—åŒ–ï¼Œæ‰€ä»¥LinkedListä¹Ÿæ˜¯è‡ªè¡Œå®ç°readObjectå’ŒwriteObjectè¿›è¡Œåºåˆ—åŒ–ä¸ååºåˆ—åŒ–ã€‚

```
transient int size = 0;
    transient Node<E> first;
    transient Node<E> last;
```

### 3\.LinkedListæ–°å¢å…ƒç´ 

LinkedListæ·»åŠ å…ƒç´ çš„å®ç°å¾ˆç®€æ´ï¼Œä½†æ·»åŠ çš„æ–¹å¼å´æœ‰å¾ˆå¤šç§ã€‚é»˜è®¤çš„add (Ee)æ–¹æ³•æ˜¯å°†æ·»åŠ çš„å…ƒç´ åŠ åˆ°é˜Ÿå°¾ï¼Œé¦–å…ˆæ˜¯å°†lastå…ƒç´ ç½®æ¢åˆ°ä¸´æ—¶å˜é‡ä¸­ï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„NodeèŠ‚ç‚¹å¯¹è±¡ï¼Œç„¶åå°†lastå¼•ç”¨æŒ‡å‘æ–°èŠ‚ç‚¹å¯¹è±¡ï¼Œä¹‹å‰çš„lastå¯¹è±¡çš„å‰æŒ‡é’ˆæŒ‡å‘æ–°èŠ‚ç‚¹å¯¹è±¡ã€‚

```
public boolean add(E e) {
        linkLast(e);
        return true;
    }

    void linkLast(E e) {
        final Node<E> l = last;
        final Node<E> newNode = new Node<>(l, e, null);
        last = newNode;
        if (l == null)
            first = newNode;
        else
            l.next = newNode;
        size++;
        modCount++;
    }
```

LinkedListä¹Ÿæœ‰æ·»åŠ å…ƒç´ åˆ°ä»»æ„ä½ç½®çš„æ–¹æ³•ï¼Œå¦‚æœæˆ‘ä»¬æ˜¯å°†å…ƒç´ æ·»åŠ åˆ°ä»»æ„ä¸¤ä¸ªå…ƒç´ çš„ä¸­é—´ä½ç½®ï¼Œæ·»åŠ å…ƒç´ æ“ä½œåªä¼šæ”¹å˜å‰åå…ƒç´ çš„å‰åæŒ‡é’ˆï¼ŒæŒ‡é’ˆå°†ä¼šæŒ‡å‘æ·»åŠ çš„æ–°å…ƒç´ ï¼Œæ‰€ä»¥ç›¸æ¯”ArrayListçš„æ·»åŠ æ“ä½œæ¥è¯´ï¼ŒLinkedListçš„æ€§èƒ½ä¼˜åŠ¿æ˜æ˜¾ã€‚

```
public void add(int index, E element) {
        checkPositionIndex(index);

        if (index == size)
            linkLast(element);
        else
            linkBefore(element, node(index));
    }

    void linkBefore(E e, Node<E> succ) {
        // assert succ != null;
        final Node<E> pred = succ.prev;
        final Node<E> newNode = new Node<>(pred, e, succ);
        succ.prev = newNode;
        if (pred == null)
            first = newNode;
        else
            pred.next = newNode;
        size++;
        modCount++;
    }
```

### 4\.LinkedListåˆ é™¤å…ƒç´ 

åœ¨LinkedListåˆ é™¤å…ƒç´ çš„æ“ä½œä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆè¦é€šè¿‡å¾ªç¯æ‰¾åˆ°è¦åˆ é™¤çš„å…ƒç´ ï¼Œå¦‚æœè¦åˆ é™¤çš„ä½ç½®å¤„äºListçš„å‰åŠæ®µï¼Œå°±ä»å‰å¾€åæ‰¾ï¼›è‹¥å…¶ä½ç½®å¤„äºååŠæ®µï¼Œå°±ä»åå¾€å‰æ‰¾ã€‚

è¿™æ ·åšçš„è¯ï¼Œæ— è®ºè¦åˆ é™¤è¾ƒä¸ºé å‰æˆ–è¾ƒä¸ºé åçš„å…ƒç´ éƒ½æ˜¯éå¸¸é«˜æ•ˆçš„ï¼Œä½†å¦‚æœListæ‹¥æœ‰å¤§é‡å…ƒç´ ï¼Œç§»é™¤çš„å…ƒç´ åˆåœ¨Listçš„ä¸­é—´æ®µï¼Œé‚£æ•ˆç‡ç›¸å¯¹æ¥è¯´ä¼šå¾ˆä½ã€‚

### 5\.LinkedListéå†å…ƒç´ 

LinkedListçš„è·å–å…ƒç´ æ“ä½œå®ç°è·ŸLinkedListçš„åˆ é™¤å…ƒç´ æ“ä½œåŸºæœ¬ç±»ä¼¼ï¼Œé€šè¿‡åˆ†å‰ååŠæ®µæ¥å¾ªç¯æŸ¥æ‰¾åˆ°å¯¹åº”çš„å…ƒç´ ã€‚ä½†æ˜¯é€šè¿‡è¿™ç§æ–¹å¼æ¥æŸ¥è¯¢å…ƒç´ æ˜¯éå¸¸ä½æ•ˆçš„ï¼Œç‰¹åˆ«æ˜¯åœ¨forå¾ªç¯éå†çš„æƒ…å†µä¸‹ï¼Œæ¯ä¸€æ¬¡å¾ªç¯éƒ½ä¼šå»éå†åŠä¸ªListã€‚

æ‰€ä»¥åœ¨LinkedListå¾ªç¯éå†æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨iteratoræ–¹å¼è¿­ä»£å¾ªç¯ï¼Œç›´æ¥æ‹¿åˆ°æˆ‘ä»¬çš„å…ƒç´ ï¼Œè€Œä¸éœ€è¦é€šè¿‡å¾ªç¯æŸ¥æ‰¾Listã€‚

## æ€»ç»“

å‰é¢æˆ‘ä»¬å·²ç»ä»æºç çš„å®ç°è§’åº¦æ·±å…¥äº†è§£äº†ArrayListå’ŒLinkedListçš„å®ç°åŸç†ä»¥åŠå„è‡ªçš„ç‰¹ç‚¹ã€‚å¦‚æœä½ èƒ½å……åˆ†ç†è§£è¿™äº›å†…å®¹ï¼Œå¾ˆå¤šå®é™…åº”ç”¨ä¸­çš„ç›¸å…³æ€§èƒ½é—®é¢˜ä¹Ÿå°±è¿åˆƒè€Œè§£äº†ã€‚

å°±åƒå¦‚æœç°åœ¨è¿˜æœ‰äººè·Ÿä½ è¯´ï¼Œâ€œArrayListå’ŒLinkedListåœ¨æ–°å¢ã€åˆ é™¤å…ƒç´ æ—¶ï¼ŒLinkedListçš„æ•ˆç‡è¦é«˜äºArrayListï¼Œè€Œåœ¨éå†çš„æ—¶å€™ï¼ŒArrayListçš„æ•ˆç‡è¦é«˜äºLinkedListâ€ï¼Œä½ è¿˜ä¼šè¡¨ç¤ºèµåŒå—ï¼Ÿ

ç°åœ¨æˆ‘ä»¬ä¸å¦¨é€šè¿‡å‡ ç»„æµ‹è¯•æ¥éªŒè¯ä¸€ä¸‹ã€‚è¿™é‡Œå› ä¸ºç¯‡å¹…é™åˆ¶ï¼Œæ‰€ä»¥æˆ‘å°±ç›´æ¥ç»™å‡ºæµ‹è¯•ç»“æœäº†ï¼Œå¯¹åº”çš„æµ‹è¯•ä»£ç ä½ å¯ä»¥è®¿é—®[Github](<https://github.com/nickliuchao/collection>)æŸ¥çœ‹å’Œä¸‹è½½ã€‚

**1\.ArrayListå’ŒLinkedListæ–°å¢å…ƒç´ æ“ä½œæµ‹è¯•**

- ä»é›†åˆå¤´éƒ¨ä½ç½®æ–°å¢å…ƒç´ 
- ä»é›†åˆä¸­é—´ä½ç½®æ–°å¢å…ƒç´ 
- ä»é›†åˆå°¾éƒ¨ä½ç½®æ–°å¢å…ƒç´ 

<!-- -->

æµ‹è¯•ç»“æœ(èŠ±è´¹æ—¶é—´)ï¼š

- ArrayList>LinkedList
- ArrayList<LinkedList
- ArrayList<LinkedList

<!-- -->

é€šè¿‡è¿™ç»„æµ‹è¯•ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“LinkedListæ·»åŠ å…ƒç´ çš„æ•ˆç‡æœªå¿…è¦é«˜äºArrayListã€‚

ç”±äºArrayListæ˜¯æ•°ç»„å®ç°çš„ï¼Œè€Œæ•°ç»„æ˜¯ä¸€å—è¿ç»­çš„å†…å­˜ç©ºé—´ï¼Œåœ¨æ·»åŠ å…ƒç´ åˆ°æ•°ç»„å¤´éƒ¨çš„æ—¶å€™ï¼Œéœ€è¦å¯¹å¤´éƒ¨ä»¥åçš„æ•°æ®è¿›è¡Œå¤åˆ¶é‡æ’ï¼Œæ‰€ä»¥æ•ˆç‡å¾ˆä½ï¼›è€ŒLinkedListæ˜¯åŸºäºé“¾è¡¨å®ç°ï¼Œåœ¨æ·»åŠ å…ƒç´ çš„æ—¶å€™ï¼Œé¦–å…ˆä¼šé€šè¿‡å¾ªç¯æŸ¥æ‰¾åˆ°æ·»åŠ å…ƒç´ çš„ä½ç½®ï¼Œå¦‚æœè¦æ·»åŠ çš„ä½ç½®å¤„äºListçš„å‰åŠæ®µï¼Œå°±ä»å‰å¾€åæ‰¾ï¼›è‹¥å…¶ä½ç½®å¤„äºååŠæ®µï¼Œå°±ä»åå¾€å‰æ‰¾ã€‚å› æ­¤LinkedListæ·»åŠ å…ƒç´ åˆ°å¤´éƒ¨æ˜¯éå¸¸é«˜æ•ˆçš„ã€‚

åŒä¸Šå¯çŸ¥ï¼ŒArrayListåœ¨æ·»åŠ å…ƒç´ åˆ°æ•°ç»„ä¸­é—´æ—¶ï¼ŒåŒæ ·æœ‰éƒ¨åˆ†æ•°æ®éœ€è¦å¤åˆ¶é‡æ’ï¼Œæ•ˆç‡ä¹Ÿä¸æ˜¯å¾ˆé«˜ï¼›LinkedListå°†å…ƒç´ æ·»åŠ åˆ°ä¸­é—´ä½ç½®ï¼Œæ˜¯æ·»åŠ å…ƒç´ æœ€ä½æ•ˆç‡çš„ï¼Œå› ä¸ºé è¿‘ä¸­é—´ä½ç½®ï¼Œåœ¨æ·»åŠ å…ƒç´ ä¹‹å‰çš„å¾ªç¯æŸ¥æ‰¾æ˜¯éå†å…ƒç´ æœ€å¤šçš„æ“ä½œã€‚

è€Œåœ¨æ·»åŠ å…ƒç´ åˆ°å°¾éƒ¨çš„æ“ä½œä¸­ï¼Œæˆ‘ä»¬å‘ç°ï¼Œåœ¨æ²¡æœ‰æ‰©å®¹çš„æƒ…å†µä¸‹ï¼ŒArrayListçš„æ•ˆç‡è¦é«˜äºLinkedListã€‚è¿™æ˜¯å› ä¸ºArrayListåœ¨æ·»åŠ å…ƒç´ åˆ°å°¾éƒ¨çš„æ—¶å€™ï¼Œä¸éœ€è¦å¤åˆ¶é‡æ’æ•°æ®ï¼Œæ•ˆç‡éå¸¸é«˜ã€‚è€ŒLinkedListè™½ç„¶ä¹Ÿä¸ç”¨å¾ªç¯æŸ¥æ‰¾å…ƒç´ ï¼Œä½†LinkedListä¸­å¤šäº†newå¯¹è±¡ä»¥åŠå˜æ¢æŒ‡é’ˆæŒ‡å‘å¯¹è±¡çš„è¿‡ç¨‹ï¼Œæ‰€ä»¥æ•ˆç‡è¦ä½äºArrayListã€‚

è¯´æ˜ä¸€ä¸‹ï¼Œè¿™é‡Œæˆ‘æ˜¯åŸºäºArrayListåˆå§‹åŒ–å®¹é‡è¶³å¤Ÿï¼Œæ’é™¤åŠ¨æ€æ‰©å®¹æ•°ç»„å®¹é‡çš„æƒ…å†µä¸‹è¿›è¡Œçš„æµ‹è¯•ï¼Œå¦‚æœæœ‰åŠ¨æ€æ‰©å®¹çš„æƒ…å†µï¼ŒArrayListçš„æ•ˆç‡ä¹Ÿä¼šé™ä½ã€‚

**2\.ArrayListå’ŒLinkedListåˆ é™¤å…ƒç´ æ“ä½œæµ‹è¯•**

- ä»é›†åˆå¤´éƒ¨ä½ç½®åˆ é™¤å…ƒç´ 
- ä»é›†åˆä¸­é—´ä½ç½®åˆ é™¤å…ƒç´ 
- ä»é›†åˆå°¾éƒ¨ä½ç½®åˆ é™¤å…ƒç´ 

<!-- -->

æµ‹è¯•ç»“æœ(èŠ±è´¹æ—¶é—´)ï¼š

- ArrayList>LinkedList
- ArrayList<LinkedList
- ArrayList<LinkedList

<!-- -->

ArrayListå’ŒLinkedListåˆ é™¤å…ƒç´ æ“ä½œæµ‹è¯•çš„ç»“æœå’Œæ·»åŠ å…ƒç´ æ“ä½œæµ‹è¯•çš„ç»“æœå¾ˆæ¥è¿‘ï¼Œè¿™æ˜¯ä¸€æ ·çš„åŸç†ï¼Œæˆ‘åœ¨è¿™é‡Œå°±ä¸é‡å¤è®²è§£äº†ã€‚

**3\.ArrayListå’ŒLinkedListéå†å…ƒç´ æ“ä½œæµ‹è¯•**

- for(;;)å¾ªç¯
- è¿­ä»£å™¨è¿­ä»£å¾ªç¯

<!-- -->

æµ‹è¯•ç»“æœ(èŠ±è´¹æ—¶é—´)ï¼š

- ArrayList<LinkedList
- ArrayListâ‰ˆLinkedList

<!-- -->

æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼ŒLinkedListçš„forå¾ªç¯æ€§èƒ½æ˜¯æœ€å·®çš„ï¼Œè€ŒArrayListçš„forå¾ªç¯æ€§èƒ½æ˜¯æœ€å¥½çš„ã€‚

è¿™æ˜¯å› ä¸ºLinkedListåŸºäºé“¾è¡¨å®ç°çš„ï¼Œåœ¨ä½¿ç”¨forå¾ªç¯çš„æ—¶å€™ï¼Œæ¯ä¸€æ¬¡forå¾ªç¯éƒ½ä¼šå»éå†åŠä¸ªListï¼Œæ‰€ä»¥ä¸¥é‡å½±å“äº†éå†çš„æ•ˆç‡ï¼›ArrayListåˆ™æ˜¯åŸºäºæ•°ç»„å®ç°çš„ï¼Œå¹¶ä¸”å®ç°äº†RandomAccessæ¥å£æ ‡å¿—ï¼Œæ„å‘³ç€ArrayListå¯ä»¥å®ç°å¿«é€Ÿéšæœºè®¿é—®ï¼Œæ‰€ä»¥forå¾ªç¯æ•ˆç‡éå¸¸é«˜ã€‚

LinkedListçš„è¿­ä»£å¾ªç¯éå†å’ŒArrayListçš„è¿­ä»£å¾ªç¯éå†æ€§èƒ½ç›¸å½“ï¼Œä¹Ÿä¸ä¼šå¤ªå·®ï¼Œæ‰€ä»¥åœ¨éå†LinkedListæ—¶ï¼Œæˆ‘ä»¬è¦åˆ‡å¿Œä½¿ç”¨forå¾ªç¯éå†ã€‚

## æ€è€ƒé¢˜

æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä½¿ç”¨forå¾ªç¯éå†åˆ é™¤æ“ä½œArrayListæ•°ç»„çš„ä¾‹å­ï¼Œæ€è€ƒä¸‹ArrayListæ•°ç»„çš„åˆ é™¤æ“ä½œåº”è¯¥æ³¨æ„çš„ä¸€äº›é—®é¢˜ã€‚

```
public static void main(String[] args)
    {
        ArrayList<String> list = new ArrayList<String>();
        list.add("a");
        list.add("a");
        list.add("b");
        list.add("b");
        list.add("c");
        list.add("c");
        remove(list);//åˆ é™¤æŒ‡å®šçš„â€œbâ€å…ƒç´ 

        for(int i=0; i<list.size(); i++)("c")()()(s : list) 
        {
            System.out.println("element : " + s)list.get(i)
        }
    }
```

ä»ä¸Šé¢çš„ä»£ç æ¥çœ‹ï¼Œæˆ‘å®šä¹‰äº†ä¸€ä¸ªArrayListæ•°ç»„ï¼Œé‡Œé¢æ·»åŠ äº†ä¸€äº›å…ƒç´ ï¼Œç„¶åæˆ‘é€šè¿‡removeåˆ é™¤æŒ‡å®šçš„å…ƒç´ ã€‚è¯·é—®ä»¥ä¸‹ä¸¤ç§å†™æ³•ï¼Œå“ªç§æ˜¯æ­£ç¡®çš„ï¼Ÿ

å†™æ³•1ï¼š

```
public static void remove(ArrayList<String> list) 
    {
        Iterator<String> it = list.iterator();
        
        while (it.hasNext()) {
            String str = it.next();
            
            if (str.equals("b")) {
                it.remove();
            }
        }

    }
```

å†™æ³•2ï¼š

```
public static void remove(ArrayList<String> list) 
    {
        for (String s : list)
        {
            if (s.equals("b")) 
            {
                list.remove(s);
            }
        }
    }
```

æœŸå¾…åœ¨ç•™è¨€åŒºçœ‹åˆ°ä½ çš„ç­”æ¡ˆã€‚ä¹Ÿæ¬¢è¿ä½ ç‚¹å‡»â€œè¯·æœ‹å‹è¯»â€ï¼ŒæŠŠä»Šå¤©çš„å†…å®¹åˆ†äº«ç»™èº«è¾¹çš„æœ‹å‹ï¼Œé‚€è¯·ä»–ä¸€èµ·å­¦ä¹ ã€‚

![unpreview](<https://static001.geekbang.org/resource/image/bb/67/bbe343640d6b708832c4133ec53ed967.jpg>)

## ç²¾é€‰ç•™è¨€(75)

- ![img](05%20_%20ArrayList%E8%BF%98%E6%98%AFLinkedList%EF%BC%9F%E4%BD%BF%E7%94%A8%E4%B8%8D%E5%BD%93%E6%80%A7%E8%83%BD%E5%B7%AE%E5%8D%83%E5%80%8D.resource/resize,m_fill,h_34,w_34.jpeg)

  é™†ç¦»

  ç½®é¡¶

  å¯¹äºarraylistå’Œlinkedlistçš„æ€§èƒ½ä»¥å‰ä¸€ç›´éƒ½æ˜¯äººäº‘äº¦äº‘ï¼Œå¤§å®¶éƒ½è¯´æ˜¯è¿™æ ·é‚£å°±è¿™æ ·å§ï¼Œæˆ‘ä¹Ÿä»æ¥æ²¡æœ‰è‡ªå·±å»éªŒè¯è¿‡ï¼Œæ²¡æƒ³è¿‡å› æ“ä½œä½ç½®çš„ä¸åŒå·®å¼‚è¿˜æŒºå¤§ã€‚ å½“ç„¶è¿™é‡Œé¢æœ‰ä¸€ä¸ªå‰æï¼Œé‚£å°±æ˜¯arraylistçš„åˆå§‹å¤§å°è¦è¶³å¤Ÿå¤§ã€‚ æ€è€ƒé¢˜æ˜¯ç¬¬ä¸€ä¸ªæ˜¯æ­£ç¡®çš„ï¼Œç¬¬äºŒä¸ªè™½ç„¶ç”¨çš„æ˜¯foreachè¯­æ³•ç³–ï¼Œéå†çš„æ—¶å€™ç”¨çš„ä¹Ÿæ˜¯è¿­ä»£å™¨éå†ï¼Œä½†æ˜¯åœ¨removeæ“ä½œæ—¶ä½¿ç”¨çš„æ˜¯åŸå§‹æ•°ç»„listçš„removeï¼Œè€Œä¸æ˜¯è¿­ä»£å™¨çš„removeã€‚ è¿™æ ·å°±ä¼šé€ æˆmodCound != exceptedModeCountï¼Œè¿›è€ŒæŠ›å‡ºå¼‚å¸¸ã€‚

  ä½œè€…å›å¤: é™†ç¦»åŒå­¦ä¸€ç›´ä¿æŒéå¸¸ç¨³å®šçš„å‘æŒ¥ï¼Œç­”æ¡ˆéå¸¸å‡†ç¡®ï¼

  2019-05-30

  *î˜²*2

  *î˜»*95

- ![img](https://static001.geekbang.org/account/avatar/00/12/91/50/e576a068.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  åˆ˜å¤©è‹¥Warner

  ç½®é¡¶

  è€å¸ˆï¼Œä¸ºä»€ä¹ˆç¬¬äºŒç§å°±ä¼šæŠ›å‡º`ConcurrentModificationException`å¼‚å¸¸å‘¢ï¼Œæˆ‘è§‰å¾—ç¬¬ä¸€ç§è¿­ä»£å™¨ä¼šæŠ›è¿™ä¸ªå¼‚å¸¸å•Š

  ä½œè€…å›å¤: for(:)å¾ªç¯[è¿™é‡ŒæŒ‡çš„ä¸æ˜¯for(;;)]æ˜¯ä¸€ä¸ªè¯­æ³•ç³–ï¼Œè¿™é‡Œä¼šè¢«è§£é‡Šä¸ºè¿­ä»£å™¨ï¼Œåœ¨ä½¿ç”¨è¿­ä»£å™¨éå†æ—¶ï¼ŒArrayListå†…éƒ¨åˆ›å»ºäº†ä¸€ä¸ªå†…éƒ¨è¿­ä»£å™¨iteratorï¼Œåœ¨ä½¿ç”¨next()æ–¹æ³•æ¥å–ä¸‹ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œä¼šä½¿ç”¨ArrayListé‡Œä¿å­˜çš„ä¸€ä¸ªç”¨æ¥è®°å½•Listä¿®æ”¹æ¬¡æ•°çš„å˜é‡modCountï¼Œä¸iteratorä¿å­˜äº†ä¸€ä¸ªexpectedModCountæ¥è¡¨ç¤ºæœŸæœ›çš„ä¿®æ”¹æ¬¡æ•°è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœä¸ç›¸ç­‰åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ï¼› è€Œåœ¨åœ¨foreachå¾ªç¯ä¸­è°ƒç”¨listä¸­çš„remove()æ–¹æ³•ï¼Œä¼šèµ°åˆ°fastRemove()æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¸æ˜¯iteratorä¸­çš„æ–¹æ³•ï¼Œè€Œæ˜¯ArrayListä¸­çš„æ–¹æ³•ï¼Œåœ¨è¯¥æ–¹æ³•åªåšäº†modCount++ï¼Œè€Œæ²¡æœ‰åŒæ­¥åˆ°expectedModCountã€‚ å½“å†æ¬¡éå†æ—¶ï¼Œä¼šå…ˆè°ƒç”¨å†…éƒ¨ç±»iteatorä¸­çš„hasNext(),å†è°ƒç”¨next(),åœ¨è°ƒç”¨next()æ–¹æ³•æ—¶ï¼Œä¼šå¯¹modCountå’ŒexpectedModCountè¿›è¡Œæ¯”è¾ƒï¼Œæ­¤æ—¶ä¸¤è€…ä¸ä¸€è‡´ï¼Œå°±æŠ›å‡ºäº†ConcurrentModificationExceptionå¼‚å¸¸ã€‚ æ‰€ä»¥å…³é”®æ˜¯ç”¨ArrayListçš„removeè¿˜æ˜¯iteratorä¸­çš„removeã€‚

  2019-05-30

  *î˜²*

  *î˜»*67

- ![img](https://static001.geekbang.org/account/avatar/00/10/e9/52/aa3be800.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  Loubobooo

  è¿™ä¸€é“æˆ‘ä¼šã€‚å¦‚æœæœ‰çœ‹è¿‡é˜¿é‡Œjavaè§„çº¦å°±çŸ¥é“ï¼Œåœ¨é›†åˆä¸­è¿›è¡Œremoveæ“ä½œæ—¶ï¼Œä¸è¦åœ¨ foreach å¾ªç¯é‡Œè¿›è¡Œå…ƒç´ çš„ remove/add æ“ä½œã€‚remove å…ƒç´ è¯·ä½¿ç”¨ Iteratoræ–¹å¼ï¼Œå¦‚æœå¹¶å‘æ“ä½œï¼Œéœ€è¦å¯¹ Iterator å¯¹è±¡åŠ é”ã€‚ <!-- è§„çº¦ç¬¬ä¸ƒæ¡ -->

  ä½œè€…å›å¤: ğŸ‘

  2019-06-01

  *î˜²*2

  *î˜»*31

- ![img](http://thirdwx.qlogo.cn/mmopen/vi_32/WtHCCMoLJ2DvzqQwPYZyj2RlN7eibTLMHDMTSO4xIKjfKR1Eh9L98AMkkZY7FmegWyGLahRQJ5ibPzeeFtfpeSow/132)

  è„±ç¼°çš„é‡é©¬__

  è€å¸ˆæ‚¨å¥½ï¼Œåœ¨æˆ‘çš„è®¤çŸ¥é‡Œé¢ï¼Œä¹‹æ‰€ä»¥æ•°ç»„éå†æ¯”é“¾è¡¨è¦å¿«ï¼Œåº”è¯¥è¿˜æœ‰ä¸€ä¸ªåº•å±‚çš„åŸå› ï¼Œå°±æ˜¯æºäºæ•°ç»„çš„å®ç°æ˜¯åœ¨å†…å­˜å½“ä¸­æ˜¯ä¸€å—è¿ç»­çš„å†…å­˜ç©ºé—´ï¼Œè€Œé“¾è¡¨æ‰€æœ‰å…ƒç´ å¯èƒ½åˆ†å¸ƒåœ¨å†…å­˜çš„ä¸åŒä½ç½®ï¼Œå¯¹äºæ•°ç»„è¿™ç§æ•°æ®ç»“æ„æ¥è¯´å¯¹CPUè¯»æ˜¯éå¸¸å‹å¥½çš„ï¼Œä¸ç®¡æ˜¯CPUä»å†…å­˜è¯»æ•°æ®è¯»åˆ°é«˜é€Ÿç¼“å­˜è¿˜æ˜¯çº¿ç¨‹ä»ç£ç›˜è¯»æ•°æ®åˆ°å†…å­˜æ—¶ï¼Œéƒ½ä¸åªæ˜¯è¯»å–éœ€è¦çš„é‚£éƒ¨åˆ†æ•°æ®ï¼Œè€Œæ˜¯è¯»å–ç›¸å…³è”çš„æŸä¸€å—åœ°å€æ•°æ®ï¼Œè¿™æ ·çš„è¯å¯¹äºåœ¨éå†æ•°ç»„çš„æ—¶å€™ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šæé«˜äº†CPUé«˜é€Ÿç¼“å­˜çš„å‘½ä¸­ç‡ï¼Œå‡å°‘äº†CPUè®¿é—®å†…å­˜çš„æ¬¡æ•°ä»è€Œæé«˜äº†æ•ˆç‡ï¼Œè¿™æ˜¯æˆ‘ç»“åˆè®¡ç®—æœºç›¸å…³åŸç†çš„è§’åº¦è€ƒè™‘çš„ä¸€ç‚¹ã€‚

  ä½œè€…å›å¤: èµï¼Œè¿™æ˜¯è®¡ç®—æœºåº•å±‚è®¿é—®æ•°ç»„å’Œé“¾è¡¨çš„å®ç°åŸç†ï¼Œæ•°ç»„å› ä¸ºå­˜å‚¨åœ°å€æ˜¯è¿ç»­çš„ï¼Œæ‰€ä»¥åœ¨æ¯æ¬¡è®¿é—®æŸä¸ªå…ƒç´ çš„æ—¶å€™ï¼Œä¼šå°†æŸä¸€å—è¿ç»­åœ°å€çš„æ•°æ®è¯»å–åˆ°CPUç¼“å­˜ä¸­ï¼Œè¿™ä¹Ÿæ˜¯æ•°ç»„æŸ¥è¯¢å¿«äºé“¾è¡¨çš„å…³é”®ã€‚

  2020-03-15

  *î˜²*

  *î˜»*26

- ![img](https://static001.geekbang.org/account/avatar/00/11/a6/10/3ff2e1a5.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)![img](05%20_%20ArrayList%E8%BF%98%E6%98%AFLinkedList%EF%BC%9F%E4%BD%BF%E7%94%A8%E4%B8%8D%E5%BD%93%E6%80%A7%E8%83%BD%E5%B7%AE%E5%8D%83%E5%80%8D.resource/resize,w_14.png)

  çš®çš®

  ç¬¬ä¸€ç§å†™æ³•æ­£ç¡®ï¼Œç¬¬äºŒç§ä¼šæŠ¥é”™ï¼ŒåŸå› æ˜¯ä¸Šè¿°ä¸¤ç§å†™æ³•éƒ½æœ‰ç”¨åˆ°listå†…éƒ¨è¿­ä»£å™¨Iteratorï¼Œè€Œåœ¨è¿­ä»£å™¨å†…éƒ¨æœ‰ä¸€ä¸ªå±æ€§æ˜¯exceptedmodcountï¼Œæ¯æ¬¡è°ƒç”¨nextå’Œremoveæ–¹æ³•æ—¶ä¼šæ£€æŸ¥è¯¥å€¼å’Œlistå†…éƒ¨çš„modcountæ˜¯å¦ä¸€è‡´ï¼Œä¸ä¸€è‡´ä¼šæŠ¥å¼‚å¸¸ã€‚é—®é¢˜ä¸­çš„ç¬¬äºŒç§å†™æ³•removeï¼ˆeï¼‰ï¼Œä¼šåœ¨æ¯æ¬¡è°ƒç”¨æ—¶modcount++ï¼Œè™½ç„¶è¿­ä»£å™¨çš„removeæ–¹æ³•ä¹Ÿä¼šè°ƒç”¨listçš„è¿™ä¸ªremoveï¼ˆeï¼‰æ–¹æ³•ï¼Œä½†æ¯æ¬¡è°ƒç”¨åè¿˜æœ‰ä¸€ä¸ªexceptedmodcount=modcountæ“ä½œï¼Œæ‰€ä»¥åç»­è°ƒç”¨nextæ—¶åˆ¤æ–­å°±ä¸ä¼šæŠ¥å¼‚å¸¸äº†ã€‚

  ä½œè€…å›å¤: å…³é”®åœ¨ç”¨è°çš„removeæ–¹æ³•ã€‚

  2019-05-30

  *î˜²*

  *î˜»*17

- ![img](https://static001.geekbang.org/account/avatar/00/0f/92/e4/abb7bfe3.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  TerryGoForIt

  è€å¸ˆæ‚¨å¥½ï¼Œæˆ‘æ¯”è¾ƒå¥½å¥‡çš„æ˜¯ä¸ºä»€ä¹ˆ ArrayList ä¸åƒ HashMap ä¸€æ ·åœ¨æ‰©å®¹æ—¶éœ€è¦ä¸€ä¸ªè´Ÿè½½å› å­å‘¢ï¼Ÿ

  ä½œè€…å›å¤: HashMapæœ‰è´Ÿè½½å› å­æ˜¯æ—¢è¦è€ƒè™‘æ•°ç»„å¤ªçŸ­ï¼Œå› å“ˆå¸Œå†²çªå¯¼è‡´é“¾è¡¨è¿‡é•¿è€Œå¯¼è‡´æŸ¥è¯¢æ€§èƒ½ä¸‹é™ï¼Œä¹Ÿè€ƒè™‘äº†æ•°ç»„è¿‡é•¿ï¼Œæ–°å¢æ•°æ®æ—¶æ€§èƒ½ä¸‹é™ã€‚è¿™ä¸ªè´Ÿè½½å› å­æ˜¯ç»¼åˆäº†æ•°ç»„å’Œé“¾è¡¨ä¸¤è€…çš„é•¿åº¦ï¼Œä¸èƒ½å¤ªå¤§ä¹Ÿä¸èƒ½å¤ªå°ã€‚è€ŒArrayListä¸éœ€è¦è¿™ç§è€ƒè™‘ã€‚

  2019-05-31

  *î˜²*

  *î˜»*14

- ![img](https://static001.geekbang.org/account/avatar/00/10/db/b2/29b4f22b.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  JasonZ

  linkedlistä½¿ç”¨iteratoræ¯”æ™®é€šforå¾ªç¯æ•ˆç‡é«˜ï¼Œæ˜¯ç”±äºéå†æ¬¡æ•°å°‘ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆæ–‡æ¡£å¯ä»¥å‚è€ƒä¹ˆï¼Ÿ

  ä½œè€…å›å¤: å› ä¸ºforå¾ªç¯éœ€è¦éå†é“¾è¡¨ï¼Œæ¯å¾ªç¯ä¸€æ¬¡å°±éœ€è¦éå†ä¸€æ¬¡æŒ‡å®šèŠ‚ç‚¹å‰çš„æ•°æ®ï¼Œæºç å¦‚ä¸‹: // è·å–åŒå‘é“¾è¡¨ä¸­æŒ‡å®šä½ç½®çš„èŠ‚ç‚¹        private Entry<E> entry(int index) {            if (index < 0 || index >= size)                throw new IndexOutOfBoundsException("Index: "+index+                                                    ", Size: "+size);            Entry<E> e = header;            // è·å–indexå¤„çš„èŠ‚ç‚¹ã€‚            // è‹¥index < åŒå‘é“¾è¡¨é•¿åº¦çš„1/2,åˆ™ä»å‰å…ˆåæŸ¥æ‰¾;            // å¦åˆ™ï¼Œä»åå‘å‰æŸ¥æ‰¾ã€‚            if (index < (size >> 1)) {                for (int i = 0; i <= index; i++)                    e = e.next;            } else {                for (int i = size; i > index; i--)                    e = e.previous;            }            return e;        } è€Œiteratoråœ¨ç¬¬ä¸€æ¬¡æ‹¿åˆ°ä¸€ä¸ªæ•°æ®åï¼Œä¹‹åçš„å¾ªç¯ä¸­ä¼šä½¿ç”¨Iteratorä¸­çš„next()æ–¹æ³•é‡‡ç”¨çš„æ˜¯é¡ºåºè®¿é—®ã€‚

  2019-06-09

  *î˜²*8

  *î˜»*11

- ![img](https://static001.geekbang.org/account/avatar/00/0f/4d/bb/abb7bfe3.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  csyangchsh

  æµ‹è¯•ä»£ç ä¸ä¸¥è°¨ï¼Œå»ºè®®ä½¿ç”¨JMHã€‚

  ä½œè€…å›å¤: å‰å®³äº†ï¼Œæ„Ÿè°¢å»ºè®®ã€‚è¿™é‡Œå¾ˆå¤šåŒå­¦æ²¡æœ‰äº†è§£è¿‡JMHæµ‹è¯•æ¡†æ¶ï¼Œæ‰€ä»¥æ²¡æœ‰ä½¿ç”¨ã€‚

  2019-05-30

  *î˜²*

  *î˜»*10

- ![img](https://static001.geekbang.org/account/avatar/00/12/f6/df/a576bfce.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  å»ºå›½

  è€å¸ˆï¼Œæ‚¨å¥½ï¼ŒlinkListæŸ¥æ‰¾å…ƒç´ é€šè¿‡åˆ†å‰ååŠæ®µï¼Œæ¯æ¬¡æŸ¥æ‰¾éƒ½è¦éå†åŠä¸ªlistï¼Œæ€ä¹ˆå°±çŸ¥é“å…ƒç´ æ˜¯å‡ºäºå‰åŠæ®µè¿˜æ˜¯ååŠæ®µçš„å‘¢ï¼Ÿ

  ä½œè€…å›å¤: è¿™ä¸ªæ˜¯éšæœºçš„ï¼Œå› ä¸ºåˆ†é…çš„å†…å­˜åœ°å€ä¸æ˜¯è¿ç»­çš„ã€‚

  2019-06-10

  *î˜²*4

  *î˜»*6

- ![img](https://static001.geekbang.org/account/avatar/00/10/18/ee/a1ed60d1.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  ABC

  è°¢è°¢è€å¸ˆæ˜ç™½äº†ï¼Œå¦‚æœç¬¬äºŒç§å†™æ³•æ¢æˆfor(;;)å°±ä¼šç›´æ¥è°ƒç”¨ArrayListçš„remove()æ–¹æ³•å°±ä¸ä¼šæŠ¥é”™äº†ã€‚ åœ¨ç¬¬äºŒç§å†™æ³•é‡Œé¢ç”¨foreachç›¸å½“äºæ˜¯ä½¿ç”¨ArrayListå†…éƒ¨çš„Itrç±»è¿›è¡Œéå†ï¼Œä½†åˆ é™¤æ•°æ®åˆæ˜¯ç”¨çš„ArrayListé‡Œé¢çš„remove()æ–¹æ³•ã€‚ä»è€Œå¯¼è‡´çŠ¶æ€ä¸ä¸€è‡´ï¼Œå¼•å‘æŠ¥é”™ã€‚

  2019-05-31

  *î˜²*

  *î˜»*6

- ![img](https://static001.geekbang.org/account/avatar/00/10/64/86/f5a9403a.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  å¤šè¥„ä¸¸

  modCountå±äºArrayList expectedModCountå±äºIterator å¢å¼ºforå¾ªç¯  æœ¬è´¨æ˜¯iteratoréå† iteratorå¾ªç¯  iteratoréå† å¢å¼ºforå¾ªç¯  è°ƒç”¨list.remove() ä¸ä¼šä¿®æ”¹åˆ°iteratorçš„expectedModCount, ä»è€Œå¯¼è‡´ è¿­ä»£å™¨çš„expectedModCount != ArrayListçš„modCound; è¿­ä»£å™¨ä¼šæŠ›å‡º concurrentModifiedException è€Œiteratoréå† çš„æ—¶å€™ ç”¨iterator. remove(); modCount ä¼šè¢«åŒæ­¥åˆ°expectedModCountä¸­å»ï¼ŒArrayListçš„modCount == Iteratorçš„exceptedModCountï¼Œæ‰€ä»¥ä¸ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚  è€å¸ˆå¯¹å…¶ä»–åŒå­¦çš„è¯„è®ºä»¥åŠæˆ‘çš„ç†è§£å°±æ˜¯è¿™æ ·ã€‚

  ä½œè€…å›å¤: èµ

  2019-12-24

  *î˜²*

  *î˜»*4

- ![img](https://static001.geekbang.org/account/avatar/00/12/07/cf/b0d6fe74.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  L.

  è€å¸ˆï¼Œéšæœºè®¿é—®åˆ°åº•æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿæ€ä¹ˆä¸ªéšæœºæ³•ï¼Ÿè°¢è°¢ï½

  ä½œè€…å›å¤: è¿™é‡ŒæŒ‡çš„æ˜¯ä¸éœ€è¦é€šè¿‡éå†å¯»å€ï¼Œå¯ä»¥é€šè¿‡indexç›´æ¥è®¿é—®åˆ°å†…å­˜åœ°å€ã€‚

  2019-08-06

  *î˜²*2

  *î˜»*4

- ![img](https://static001.geekbang.org/account/avatar/00/11/30/8a/b5ca7286.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  ä¸šä½™è‰

  è¯·é—®ï¼šList<A> list = new ArrayList<>(); for(int i=0;i++;i<1000){ A a = new A(); list.add(a); } å’Œ å’Œ  è¿™ä¸ª  List<A> list = new ArrayList<>(); A a; for(int i=0;i++;i<1000){ a = new A(); list.add(a); } æ•ˆç‡ä¸Šæœ‰å·®åˆ«å—ï¼Ÿä¸è¯´new ArrayList<>(); åˆå§‹åŒ–é—®é¢˜ã€‚å•çº¯è¯´åˆ›å»ºå¯¹è±¡è¿™ä¸€å—ã€‚è°¢è°¢ï¼

  ä½œè€…å›å¤: æ²¡å•¥åŒºåˆ«çš„ï¼Œå¯ä»¥å®é™…æ“ä½œè¯•è¯•

  2019-05-31

  *î˜²*

  *î˜»*3

- ![img](https://static001.geekbang.org/account/avatar/00/13/03/f7/3a493bec.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  è€æ¨åŒå¿—

  å†™æ³•ä¸€æ­£ç¡®ï¼Œå†™æ³•äºŒä¼šå¿«é€Ÿå¤±è´¥

  2019-05-30

  *î˜²*

  *î˜»*3

- ![img](https://static001.geekbang.org/account/avatar/00/11/10/90/5cb92311.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  éº¦å…œå¸ƒç†Š

  è€å¸ˆï¼Œä»€ä¹ˆåœºæ™¯ä¼šç”¨åˆ°linkedlistå‘¢ï¼Ÿæˆ‘å¥½åƒåªè§è¿‡Arraylistçš„ä»£ç å‘¢

  ä½œè€…å›å¤: åœ¨åšä¸€äº›ä¸šåŠ¡åŠŸèƒ½å¼€å‘æ—¶ï¼Œæˆ‘ä»¬å¹³å¸¸ç”¨çš„æœ€å¤šçš„æ˜¯ArrayListï¼Œå› ä¸ºArrayListå°±èƒ½æ»¡è¶³æˆ‘ä»¬çš„ä¸šåŠ¡éœ€æ±‚ï¼Œå•æ¬¡å¡«å……åˆ—è¡¨ä»¥åŠå•æ¬¡å…¨éƒ¨è¯»å–åˆ—è¡¨ã€‚ åˆ°ç»å¸¸æœ‰åˆ é™¤/æ’å…¥æ“ä½œçš„æƒ…å†µä¸‹é€‚åˆä½¿ç”¨LinkedListï¼Œä¾‹å¦‚æˆ‘ä»¬è¦å†™ä¸€ä¸ªç±»ä¼¼LRUç®—æ³•çš„ç¼“å­˜åŠŸèƒ½ï¼Œå°±å¯ä»¥ç”¨åˆ°LinkedListã€‚

  2020-03-31

  *î˜²*

  *î˜»*2

- ![img](https://static001.geekbang.org/account/avatar/00/11/a0/cb/aab3b3e7.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  å¼ ä¸‰ä¸°

  first/last æ–¹å¼å¯ä»¥åœ¨åˆå§‹åŒ– LinkedList çš„æ—¶å€™èŠ‚çœ new ä¸€ä¸ª Entryï¼› æ¥å›çœ‹è€å¸ˆçš„ä¸“æ ï¼Œè¿™æ˜¯ç¬¬ä¸‰éäº†ï¼Œæ¯æ¬¡éƒ½ä¼šæœ‰æ–°çš„ç†è§£ï¼ŒåŒæ—¶ä¹Ÿæœ‰æ–°çš„ç–‘é—®äº§ç”Ÿï¼Œæ¯”å¦‚ä¸Šè¾¹çš„é‚£å¥è¯ä»Šå¤©ä¸€ç›´æ²¡æœ‰æƒ³æ˜ç™½ã€‚ã€‚ã€‚ã€‚éº»çƒ¦è€å¸ˆè¯¦ç»†è§£ç­”ä¸€ä¸‹ã€‚

  2019-11-06

  *î˜²*1

  *î˜»*2

- ![img](https://static001.geekbang.org/account/avatar/00/12/03/c9/9a9d82ab.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  Aaron_æ¶›

  arrayListï¼Œforå¾ªç¯è®¿é—®å¿«æ˜¯å› ä¸ºå†…å­˜è¿ç»­ï¼Œå¯ä»¥æ•´ä¸ªç¼“å­˜è¡Œè¯»å–è¿›cpuç¼“å­˜ä¸­ï¼Œéå†ä¸‹ä¸ªçš„æ—¶å€™æ— éœ€å»å†…å­˜ä¸­è·å–ã€‚å¹¶ä¸æ˜¯å®ç°ä»€ä¹ˆéšæœºè·å–æ¥å£

  ä½œè€…å›å¤: æ˜¯çš„ï¼Œæ˜¯å› ä¸ºè¿ç»­å†…å­˜ã€‚åœ¨ä»£ç ä¸­ï¼Œç¨‹åºæ˜¯ä¸çŸ¥é“åº•å±‚å¼€è¾Ÿçš„å†…å­˜æƒ…å†µï¼Œæ‰€ä»¥éœ€è¦ä¸€ä¸ªç±»ä¼¼åºåˆ—åŒ–çš„æ¥å£æ ‡å¿—ï¼Œè¿™ä¸ªæ¥å£ä»…ä»…æ˜¯ä¸€ä¸ªæ ‡å¿—ï¼Œå¹¶ä¸æ˜¯å®ç°ã€‚

  2019-07-17

  *î˜²*2

  *î˜»*2

- ![img](http://thirdwx.qlogo.cn/mmopen/vi_32/U5tJTyH25kJA3eAtK0jKTmiaDGkFx4O1yOVjKnbnEQukTjDJCqhlKvLFaIZ6UVp3HcJK3GllMCRfDPU7wodslLQ/132)

  gavin

  è€å¸ˆå¥½ï¼Œæ€ä¹ˆç¡®å®šæ“ä½œé›†åˆæ˜¯ä»å¤´éƒ¨ã€ä¸­é—´ã€è¿˜æ˜¯å°¾éƒ¨æ“ä½œçš„å‘¢ï¼Ÿ

  ä½œè€…å›å¤: arraylistçš„addæ–¹æ³•é»˜è®¤æ˜¯ä»å°¾éƒ¨æ“ä½œï¼Œdeleteæ–¹æ³•å°±æ˜¯æ ¹æ®è‡ªå·±æŒ‡å®šçš„ä½ç½®æ¥åˆ é™¤ï¼›linkedlistçš„addæ–¹æ³•ä¹Ÿæ˜¯é»˜è®¤ä»å°¾éƒ¨æ’å…¥å…ƒç´ ï¼Œdeleteæ–¹æ³•ä¹Ÿæ˜¯æ ¹æ®æŒ‡å®šçš„å…ƒç´ æ¥åˆ é™¤ã€‚

  2019-06-11

  *î˜²*

  *î˜»*2

- ![img](https://static001.geekbang.org/account/avatar/00/0f/ae/d6/fbb8236d.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)![img](05%20_%20ArrayList%E8%BF%98%E6%98%AFLinkedList%EF%BC%9F%E4%BD%BF%E7%94%A8%E4%B8%8D%E5%BD%93%E6%80%A7%E8%83%BD%E5%B7%AE%E5%8D%83%E5%80%8D.resource/resize,w_14.png)

  DebugDog

  å†™æ³•ä¸€æ­£ç¡®ã€‚ è™½ç„¶éƒ½æ˜¯è°ƒç”¨äº†removeæ–¹æ³•ï¼Œä½†æ˜¯ä¸¤ä¸ªremoveæ–¹æ³•æ˜¯ä¸åŒçš„ã€‚ å†™æ³•äºŒæ˜¯æœ‰å¯èƒ½ä¼šæŠ¥ConcurrentModificationExceptionå¼‚å¸¸ã€‚ æ‰€ä»¥åœ¨ArrayListéå†åˆ é™¤å…ƒç´ æ—¶ä½¿ç”¨iteratoræ–¹å¼æˆ–è€…æ™®é€šçš„forå¾ªç¯ã€‚

  ä½œè€…å›å¤: å¯¹çš„ï¼Œä½¿ç”¨æ™®é€šå¾ªç¯ä¹Ÿéœ€è¦æ³¨æ„ã€‚

  2019-05-30

  *î˜²*

  *î˜»*2

- ![img](https://static001.geekbang.org/account/avatar/00/12/55/55/19ec7b0e.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  mickle

  ç¬¬äºŒç§ä¸è¡Œå§ï¼Œä¼šæŠ¥å¹¶å‘ä¿®æ”¹å¼‚å¸¸çš„

  2019-05-30

  *î˜²*

  *î˜»*2

- ![img](https://static001.geekbang.org/account/avatar/00/1f/4c/dd/c6035349.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)![img](05%20_%20ArrayList%E8%BF%98%E6%98%AFLinkedList%EF%BC%9F%E4%BD%BF%E7%94%A8%E4%B8%8D%E5%BD%93%E6%80%A7%E8%83%BD%E5%B7%AE%E5%8D%83%E5%80%8D.resource/resize,w_14.png)

  Bumblebee

  åˆ†æç¬¬äºŒä¸ªæ–¹æ³•ä¼šæŠ›ConcurrentModificationExceptionå¼‚å¸¸ï¼Œæˆ‘ä»¬è¿™ä¹ˆå…¥æ‰‹åº”è¯¥å¥½ç†è§£ä¸€ç‚¹ï¼Œå°†ç”Ÿæˆçš„classæ–‡ä»¶åç¼–è¯‘ç­‰åˆ°å¦‚ä¸‹ä»£ç ï¼š  public static void remove(List<String> list) {        Iterator var1 = list.iterator(); // â‘          while(var1.hasNext()) {            String s = (String)var1.next(); // â‘¡            if (s.equals("b")) {                list.remove(s); // â‘¢            }        }     } é¦–å…ˆæ˜ç¡® 1ï¼‰modCoundæ˜¯ArrayListçš„æˆå‘˜å˜é‡ç»§æ‰¿è‡ªAbstractListï¼› 2ï¼‰expectedModCountæ˜¯ArrayListå†…éƒ¨è¿­ä»£å™¨Itrçš„æˆå‘˜å˜é‡ï¼› æ‰§è¡Œåˆ°â‘ å¤„æ—¶ä¼šnewä¸€ä¸ªè¿­ä»£å™¨å¯¹è±¡ï¼Œè¿­ä»£å™¨å¯¹è±¡åˆ›å»ºæ—¶ä¼šå°†listå¯¹è±¡çš„æˆå‘˜å˜é‡modCoundèµ‹å€¼ç»™expectedModCountï¼› æ‰§è¡Œåˆ°â‘¡å¤„æ—¶ä¼šæ£€æŸ¥listå¯¹è±¡ä¸­çš„æˆå‘˜å˜é‡modCoundä¸è¿­ä»£å™¨var1å¯¹è±¡ä¸­çš„æˆå‘˜å˜é‡expectedModCountæ˜¯å¦ç›¸ç­‰ï¼Œä¸ç›¸ç­‰åˆ™æŠ›ConcurrentModificationExceptionå¼‚å¸¸ï¼› æ‰§è¡Œåˆ°â‘¢å¤„æ—¶å¯¹è±¡listçš„æˆå‘˜å˜é‡modCoundä¼šè¢«ä¿®æ”¹ï¼Œä½†æ˜¯è¿­ä»£å™¨var1å¯¹è±¡ä¸­çš„æˆå‘˜å˜é‡expectedModCountä¸ä¼šè¢«åŒæ­¥ä¿®å¤ï¼› å¾ªç¯æ‰§è¡Œå›åˆ°â‘¡å¤„æ—¶å°±æŠ›ConcurrentModificationExceptionå¼‚å¸¸ï¼›

  2022-05-08

  *î˜²*

  *î˜»*1

- ![img](https://static001.geekbang.org/account/avatar/00/24/79/cf/211f0208.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  éƒå¸Œå†›

  ç¬¬ä¸€ä¸ªæ˜¯æ­£ç¡®çš„å†™æ³•ï¼Œç¬¬äºŒç§å†™æ³•ä¼šæœ‰å¼‚å¸¸ï¼Œå› ä¸ºç›´æ¥æŠŠlistçš„æŸä¸ªä½ç½®åˆ é™¤ï¼Œä½†æ˜¯forå¾ªç¯ç¼–è¾‘å™¨åˆä¸çŸ¥é“å·²ç»è¢«åˆ é™¤ï¼Œç„¶åéå†åˆ°æœ€åä¸€ä¸ªçš„æ—¶å€™è‚¯å®šå¼‚å¸¸äº†ï¼Œè¿™é¢˜è¿˜æ˜¯æŒºç®€å•çš„

  2021-03-23

  *î˜²*

  *î˜»*1

- ![img](https://static001.geekbang.org/account/avatar/00/16/f0/07/92445721.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  æå¾·å¼º

  è‡ªå·±æ‰å‘é‡Œäº†! ArrayList<String> list = new ArrayList<String>();         list.add("a");        list.add("b");        list.add("c");        list.add("d");        list.add("e");         for (String item :  list) {            if (item.equals("d")) {                list.remove(item);            }        } è¿™ç§ç§»é™¤å”¯ä¸€ä¸”å€’æ•°ç¬¬äºŒä¸ªçš„ä¸ä¼šæŠ¥é”™ã€‚ åŸå› æ—¶åˆ¤æ–­hasNextæ—¶å°±è¿”å›äº†falseï¼Œæ²¡æœ‰æœºä¼šå»æ ¡éªŒmodCountäº†ã€‚

  ä½œè€…å›å¤: å¯¹çš„

  2019-08-19

  *î˜²*4

  *î˜»*1

- ![img](https://static001.geekbang.org/account/avatar/00/15/ff/0a/12faa44e.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  æ™“æ°

  å†™æ³•2ä¸æ­£ç¡®ï¼Œä½¿ç”¨forå¾ªç¯éå†å…ƒç´ çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœåˆ é™¤å…ƒç´ ï¼Œç”±äºmodCount != expectedModCountï¼Œä¼šæŠ›å‡ºConcurrentModificationExceptionå¼‚å¸¸

  ä½œè€…å›å¤: å¯¹çš„ï¼

  2019-05-30

  *î˜²*

  *î˜»*1

- ![img](https://static001.geekbang.org/account/avatar/00/0f/54/9a/76c0af70.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  æ¯å¤©æ™’ç™½ç‰™

  éœ€è¦ç”¨è¿­ä»£å™¨æ–¹å¼åˆ é™¤ forå¾ªç¯éå†åˆ é™¤ä¼šæŠ›å¹¶å‘ä¿®æ”¹å¼‚å¸¸

  ä½œè€…å›å¤: æ˜¯çš„ï¼Œä¸è¦ä½¿ç”¨è¿­ä»£å™¨å¾ªç¯æ—¶ç”¨ArrayListçš„removeæ–¹æ³•ï¼Œå…·ä½“åˆ†æå¯ä»¥çœ‹ç•™è¨€åŒºã€‚

  2019-05-30

  *î˜²*

  *î˜»*1

- ![img](https://static001.geekbang.org/account/avatar/00/1a/d8/5d/07dfb3b5.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)![img](05%20_%20ArrayList%E8%BF%98%E6%98%AFLinkedList%EF%BC%9F%E4%BD%BF%E7%94%A8%E4%B8%8D%E5%BD%93%E6%80%A7%E8%83%BD%E5%B7%AE%E5%8D%83%E5%80%8D.resource/resize,w_14.png)

  æ¯è«åœ

  ä¸€èˆ¬removeéƒ½æ˜¯å¯¹æŸä¸ªå…ƒç´ è¿›è¡Œæ“ä½œï¼Œæˆ‘ä»¬éå†åˆ é™¤çš„æ—¶å€™åšä¸ªåˆ¤æ–­ï¼Œå‘½ä¸­äº†ä¹‹åå°±åœæ­¢å¾ªç¯ï¼ŒmodCount++æ˜¯å…ˆåŠ åç”¨ï¼Œå› æ­¤ä¸ä¼šå½±å“removeæ“ä½œï¼Œè¿™æ ·å°±ä¸å­˜åœ¨æŠ›å¼‚å¸¸çš„é—®é¢˜äº†ã€‚

  2022-06-28

  *î˜²*

  *î˜»*

- ![img](https://static001.geekbang.org/account/avatar/00/1f/5d/82/81b2ba91.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  keep_it_real

  ä¸€ã€æ–°å¢ 1.ArrayListï¼š æ˜¯æœ«å°¾æ·»åŠ elementData[size++] = inputæ“ä½œï¼Œæ‰€ä»¥åœ¨ä¸éœ€è¦æ‰©å®¹çš„æƒ…å†µä¸‹ï¼Œaddçš„æ—¶é—´å¤æ‚åº¦æ˜¯O(1)ï¼Œè€Œéšæœºæ·»åŠ å°±éœ€è¦å¯¹æ·»åŠ ä½ç½®ä¹‹åçš„æ‰€æœ‰å…ƒç´ è¿›è¡ŒreHashï¼Œé‡æ–°åˆ†é…ç©ºé—´ï¼Œä¼šé€ æˆæ€§èƒ½æŸå¤±ï¼Œæ’å…¥å…ƒç´ è¶Šé å‰è¶Šä¸¥é‡ã€‚è€Œä¸”å¦‚æœæ•°ç»„é•¿åº¦è¾¾åˆ°é˜ˆå€¼è¿˜è¦æ‰©å®¹ã€‚ 2.LinkedList  addé»˜è®¤æœ«å°¾æ·»åŠ ï¼Œè€Œä¸”éšæœºæ·»åŠ åªæ˜¯æ”¹å˜å‰ånodeçš„åæŒ‡é’ˆå’Œå‰ç»§æŒ‡é’ˆçš„æŒ‡å‘å³å¯ï¼Œç”±äºå®ƒçš„ç‰¹æ®Šçš„ç»“æ„æˆ‘ä»¬è¿˜å¯ä»¥é€‰æ‹©å¤´éƒ¨æ·»åŠ addFirst()å’Œå°¾éƒ¨æ·»åŠ linkLast() ç”±äºé“¾è¡¨åœ¨ç©ºé—´ä¸Šä¸æ˜¯è¿ç»­çš„ï¼Œè€Œæ˜¯é æŒ‡é’ˆè¿æ¥ï¼Œæ‰€ä»¥æ²¡å¿…è¦é‡æ–°åˆ†é…ç©ºé—´ï¼Œæ‰€ä»¥ä¸ç®¡æ˜¯æœ«å°¾æ·»åŠ è¿˜æ˜¯éšæœºæ·»åŠ æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯Oï¼ˆ1ï¼‰ äºŒã€åˆ é™¤ 1.ArrayListï¼š (1.)éšæœºè®¿å› ä¸ºä¸‹æ ‡çš„ç¼˜æ•…æ—¶é—´å¤æ‚åº¦æ˜¯Oï¼ˆ1ï¼‰ä½†åˆ é™¤å°±éœ€è¦æ‰¾åˆ°ç›®æ ‡å…ƒç´ ï¼Œå°±éœ€è¦éå†æ•°ç»„ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯O(n) (2)æ¯æ¬¡å¯¹å…ƒç´ ä¿®æ”¹æ“ä½œéƒ½ä¼šmodCount++ï¼Œæ˜¯ä¸ºäº†åˆ¤æ–­æ˜¯å¦å­˜åœ¨å¹¶å‘æ“ä½œï¼Œä½†åœ¨è°ƒç”¨Itrçš„next()æ–¹æ³•çš„æ—¶å€™ä¼šè°ƒç”¨checkForComodification()å¯¹è¿™ä¸ªå‚æ•°è¿›è¡Œæ£€æµ‹æ˜¯å¦åšäº†ä¿®æ”¹ï¼Œæ˜¯åˆ™æŠ›å¼‚å¸¸ã€‚ (3)æ­£ç¡®çš„removeå§¿åŠ¿æ˜¯éå†åˆ°ç›®æ ‡åˆ é™¤å…ƒç´ åˆ é™¤åç»ˆæ­¢å¾ªç¯ 2.LinkedList  å¯ä»¥å¤´éƒ¨/å°¾éƒ¨æ·»åŠ ï¼Œä¹Ÿå¯ä»¥å¤´éƒ¨å°¾éƒ¨ï¼ˆremoveFirst()/removeFirst()ï¼‰åˆ é™¤ï¼Œåˆ é™¤åŸç†å°±æ˜¯æŠŠå¤´éƒ¨å’Œå°¾éƒ¨èŠ‚ç‚¹éƒ½è®¾ä¸ºnullæ–¹ä¾¿GCå›æ”¶ï¼Œé€šä¿—ç‚¹è®²å°±æ˜¯æŠŠè¦åˆ é™¤çš„å…ƒç´ æ‹©å‡ºæ¥ã€‚ remove()æœ‰ä¸¤ç§ä¸€ç§æ˜¯åˆ é™¤ç›®æ ‡å…ƒç´ ï¼Œä¸€ç§æ˜¯æ ¹æ®ä¸‹æ ‡åˆ é™¤ï¼ˆä¸‹æ ‡åˆ é™¤å½“é“¾è¡¨ä¸ºç©ºæ˜¯ä¼šæŠ›å¼‚å¸¸ï¼‰ ä¸‰ã€éå† 1.ArrayListï¼š å®ç°äº†RandomAccessæ¥å£æ ‡è¯†éå†æ˜¯æ ¹æ®indexéšæœºè®¿é—®ï¼Œæ€§èƒ½ç›¸å¯¹è¦å¥½ 2.LinkedList  åœ¨ä½¿ç”¨ for å¾ªç¯çš„æ—¶å€™ï¼Œæ¯ä¸€æ¬¡ for å¾ªç¯éƒ½ä¼šå»éå†åŠä¸ª Listï¼Œæ‰€ä»¥ä¸¥é‡å½±å“äº†éå†çš„æ•ˆç‡

  2022-05-13

  *î˜²*

  *î˜»*

- ![img](https://static001.geekbang.org/account/avatar/00/25/4e/87/e78b0f25.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)![img](05%20_%20ArrayList%E8%BF%98%E6%98%AFLinkedList%EF%BC%9F%E4%BD%BF%E7%94%A8%E4%B8%8D%E5%BD%93%E6%80%A7%E8%83%BD%E5%B7%AE%E5%8D%83%E5%80%8D.resource/resize,w_14.png)

  Ywis

  removeæ–¹æ³•æ—¢ç„¶ä¸èƒ½ç”¨ï¼Œé‚£ä»–å­˜åœ¨çš„æ„ä¹‰æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ

  2022-04-27

  *î˜²*

  *î˜»*

- ![img](https://static001.geekbang.org/account/avatar/00/28/e3/a1/d50f2188.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)![img](05%20_%20ArrayList%E8%BF%98%E6%98%AFLinkedList%EF%BC%9F%E4%BD%BF%E7%94%A8%E4%B8%8D%E5%BD%93%E6%80%A7%E8%83%BD%E5%B7%AE%E5%8D%83%E5%80%8D.resource/resize,w_14.png)

  BeerBear

  æœ€åä¸€é“æ€è€ƒé¢˜ï¼Œå¦‚æœåšæ³•ä¸€ç§æ²¡æœ‰æŒ‡å®šä¼ å…¥çš„Listæ˜¯ä»€ä¹ˆç±»å‹ï¼Œåº”è¯¥ä¼˜å…ˆä¼ å…¥LinkedListï¼Œå› ä¸ºLinkedListåœ¨removeæ—¶æ€§èƒ½æ›´é«˜ã€‚

  2022-03-05

  *î˜²*

  *î˜»*

- ![img](https://static001.geekbang.org/account/avatar/00/28/91/91/428a27a3.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  å¹³æ°‘äººä¹‹åŠ©

  è¿­ä»£å™¨ä¼šæœ‰ä¸€ä¸ªæ•°ç»„ä¸‹æ ‡ï¼Œç›´æ¥åˆ é™¤ä¼šå¯¼è‡´ç©ºæŒ‡é’ˆã€‚å¦‚æœèµ°å…¶ä»–æ–¹æ³•ï¼Œå¯ä»¥ææˆå¥¶ç‰›æ•°ç»„listï¼Œä¹Ÿèƒ½ç›´æ¥åˆ é™¤ã€‚

  2021-07-03

  *î˜²*

  *î˜»*

- ![img](https://static001.geekbang.org/account/avatar/00/27/ac/29/8e75c8af.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  å¤æ—¥ç‚ç‚

  Fast failæœºåˆ¶

  2021-06-02

  *î˜²*

  *î˜»*

- ![img](http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJeVG7hJqOKibpfMzpnoVIfwDzoqAlbGM7RdQZ1nMTxN2BLRHdZejA19nLEBrLJyUR4eiavjm7wYt8g/132)

  Zuul

  è€å¸ˆä½ å¥½ï¼Œæœ‰ä¸€ä¸ªç–‘é—®ï¼ŒArrayListæ˜¯æ”¯æŒæ’åºçš„ï¼Œé‚£å¦‚æœ listé‡Œçš„å…ƒç´ æ˜¯ ã€2,5,8,12,14ã€‘ å¦‚æœç”¨é»˜è®¤çš„addæ·»åŠ ä¸€ä¸ª10ï¼Œä¸æ˜¯ä¹Ÿä¼šé‡æ’çš„å—ï¼Ÿ

  2021-04-30

  *î˜²*

  *î˜»*

- ![img](https://static001.geekbang.org/account/avatar/00/0f/81/d4/e92abeb4.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  Jecy-8

  å¦‚æœä½¿ç”¨for(;;)ï¼Œä¸ä¼šæŠ¥é”™ï¼Œä½†æ˜¯å¦‚æœæœ‰å¤šä¸ªéœ€è¦åˆ é™¤çš„å…ƒç´ æ—¶ä¼šæ¼æ‰æˆ–é”™åˆ ï¼Œå› æ­¤éœ€è¦åœ¨åˆ é™¤ä¹‹åiéœ€è¦é‡ç½®ä¸€ä¸‹ä½ç½® for (int i =0; i < list.size(); i ++) {            if (list.get(i).equals("b")) {                list.remove(list.get(i));                i --;            }        }

  2021-04-14

  *î˜²*

  *î˜»*

- ![img](https://static001.geekbang.org/account/avatar/00/18/40/cc/9ff93968.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  ğŸ„J

  3.LinkedList æ–°å¢å…ƒç´ ï¼šâ€œä¹‹å‰çš„ last å¯¹è±¡çš„å‰æŒ‡é’ˆæŒ‡å‘æ–°èŠ‚ç‚¹å¯¹è±¡â€æè¿°ä¸å¯¹å§ï¼Œæˆ‘çœ‹æºç æ˜¯ï¼š if (l == null)            first = newNode;        else            l.next = newNode; æ‰€ä»¥åº”è¯¥æ˜¯ï¼šå¦‚æœæ·»åŠ çš„æ˜¯ç¬¬ä¸€ä¸ªå…ƒç´ (l=null)ï¼Œåˆ™å°†lastå¼•ç”¨æŒ‡å‘æ–°èŠ‚ç‚¹å¯¹è±¡ä¹‹å‰çš„ last å¯¹è±¡çš„ä¸‹ä¸€ä¸ªï¼ˆnextï¼‰æŒ‡é’ˆæŒ‡å‘æ–°èŠ‚ç‚¹å¯¹è±¡â€

  2021-04-12

  *î˜²*

  *î˜»*

- ![img](https://static001.geekbang.org/account/avatar/00/10/ba/cd/1f91aa44.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  KK

  è€å¸ˆæ‚¨å¥½ï¼šæ€ä¹ˆçŸ¥é“linkedlisté‡‡ç”¨forï¼ˆï¼šï¼‰å¾ªç¯è°ƒç”¨å“ªä¸ªæ–¹æ³•å‘¢ï¼Ÿ

  2021-03-11

  *î˜²*

  *î˜»*

- ![img](https://static001.geekbang.org/account/avatar/00/13/49/69/c0fcf4e8.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  def

  åŸæ¥forEach è¯­æ³•ç³–å†™æ³•ä¹Ÿæ˜¯ç”¨åˆ°äº†å†…éƒ¨çš„Iteratorå»éå†çš„ï¼Œè¿™ä¸ªåœ°æ–¹ä¹‹å‰è¿˜çœŸçš„æ²¡æœ‰ç•™æ„åˆ°...

  2021-03-01

  *î˜²*

  *î˜»*

- ![img](https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erHVh5AkbfJMK2xQlM0vow6UlsOAUQI47tia6SnQsQAujd0yGwRnOtibrEevkzEcdatzBdnCPnd8GyA/132)

  Geek_d2186f

  ç¬¬ä¸€ç§å¯ä»¥ï¼Œfor-eachä¸é€‚ç”¨äºaddå’Œremoveç­‰æ“ä½œï¼Œå¯¼è‡´list å…ƒç´ å˜åŒ–ã€‚

  2020-09-15

  *î˜²*

  *î˜»*

- ![img](https://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83erHVh5AkbfJMK2xQlM0vow6UlsOAUQI47tia6SnQsQAujd0yGwRnOtibrEevkzEcdatzBdnCPnd8GyA/132)

  Geek_d2186f

  ç¬¬ä¸€ç§æ–¹æ³•å’Œç¬¬ä¸‰ç§æ–¹æ³•éƒ½ä¼šå¯¼è‡´listä¸­å…ƒç´ å˜åŒ–ï¼Œä¸é€‚ç”¨äºaddå’Œremoveæ“ä½œï¼Œåªæœ‰ç¬¬äºŒç§è¯·æ±‚å¯ä»¥ç”¨äºaddå’Œremoveæ“ä½œã€‚

  2020-09-15

  *î˜²*

  *î˜»*

- ![img](https://static001.geekbang.org/account/avatar/00/10/43/79/18073134.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  test

  æ€»ç»“ï¼š 1. å¤´æ’å±…å¤šä¸”å…ƒç´ ä¸å›ºå®šï¼Œä½¿ç”¨LinkedListï¼Œå…¶ä»–æƒ…å†µä½¿ç”¨ArrayListï¼› 2. ä¸è¦ç”¨foræ¥éå†LinkedList. æ€è€ƒé¢˜: foreachä½¿ç”¨è¿­ä»£å™¨,ç¬¬ä¸€ä¸ªä½¿ç”¨äº†è¿­ä»£å™¨çš„removeï¼Œå¯è¡Œã€‚ç¬¬äºŒä¸ªä½¿ç”¨äº†listçš„removeï¼ŒmodCountä¼šå˜ï¼Œå†æ¬¡è°ƒç”¨nextæ—¶ä¼šæŠ¥é”™ã€‚è¿­ä»£å™¨ä½¿ç”¨modCountå®ç°fail-fastï¼Œä»¥ä¿è¯è¿­ä»£è¿‡ç¨‹ä¸­å¦‚æœå¤šçº¿ç¨‹æ”¹å˜äº†æ•°æ®åˆ™ç›´æ¥è·‘é”™ã€‚

  2020-08-14

  *î˜²*

  *î˜»*

- ![img](https://static001.geekbang.org/account/avatar/00/1a/71/e7/39cf45cc.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  åˆ«è¿‡æ¥ä½ ä¸‘åˆ°æˆ‘äº†(Â¬_Â¬)ï¾‰

  public static void main(String[] args) {        List<String> var0 = new ArrayList<String>() {            {                this.add("1");                this.add("2");                this.add("3");                this.add("4");            }        };        Iterator var1 = var0.iterator();         while(var1.hasNext()) {            String var2 = (String)var1.next();            if (var2.equals("3")) {                // æ­¤æ—¶è¿™é‡Œå¹¶ä¸ä¼šæŠ›å¼‚å¸¸ï¼Œä½†å½“ var2 = 1 or 2 or 4 æ—¶ï¼Œåˆ™éƒ½ä¼šæŠ›å¼‚å¸¸                var0.remove(var2);                // break;            }        }         System.out.println(var0);    } èƒŒæ™¯ï¼šJDK1.8ï¼Œä»¥ä¸Šä»£ç ä¸ºå¢å¼º for å¾ªç¯ remove å…ƒç´ åç¼–è¯‘åå¾—åˆ°çš„ä»£ç ã€‚ å¦‚ä»£ç æ‰€ç¤ºï¼Œå½“å…ƒç´ å€¼ç­‰äº 3 æ—¶ï¼Œremoveæ‰æ”¹å…ƒç´ ï¼ŒæŒ‰é“ç†åº”è¯¥æŠ›å¼‚å¸¸ï¼Œä½†æ˜¯æ²¡æœ‰ï¼Œæ¢æˆç­‰äº 1 æˆ–è€… 2 æˆ–è€… 4 çš„æ—¶å€™ï¼Œéƒ½ä¼šæŠ›å¼‚å¸¸ï¼Œdebug çš„æ—¶å€™å‘ç°ï¼Œç­‰äº 3 remove æ‰å…ƒç´ ä¹‹åï¼Œç›´æ¥é€€å‡º while å¾ªç¯äº†ï¼Œä½†æ˜¯æŒ‰é“ç† hasNext åº”è¯¥æ˜¯ true æ‰å¯¹å‘€ï¼Œæœ‰ç‚¹å›°æƒ‘ï¼Œæ±‚è€å¸ˆè§£ç­”~

  2020-08-04

  *î˜²*

  *î˜»*

- ![img](https://static001.geekbang.org/account/avatar/00/18/38/ca/7a151456.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  è™æ·‡æ·‡å¦ˆå¦ˆ

  ä¸­é—´ä½ç½®æ·»åŠ å…ƒç´ ï¼ŒArryListçš„ä»£ç æœ‰é—®é¢˜å•Š

  2020-05-31

  *î˜²*

  *î˜»*

- ![img](https://static001.geekbang.org/account/avatar/00/1b/ab/76/38975d8c.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  guohuibo

  public class LinkedList<E>    extends AbstractSequentialList<E>    implements List<E>, Deque<E>, Cloneable, java.io.Serializable è€å¸ˆæƒ³é—®ä¸ªé—®é¢˜ï¼ŒLinkedListç»§æ‰¿äº†AbstractSequentialList,ä½†æ˜¯AbstractSequentialListå·²ç»å®ç°äº†Listæ¥å£ï¼Œé‚£ä¹ˆä¸ºå•¥LinkedListè¿˜è¦å†æ¬¡å®ç°Listæ¥å£äº†?æœ‰ä»€ä¹ˆå¥½å¤„å—?

  2020-04-24

  *î˜²*

  *î˜»*

- ![img](https://static001.geekbang.org/account/avatar/00/11/a0/cb/aab3b3e7.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  å¼ ä¸‰ä¸°

  åªåœ¨æ•°ç»„æœ«å°¾æ·»åŠ å…ƒç´ ï¼Œé‚£ä¹ˆ ArrayList åœ¨å¤§é‡æ–°å¢å…ƒç´ çš„åœºæ™¯ä¸‹ï¼Œæ€§èƒ½å¹¶ä¸ä¼šå˜å·®ï¼Œåè€Œæ¯”å…¶ä»– List é›†åˆçš„æ€§èƒ½è¦å¥½ã€‚ è¿™ç§æƒ…å†µæ¯”linklistæ€§èƒ½å¥½çš„ä¾æ®æ˜¯ä»€ä¹ˆï¼Œæ¯•ç«Ÿlinkedlistæ˜¯åŒå‘é“¾è¡¨ï¼Œæ—¶é—´å¤æ‚åº¦ä¹Ÿæ˜¯O(1)å•Šã€‚

  2020-04-08

  *î˜²*

  *î˜»*

- ![img](https://static001.geekbang.org/account/avatar/00/12/f5/57/ce10fb1b.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  å¤©å¤©å‘ä¸Š

  å¯¹äºlinkedListçš„éå†ã€removeã€getæ–¹æ³•ï¼Œéƒ½ä¼šç”¨åˆ°java.util.LinkedList#nodeæ–¹æ³•ï¼Œè€Œè€å¸ˆè®²åˆ°çš„åˆ é™¤ä½ç½®çš„æŸ¥æ‰¾ï¼Œéå†çš„é—®é¢˜ï¼Œéƒ½æ˜¯å› ä¸ºè¿™ä¸ªæ–¹æ³•ä¸­çš„å†…å®¹ã€‚

  2019-12-22

  *î˜²*

  *î˜»*

- ![img](https://static001.geekbang.org/account/avatar/00/12/4d/5b/3ed7df22.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)![img](05%20_%20ArrayList%E8%BF%98%E6%98%AFLinkedList%EF%BC%9F%E4%BD%BF%E7%94%A8%E4%B8%8D%E5%BD%93%E6%80%A7%E8%83%BD%E5%B7%AE%E5%8D%83%E5%80%8D.resource/resize,w_14.png)

  æ€å¿†

  è¿™ä¸¤ç§éƒ½ä¸æ­£ç¡®ï¼Œå› ä¸ºå¢å¼ºforå¾ªç¯çš„åº•å±‚ä½¿ç”¨çš„æ˜¯è¿­ä»£å™¨ï¼Œå†åˆ é™¤è¿‡ç¨‹ä¸­ï¼ŒæŒ‡é’ˆå‘ç”Ÿå˜åŒ–ï¼Œæ‰€ä»¥ä¼šå¼‚å¸¸

  2019-11-18

  *î˜²*

  *î˜»*

- ![img](https://static001.geekbang.org/account/avatar/00/10/15/03/c0fe1dbf.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  è€ƒä¼‘

  æ€è€ƒé¢˜æ˜¯åˆçº§å¼€å‘è€…åœ¨ä½¿ç”¨removeçš„æ—¶å€™æ™®éé‡åˆ°çš„é—®é¢˜ï¼Œç¬¬ä¸€ä¸ªä½¿ç”¨è¿­ä»£å™¨æˆåŠŸï¼Œç¬¬äºŒä¸ªä¼šæŠ¥é”™ï¼

  2019-11-07

  *î˜²*

  *î˜»*

- ![img](https://static001.geekbang.org/account/avatar/00/11/a0/cb/aab3b3e7.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  å¼ ä¸‰ä¸°

  çœ‹äº†è€å¸ˆå¦‚ä¸‹çš„å›ç­”ä¸æ˜¯å¾ˆæ˜ç™½ï¼Œä¸ºä»€ä¹ˆæ•°ç»„è¿‡é•¿æ–°å¢æ•°æ®çš„æ€§èƒ½å°±ä¸‹é™äº†å‘¢ï¼Ÿå› ä¸ºæ•°ç»„è¶Šé•¿hashç¢°æ’çš„å‡ ç‡è¶Šå°ï¼Œé‚£ä¹ˆæ€§èƒ½è¶Šé«˜æ‰å¯¹ã€‚ è€å¸ˆæ‚¨å¥½ï¼Œæˆ‘æ¯”è¾ƒå¥½å¥‡çš„æ˜¯ä¸ºä»€ä¹ˆ ArrayList ä¸åƒ HashMap ä¸€æ ·åœ¨æ‰©å®¹æ—¶éœ€è¦ä¸€ä¸ªè´Ÿè½½å› å­å‘¢ï¼Ÿ ä½œè€…å›å¤: HashMapæœ‰è´Ÿè½½å› å­æ˜¯æ—¢è¦è€ƒè™‘æ•°ç»„å¤ªçŸ­ï¼Œå› å“ˆå¸Œå†²çªå¯¼è‡´é“¾è¡¨è¿‡é•¿è€Œå¯¼è‡´æŸ¥è¯¢æ€§èƒ½ä¸‹é™ï¼Œä¹Ÿè€ƒè™‘äº†æ•°ç»„è¿‡é•¿ï¼Œæ–°å¢æ•°æ®æ—¶æ€§èƒ½ä¸‹é™ã€‚è¿™ä¸ªè´Ÿè½½å› å­æ˜¯ç»¼åˆäº†æ•°ç»„å’Œé“¾è¡¨ä¸¤è€…çš„é•¿åº¦ï¼Œä¸èƒ½å¤ªå¤§ä¹Ÿä¸èƒ½å¤ªå°ã€‚è€ŒArrayListä¸éœ€è¦è¿™ç§è€ƒè™‘ã€‚

  ä½œè€…å›å¤: å› ä¸ºæ•°ç»„æ˜¯è¿ç»­æ€§çš„å­˜å‚¨ç»“æ„ï¼Œåœ¨æ–°å¢æ•°æ®æ—¶ï¼Œå¦‚æœä¸æ˜¯æƒ³æ•°ç»„å°¾éƒ¨é¡ºåºæ’å…¥å…ƒç´ ï¼Œåˆ™ä¼šæ¶‰åŠåˆ°å…¶ä»–æ•°æ®çš„é‡æ–°æ’åˆ—ï¼Œæ€§èƒ½å°±ä¼šå·®äº†ã€‚è™½ç„¶æŸ¥è¯¢æ€§èƒ½å¾ˆä¼˜ç§€ï¼Œä½†åœ¨æ–°å¢å’Œåˆ é™¤æ•°æ®æ—¶ï¼Œæ€§èƒ½å°±ä¼šå˜å·®äº†ã€‚ ç¬¬äºŒä¸ªé—®é¢˜å·²ç»å›ç­”äº†ã€‚

  2019-10-21

  *î˜²*

  *î˜»*

- ![img](https://static001.geekbang.org/account/avatar/00/0f/63/77/423345ab.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  Sdylan

  2019.10.09 æ‰“å¡ å¼€çœ¼ç•Œäº† ä»æºå¤´åˆ†æ å¾—åˆ°è‡ªå·±çš„ç»“è®º å€¼å¾—å­¦ä¹ ä¸€æŠŠ

  2019-10-09

  *î˜²*

  *î˜»*

- ![img](https://static001.geekbang.org/account/avatar/00/0f/67/f4/9a1feb59.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  é’±

  è¯¾åæ€è€ƒåŠé—®é¢˜ è¯·é—®è€å¸ˆä½ ä»”ç»†ç ”ç©¶è¿‡ArrayListå’ŒLinkedListä¹‹åï¼Œä½ è§‰å¾—ä»–ä»¬åœ¨æ€§èƒ½ä¸Šæ˜¯å¦åšåˆ°äº†æè‡´ï¼Ÿæ˜¯å¦è¿˜å­˜åœ¨ä¼˜åŒ–çš„ç©ºé—´ï¼Ÿ

  ä½œè€…å›å¤: æ€§èƒ½åº”è¯¥å¯¹åº”å…·ä½“åœºæ™¯æ¥åˆ†æï¼ŒåŒç†ï¼Œä¼˜åŒ–ç©ºé—´ä¹Ÿæ˜¯æ ¹æ®å…·ä½“åœºæ™¯æ¥è¿›è¡Œä¼˜åŒ–ã€‚ç›®å‰ï¼Œå¤§éƒ¨åˆ†é€šç”¨çš„æºç éƒ½æ˜¯å…¼å®¹äº†å¤§éƒ¨åˆ†åœºæ™¯æ¥å®ç°çš„ã€‚

  2019-09-07

  *î˜²*

  *î˜»*

- ![img](https://static001.geekbang.org/account/avatar/00/13/71/05/db554eba.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  ğŸ‘½

  å…ˆè¯´æ€è€ƒé¢˜   å†™æ³•1æ­£ç¡®ï¼Œåœ¨ForEachéå†ï¼Œæˆ–è€…foriéå†æ—¶ï¼Œæ˜¯ç¦æ­¢åœ¨å†…éƒ¨åˆ é™¤æ•°æ®çš„ï¼Œä¼šæŠ¥é”™ã€‚ è¿˜æœ‰å°±æ˜¯æ·»åŠ å…ƒç´ å’Œåˆ é™¤å…ƒç´ çš„é—®é¢˜ã€‚è¿™ä¸ªæµ‹è¯•ä¸ä¸¥è°¨ã€‚æ²¡æœ‰å†™æ˜æµ‹è¯•ç¯å¢ƒå’Œæµ‹è¯•ä»£ç ã€‚ä¹Ÿæ²¡æœ‰æµ‹è¯•æ•°æ®ã€‚ ä¸ªäººæµ‹è¯•çš„ç»“æœæ˜¯ï¼Œå…¨éƒ½æ˜¯ArrayListæ›´å¿«ã€‚ä¸ªäººè¡¨ç¤ºï¼Œä¹Ÿå‡ºä¹æˆ‘çš„æ„æ–™ã€‚æœ€èµ·ç åœ¨æˆ‘ä¸ªäººçš„ç†è§£é‡Œï¼Œé“¾è¡¨æ’å…¥æ•°æ®æ˜æ˜¾ä¼šæ›´å¿«ã€‚ å› ä¸ºä¸éœ€è¦è€ƒè™‘æ•°æ®æ‰©å®¹çš„é—®é¢˜ã€‚

  ä½œè€…å›å¤: å…·ä½“çš„æµ‹è¯•ä»£ç å¯ä»¥åœ¨githubä¸­æŸ¥çœ‹ï¼Œå¦‚æœå¯¹æµ‹è¯•ç»“æœæœ‰ç–‘é—®ï¼Œå¯ä»¥æ·±å…¥æºç æŸ¥çœ‹ç›¸åº”çš„å®ç°ï¼Œåˆ†ææ€§èƒ½ã€‚

  2019-09-06

  *î˜²*

  *î˜»*

- ![img](https://static001.geekbang.org/account/avatar/00/12/29/06/0b327738.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  Gankki

  è€å¸ˆï¼Œæ‚¨å¥½ã€‚LinkedList ä¸­ Node æ˜¯ç§æœ‰çš„é™æ€å†…éƒ¨ç±»ï¼Œé™¤äº†é˜²æ­¢å†…å­˜æ³„éœ²å—ï¼Ÿè¿˜æœ‰å…¶ä»–çš„è®¾è®¡è€ƒè™‘å—ï¼Ÿ

  ä½œè€…å›å¤: æŠŠè€å¸ˆè€ƒåˆ°äº†ï¼Œç°åœ¨æ•°æ®ç»“æ„è¿™å—å¾ˆå¤šéƒ½æ˜¯ä»¥è¿™ç§å†…éƒ¨ç±»æ¥è®¾è®¡çš„ï¼Œæ²¡æœ‰å‘ç°æœ‰ç‰¹åˆ«çš„è€ƒè™‘ã€‚

  2019-07-16

  *î˜²*

  *î˜»*

- ![img](https://static001.geekbang.org/account/avatar/00/10/60/81/cfc17578.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  æˆ‘æˆ’é…’äº†

  ArrayListTest çš„è¿™ä¸ªæµ‹è¯•æ–¹æ³•ç¬”è¯¯å†™é”™äº†å§	 public static void addFromMidTest(int DataNum) { 	ArrayList<String> list = new ArrayList<String>(DataNum); 	int i = 0; 	 	long timeStart = System.currentTimeMillis(); 	while (i < DataNum) { 		int temp = list.size(); 		list.add(temp/2+"aaavvv"); //æ­£ç¡®å†™æ³•list.add(temp/2, +"aaavvv"); 		i++; 	} 	long timeEnd = System.currentTimeMillis(); 		System.out.println("ArrayListä»é›†åˆä¸­é—´ä½ç½®æ–°å¢å…ƒç´ èŠ±è´¹çš„æ—¶é—´" + (timeEnd - timeStart)); }

  ä½œè€…å›å¤: å¯¹çš„ï¼Œæ„Ÿè°¢ç»†å¿ƒçš„ä½ æé†’

  2019-07-02

  *î˜²*

  *î˜»*

- ![img](data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABkAAD/4QN5aHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MCA3OS4xNjA0NTEsIDIwMTcvMDUvMDYtMDE6MDg6MjEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YWE3YmZhMDItMzBhMC00MDg3LTg3MmYtOGMwMjMxNjNhZWRjIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjI2MTlEODM3NTgzMTExRTk5NDY4Qjk3QUFCNDFBN0QzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjI2MTlEODM2NTgzMTExRTk5NDY4Qjk3QUFCNDFBN0QzIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OTYyRTNCMDNBREI4MTFFOEFFNTJDODlGREQ1OTUzMDMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OTYyRTNCMDRBREI4MTFFOEFFNTJDODlGREQ1OTUzMDMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRm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)

  åƒèƒ–äº†å†å‡è‚¥å†åƒå†å¥èº«ä¹‹è°œä¹‹ä¸...

  è€å¸ˆï¼Œæˆ‘ç”¨çš„æµ‹è¯•ä»£ç è¯•äº†å¥½å¤šæ¬¡ï¼Œåœ¨â€œä»é›†åˆå°¾éƒ¨ä½ç½®æ–°å¢å…ƒç´ â€è¿™ä¸ªåœºæ™¯ä¸‹ï¼Œæˆ‘æµ‹è¯•çš„ç»“æœæ˜¯â€œArrayList>LinkedListâ€ï¼Œä½ ä»£ç é‡Œé¢çš„1000000ï¼Œä¸€ç™¾ä¸‡æ¬¡éå†æ—¶ï¼Œä¼šæœ‰å°‘é‡çš„æƒ…å†µå‡ºç°â€œArrayList<LinkedListâ€ï¼Œæ‰€ä»¥æˆ‘è®²éå†æ¬¡æ•°å¢åŠ åˆ°10000000ï¼Œä¸€åƒä¸‡æ¬¡éå†ï¼Œæµ‹è¯•ç»“æœå¦‚ä¸‹ ç¬¬ä¸€æ¬¡ï¼š ArrayListä»é›†åˆå°¾éƒ¨ä½ç½®æ–°å¢å…ƒç´ èŠ±è´¹çš„æ—¶é—´4690 LinkedListä»é›†åˆå°¾éƒ¨ä½ç½®æ–°å¢å…ƒç´ èŠ±è´¹çš„æ—¶é—´2942 ç¬¬äºŒæ¬¡ï¼š ArrayListä»é›†åˆå°¾éƒ¨ä½ç½®æ–°å¢å…ƒç´ èŠ±è´¹çš„æ—¶é—´4655 LinkedListä»é›†åˆå°¾éƒ¨ä½ç½®æ–°å¢å…ƒç´ èŠ±è´¹çš„æ—¶é—´2798 ç¬¬ä¸‰æ¬¡ï¼š ArrayListä»é›†åˆå°¾éƒ¨ä½ç½®æ–°å¢å…ƒç´ èŠ±è´¹çš„æ—¶é—´5126 LinkedListä»é›†åˆå°¾éƒ¨ä½ç½®æ–°å¢å…ƒç´ èŠ±è´¹çš„æ—¶é—´2960 ä»è¿™ä¸ªåœºæ™¯çœ‹æ¥ï¼Œå¤§æ•°æ®é‡éå†çš„æƒ…å†µä¸‹ï¼ŒLinkedListæ–°å¢æ•°æ®æ¯”è¾ƒå¿«ï¼Œä¸çŸ¥é“æˆ‘è¿™ä¸ªéªŒè¯çš„ç»“æœæ˜¯å¦æ­£ç¡®ï¼ŒæœŸå¾…è€å¸ˆæŒ‡æ•™ï¼Œè°¢è°¢ï¼

  ä½œè€…å›å¤: è€å¸ˆæ²¡æœ‰åœ¨æŸ¥è¯¢æ—¶åŒæ—¶æ–°å¢æµ‹è¯•ï¼Œè€ƒè™‘çš„åªæ˜¯å•ä¸ªåœºæ™¯ä¸‹çš„æµ‹è¯•ã€‚ArrayListæ–°å¢éœ€è¦å›ºå®šä¸€ä¸ªåˆå§‹åŒ–å¤§å°ï¼Œå¦‚æœé»˜è®¤åˆå§‹åŒ–å¤§å°ï¼Œåˆ™ä¼šåœ¨æ–°å¢æ—¶å‡ºç°æ‰©å®¹çš„æƒ…å†µï¼Œè¿™æ ·æ€§èƒ½åè€Œä¼šé™ä½ã€‚

  2019-07-02

  *î˜²*

  *î˜»*

- ![img](https://static001.geekbang.org/account/avatar/00/16/7f/15/7d670139.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  æ— å¿§

  è€å¸ˆï¼Œä½ å¥½ã€‚ArrayListåˆ é™¤å…ƒç´ æ—¶å°†å¯¹åº”ä½ç½®å…ƒç´ è®¾ç½®ä¸ºnullã€‚ä»£ç æ³¨é‡Šè¯´GCä¼šå›æ”¶ï¼Œè¯·é—®å›æ”¶æ˜¯ä»€ä¹ˆæ—¶å€™è§¦å‘å‘¢ã€‚ å¦‚æœå…ƒç´ ä¸ºç©ºå°±ä¼šè¢«å›æ”¶çš„è¯ï¼ŒAreayListåœ¨æ‰©å®¹æ—¶æœªä½¿ç”¨çš„æ•°ç»„éƒ¨åˆ†ä¼šä¸ä¼šä¹Ÿæ˜¯ç©ºçš„è¢«å›æ”¶å‘¢ï¼Ÿ public E remove(int index) {        rangeCheck(index);         modCount++;        E oldValue = elementData(index);         int numMoved = size - index - 1;        if (numMoved > 0)            System.arraycopy(elementData, index+1, elementData, index,                             numMoved);        elementData[--size] = null; // clear to let GC do its work         return oldValue;    }

  2019-06-20

  *î˜²*

  *î˜»*

- ![img](https://static001.geekbang.org/account/avatar/00/16/7f/15/7d670139.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  æ— å¿§

  è€å¸ˆä½ å¥½ã€‚ArrayListsåˆ é™¤å…ƒç´ æ—¶ public E remove(int index) {        rangeCheck(index);         modCount++;        E oldValue = elementData(index);         int numMoved = size - index - 1;        if (numMoved > 0)            System.arraycopy(elementData, index+1, elementData, index,                             numMoved);        elementData[--size] = null; // clear to let GC do its work         return oldValue;    }

  2019-06-20

  *î˜²*2

  *î˜»*

- ![img](https://static001.geekbang.org/account/avatar/00/14/88/0a/31e6d5bb.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  ç å¾·çº½@å®

  æˆ‘ä¸ªäººæ„Ÿè§‰arraylistå’Œlinkedlistæ€§èƒ½æœ€å¤§çš„åŒºåˆ«åœ¨äºarraylistéœ€è¦é‡æ–°ç»„æ’å’Œæ‰©å®¹çš„å¼€é”€ã€‚

  2019-06-19

  *î˜²*

  *î˜»*

- ![img](https://static001.geekbang.org/account/avatar/00/13/71/05/db554eba.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  ğŸ‘½

  æºç ç²˜è´´ä¸å®Œã€‚å¤§æ¦‚æè¿°ä¸€ä¸‹ æ–¹æ³•1 æœ€åæ˜¯é€šè¿‡è°ƒç”¨è¿­ä»£å™¨remove(int index)ï¼Œæ˜¯ç›´æ¥åˆ é™¤å¯¹åº”ä¸‹æ ‡çš„å…ƒç´ ã€‚ æ–¹æ³•2 æœ€ç»ˆæ˜¯  å¦‚æœbå­˜åœ¨ï¼Œé‚£ä¹ˆè°ƒç”¨listçš„removeï¼ˆObject oï¼‰ï¼Œlistçš„removeæ˜¯åˆ é™¤æŒ‡å®šå¯¹è±¡equlseä¸ºtrueçš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚ æ–¹æ³•2 å…¶å®æ˜¯è½¬æ¢ä¸ºè¿­ä»£å™¨éå†ï¼Œè¿­ä»£å™¨éå†çš„è¿‡ç¨‹ä¸­ä½¿ç”¨äº†listçš„åˆ é™¤ï¼Œå¯¼è‡´è¿­ä»£å™¨ä¸‹æ ‡è¶Šç•Œã€‚ é¡ºä¾¿è¯´ä¸‹ï¼Œè‡ªè®¤ä¸ºè¿˜æœ‰æ–¹æ³•3 public static void remove3(ArrayList<String> list){    while (list.remove("b")){    }  } è¿™ç§æ–¹å¼åˆ é™¤å…ƒç´  å¥½åƒä¹Ÿæ˜¯å¯ä»¥çš„ã€‚

  2019-06-10

  *î˜²*

  *î˜»*

- ![img](https://static001.geekbang.org/account/avatar/00/17/db/74/d513e7d7.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  Bruce

  â€ä¹‹å‰çš„ last å¯¹è±¡çš„å‰æŒ‡é’ˆæŒ‡å‘æ–°èŠ‚ç‚¹å¯¹è±¡ã€‚â€ è¿™å¥è¯  ä¸ºä»€ä¹ˆæ˜¯å‰æŒ‡é’ˆå‘¢ ä»£ç é‡Œå†™çš„æ˜¯  l.next = newNode;

  2019-06-10

  *î˜²*

  *î˜»*

- ![img](https://static001.geekbang.org/account/avatar/00/16/ac/15/935acedb.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  iusugar

  è€å¸ˆï¼Œå¯ä»¥åœ¨ä»£ç å—å¤šåŠ ä¸€äº›æ³¨é‡Šå—ï¼Ÿæœ‰äº›å˜é‡å’Œæ–¹æ³•ä¸æ˜¯å¾ˆæ˜ç™½ã€‚åŸè°…æˆ‘æ¯”è¾ƒèœ...

  ç¼–è¾‘å›å¤: æ”¶åˆ°ï¼Œå’Œè€å¸ˆè¯´è¿‡äº†ï¼Œè¿™è®²çš„ä¼šå°½å¿«åŠ ä¸Šï¼Œæ„Ÿè°¢ä½ çš„å»ºè®®ï¼

  2019-06-06

  *î˜²*

  *î˜»*

- ![img](https://static001.geekbang.org/account/avatar/00/12/05/7f/d35ab9a1.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  z.l

  ç¬¬äºŒç§removeååŠ ä¸ªreturnå°±ä¸æŠ¥é”™äº†å§

  ä½œè€…å›å¤: æ˜¯ä¸ä¼šæŠ¥é”™äº†ï¼Œä½†å‰©ä½™çš„ä¸šåŠ¡å°±æ— æ³•è¿›è¡Œä¸‹å»äº†

  2019-06-05

  *î˜²*

  *î˜»*

- ![img](https://static001.geekbang.org/account/avatar/00/10/3b/36/2d61e080.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  è¡Œè€…

  æ‰€ä»¥å¥½åƒé‡åˆ°è¿™ç§é—®é¢˜ï¼Œä¸èƒ½ä¸€ä¸Šæ¥å°±å®šæ€§ï¼ŒArrayListå°±æ˜¯æ“…é•¿éšå³è®¿é—®ï¼ŒLinkedListå°±æ˜¯æ“…é•¿å¢åŠ ã€åˆ é™¤ã€‚è¦åŸºäºä¸åŒçš„æƒ…å†µå»åˆ†æé—®é¢˜ï¼Œä¼šè®©ä½ æœ‰æ–°çš„å‘ç°ã€‚

  2019-06-01

  *î˜²*

  *î˜»*

- ![img](https://static001.geekbang.org/account/avatar/00/0f/f8/ba/14e05601.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  çº¦ä¹¦äºš

  å®é™…åœºæ™¯ä½¿ç”¨ä¸­linked listçš„æ•ˆç‡åº”è¯¥è¿˜è¦æ›´ä½å§ï¼Ÿå› ä¸ºè¦è€ƒè™‘åˆ°å†…å­˜ç»“æ„ç´§å‡‘çš„é—®é¢˜ã€‚array liståœ¨åˆ é™¤æ—¶å€™ç§»åŠ¨å…ƒç´ ï¼Œå¾ˆå¤§å¯èƒ½æ˜¯åœ¨ä¸€ä¸ªcache lineä¸Šæ“ä½œï¼Œä¼šå¾ˆå¿«ï¼Œä½†linked listå°±æœªå¿…äº†ï¼šå†™æµ‹è¯•ä»£ç ï¼Œlinked listçš„å…ƒç´ æ€»æ˜¯è¿è´¯çš„ã€‚ä½†å®é™…ä½¿ç”¨åœºæ™¯ä¸€å®šæ˜¯ä¸è¿è´¯çš„ã€‚

  ä½œè€…å›å¤: å¾ˆèµæˆï¼Œéœ€è¦æ ¹æ®ä¸åŒçš„ä¸šåŠ¡åœºæ™¯è€ƒè™‘ï¼Œå®é™…åœºæ™¯ä¸­çš„é—®é¢˜æ›´å¤æ‚ã€‚

  2019-06-01

  *î˜²*

  *î˜»*

- ![img](http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLbBZ9iaHfebHH4kOzFvxvs8Hx5iaUruAZvE8Dj4nia0mk4uxLc2rRUZD0ic9uKdxLibib0dGSaibL6NGRUg/132)

  æ¸…é£æ‹‚é¢

  æ–‡ç¨¿å…³äºä»å¤´éƒ¨å’Œå°¾éƒ¨æ’å…¥æ–°å…ƒç´ æ‰€ç”¨æ—¶é—´é‚£ä¸€å—åäº†

  ç¼–è¾‘å›å¤: åŒå­¦ä½ å¥½ï½ä½ æ˜¯æƒ³è¯´ArrayListä»å¤´æ’å…¥å…ƒç´ å’Œä»å°¾éƒ¨æ’å…¥å…ƒç´ çš„é€Ÿåº¦é—®é¢˜å—ï¼Ÿä»å¤´éƒ¨æ’å…¥ï¼Œå­˜åœ¨æ•°ç»„å¤åˆ¶ï¼Œä»å°¾éƒ¨ä¸å­˜åœ¨ã€‚æ‰€ä»¥ä»å°¾éƒ¨æ’å…¥çš„é€Ÿåº¦è¦æ¯”å¤´éƒ¨å¿«ã€‚

  2019-06-01

  *î˜²*

  *î˜»*

- ![img](https://static001.geekbang.org/account/avatar/00/12/27/1d/1cb36854.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  å°è¾‰è¾‰

  ç¬¬ä¸€ç§æ˜¯å¯¹çš„ï¼Œç¬¬äºŒç§æƒ…å†µè¯´çš„å°±æ˜¯æˆ‘ä¹‹å‰å¹²è¿‡çš„äº‹æƒ…ï¼Œè€Œä¸”å½“æ—¶å‡ºç°æœ‰æ—¶æŠ¥é”™ï¼Œæœ‰æ—¶ä¸æŠ¥é”™ã€‚è‡ªå·±è¸©è¿‡çš„å‘ï¼Œè®°å¿†æ·±åˆ»ğŸ˜‚ğŸ˜‚ğŸ˜‚

  ä½œè€…å›å¤: å¸Œæœ›åœ¨è¿™ä¸ªä¸“æ åé¢æ›´å¤šçš„å¸®åŠ©åˆ°ä½ ï¼Œé¿å…è¸©å‘ï¼

  2019-05-30

  *î˜²*

  *î˜»*

- ![img](https://static001.geekbang.org/account/avatar/00/11/b0/35/44e5516e.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)![img](05%20_%20ArrayList%E8%BF%98%E6%98%AFLinkedList%EF%BC%9F%E4%BD%BF%E7%94%A8%E4%B8%8D%E5%BD%93%E6%80%A7%E8%83%BD%E5%B7%AE%E5%8D%83%E5%80%8D.resource/resize,w_14.png)

  é˜³é˜³

  å†™æ³•ä¸€æ˜¯æ­£ç¡®çš„ï¼Œå†™æ³•äºŒä¼šæŠ¥é”™ã€‚

  ä½œè€…å›å¤: ç­”å¯¹äº†

  2019-05-30

  *î˜²*

  *î˜»*

- ![img](https://static001.geekbang.org/account/avatar/00/14/5f/73/bb3dc468.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  æ‹’ç»

  è€å¸ˆï¼Œç”¨foreachå¾ªç¯åˆ é™¤é›†åˆé‡Œå€’æ•°ç¬¬äºŒä¸ªå…ƒç´ ï¼Œä¸ºä»€ä¹ˆä¸ä¼šæŠ¥é”™ï¼Ÿ

  2019-05-30

  *î˜²*

  *î˜»*

- ![img](https://static001.geekbang.org/account/avatar/00/10/fe/44/3e3040ac.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  ç¨‹åºå‘˜äººç”Ÿ

  ç¬¬ä¸€ç§æ˜¯å¯¹çš„ã€‚ç¬¬äºŒç§ä¼šæŠ¥java.util.ConcurrentModificationException

  2019-05-30

  *î˜²*

  *î˜»*

- ![img](https://static001.geekbang.org/account/avatar/00/16/65/c3/5324b326.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  åŠæ¸…é†’

  æ”¶è·é¢‡å¤šï¼ï¼

  2019-05-30

  *î˜²*

  *î˜»*

- ![img](https://static001.geekbang.org/account/avatar/00/11/48/75/02b4366a.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  ä¹˜åTornadoçš„çº¿ç¨‹é­”æ³•å¸ˆ

  è¯·é—®ä¸‹æ–‡ä¸­æåˆ°æœ‰å…³LinkedListåœ¨1.7ä¹‹åçš„æ”¹åŠ¨ï¼šfirst/last æ–¹å¼å¯ä»¥åœ¨åˆå§‹åŒ– LinkedList çš„æ—¶å€™èŠ‚çœ new ä¸€ä¸ª Entryã€‚åŸå› æ˜¯ï¼Ÿä½œè€…å¯å¦æŒ‡åä¸‹ï¼Œæ„Ÿè°¢ï¼

  2019-05-30

  *î˜²*

  *î˜»*

- ![img](https://static001.geekbang.org/account/avatar/00/12/79/4b/740f91ca.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  -W.LI-

  è€å¸ˆå¥½!è¿™ä¸ªæˆ‘æµ‹è¯•è¿‡ã€‚å¢åŠ å…ƒç´ çš„è¯ï¼Œå°±ç®—ä¸è®¾ç½®åˆå§‹å€¼ï¼Œarrayä¹Ÿæ¯”linkedå¿«ã€‚éšæœºï¼Œå¢åˆ çš„è¯ï¼Œå¢åˆ å…ƒç´ é è¿‘å‰éƒ¨çš„è¯linkedæ¯”arrayå¿«ã€‚listæ€»å…ƒç´ è¶Šå¤§ï¼Œlinkedæ¯”arrayå¿«çš„æ¯”ä¾‹è¶Šå°‘ã€‚æ ¹æ®å…ƒç´ çš„ä½å­ä¸arrayçš„æ€§èƒ½ä¼šæ¯”è¾ƒç¨³å®šï¼Œlinkedå·®åˆ«æŒºå¤§çš„ã€‚å¾ªç¯çš„è¯éƒ½ç”¨å¢å¼ºå‹forå¾ªç¯ï¼ŒåŸºæœ¬çœ‹ä¸å‡ºå¤šå¤§å·®åˆ«ã€‚æµ‹è¯•ç»“æœå’Œè€å¸ˆè®²çš„ç¬¦åˆã€‚è€å¸ˆæˆ‘æœ‰ä¸ªé—®é¢˜:ç½‘ä¸Šéƒ½è¯´å¢å¼ºå‹forå¾ªç¯åªæ˜¯ä¸ªè¯­æ³•ç³–åº•å±‚è¿˜æ˜¯è¿­ä»£å™¨éå†ã€‚è¯¾åä¹ é¢˜ç¬¬äºŒç§ä¼šæŠ¥é”™çš„å§?

  ä½œè€…å›å¤: å¦‚æœå­˜åœ¨å¤§é‡æ‰©å®¹ï¼Œæˆ‘ç›¸ä¿¡ä½ çš„æµ‹è¯•ä¸å‡†ç¡®ã€‚for(:)è¿™ç§å†™æ³•å°±æ˜¯å¢å¼ºå‹ï¼Œæ˜¯ä¸€ä¸ªè¯­æ³•ç³–ã€‚

  2019-05-30

  *î˜²*

  *î˜»*

- ![img](https://static001.geekbang.org/account/avatar/00/0f/8c/f7/a4de6f64.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  å¤§å«

  ä¸ºä»€ä¹ˆè¿­ä»£å™¨æ–¹å¼æ¯”foræ•ˆç‡è¦é«˜å‘¢? æœ€åçš„é—®é¢˜æ˜¯ä½¿ç”¨è¿­ä»£æ–¹å¼å»removeï¼Œç›´æ¥forå¾ªç¯éå†removeå¯èƒ½ä¼šå¯¼è‡´ConcurrentModifedExceptionå¼‚å¸¸

  ä½œè€…å›å¤: å› ä¸ºå¯ä»¥å‡å°‘éå†çš„å‘ç”Ÿã€‚

  2019-05-30

  *î˜²*

  *î˜»*

- ![img](https://static001.geekbang.org/account/avatar/00/10/b3/c5/7fc124e2.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  Liam

  ä¸ºä»€ä¹ˆç›´æ¥ä½¿ç”¨è¿­ä»£å™¨ä¼šæ¯”ä½¿ç”¨forå¾ªç¯éå†æ–¹å¼é«˜å‘¢ï¼Œå¦å¤–ï¼Œå¦‚æœæ˜¯éå†çš„è¯ï¼Œrandomaccesså¹¶ä¸é‡è¦å§ï¼Œé“¾è¡¨ä¹Ÿèƒ½é€šè¿‡æŒ‡é’ˆä¸€æ¬¡æ‹¿åˆ°ä¸‹ä¸ªå…ƒç´ çš„åœ°å€

  ä½œè€…å›å¤: ä½ æ˜¯è¯´LinkedListä½¿ç”¨è¿­ä»£å™¨æ¯”forå¾ªç¯é«˜å—ï¼Œä½¿ç”¨foréœ€è¦éå†listï¼Œè€Œä½¿ç”¨iteratorå¯ä»¥å‡å°‘éå†ã€‚ç¬¬äºŒé—®é¢˜ï¼Œä½ è¯´çš„å¯¹çš„ï¼Œè¿™ä¸ªæ¥å£åªæ˜¯ä¸€ä¸ªæ ‡å‡†ç½¢äº†ã€‚

  2019-05-30

  *î˜²*

  *î˜»*

- ![img](http://thirdwx.qlogo.cn/mmopen/vi_32/PiajxSqBRaEIvUlicgrWtibbDzwhLw5cQrDSy2JuE1mVvmXq11KQIwpLicgDuWfpp9asE0VCN6HhibPDWn7wBc2lfmA/132)

  aã€

  åˆ é™¤arrayListåº”è¯¥å€’åºåˆ é™¤ï¼Œè¿™æ ·å°±ä¸ä¼šå‡ºç°å°‘åˆ é™¤çš„æƒ…å†µï¼Œå› ä¸ºarraylistæ¯åˆ é™¤ä¸€ä¸ªå…ƒç´ ï¼Œarraylistéƒ½ä¼šæŠŠå†…éƒ¨æ•°ç»„å…ƒç´ ä»æ–°æ’åˆ—ä¸€æ¬¡ï¼Œç¬¬ä¸€ä¸ªåˆ é™¤æ˜¯å¯¹çš„ï¼Œç¬¬äºŒä¸ªä¼šå‡ºç°ConcurrentModificationException

  ä½œè€…å›å¤: è¿™ä¸ªç†è§£æœ‰ç‚¹åå·®ï¼Œå»ºè®®çœ‹ç•™è¨€åŒºçš„æ­£ç¡®è§£é‡Šã€‚

  2019-05-30

  *î˜²*

  *î˜»*

- ![img](https://static001.geekbang.org/account/avatar/00/10/1d/13/31ea1b0b.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)![img](05%20_%20ArrayList%E8%BF%98%E6%98%AFLinkedList%EF%BC%9F%E4%BD%BF%E7%94%A8%E4%B8%8D%E5%BD%93%E6%80%A7%E8%83%BD%E5%B7%AE%E5%8D%83%E5%80%8D.resource/resize,w_14.png)

  å³°

  ç¬¬ä¸€ä¸ªæ­£ç¡®ï¼Œæœ€å¤§æ„Ÿå—æ—¶é—´å¤æ‚åº¦è¿™ä¸ªä¸œä¸œè¦å……åˆ†è€ƒè™‘åœºæ™¯ï¼Œç³»æ•°ï¼Œioå¤æ‚åº¦ç­‰ç­‰æ‰èƒ½åœ¨å®é™…å·¥ç¨‹æœ‰å…¶æ„ä¹‰ã€‚

  2019-05-30

  *î˜²*

  *î˜»*

- ![img](https://static001.geekbang.org/account/avatar/00/10/18/ee/a1ed60d1.jpg?x-oss-process=image/resize,m_fill,h_34,w_34)

  ABC

  æ€è€ƒ: æˆ‘è§‰å¾—ç¬¬äºŒç§å†™æ³•æ˜¯å¯¹çš„ï¼Œä¹‹å‰ä¹Ÿä¸€ç›´æ˜¯ç”¨çš„è¿™ç§å†™æ³•ã€‚è€Œä¸”ï¼Œåˆ é™¤ä¹‹åï¼Œæ•°æ®çš„æ”¹å˜ä¼šååº”åœ¨listä¸Šã€‚ ç¬¬ä¸€ç§å†™æ³•æ²¡æ€ä¹ˆç”¨è¿‡ï¼Œçœ‹å†™æ³•ï¼Œåœ¨åˆ é™¤å…ƒç´ ä¹‹åã€‚æ•°æ®çš„å˜æ›´å¹¶ä¸ä¼šä½“ç°åœ¨listä¸Šã€‚ å¦‚æœ‰ä¸æ­£ç¡®ï¼Œè¯·æŒ‡æ­£ã€‚è°¢è°¢ã€‚

  ä½œè€…å›å¤: ç­”æ¡ˆå·²ç»ç»™å‡ºï¼Œå¸Œæœ›èƒ½å¸®åŠ©ä½ å‡å°‘å¹³æ—¶ä½¿ç”¨arraylistçš„æ½œåœ¨é—®é¢˜ã€‚

  2019-05-30
