# 01 \| 架构到底是指什么？

2018年，我发布了《从0开始学架构》这门课程，分享了我之前在电信业务和移动互联网业务方面的经验和感悟。

后来，我转岗去了蚂蚁国际，从事更加复杂的支付业务。为什么说支付业务更加复杂？因为它涉及的关联方多、业务流程长、业务模型复杂，对安全、高可用、高性能等都有更高的要求。我有幸参与了一个海外钱包从0到1的建设过程，积累了不少实战经验，于是对复杂业务的架构设计有了新的理解。

2020年，因为身体等原因，我离开了蚂蚁国际，之后就一边休养身体，一边系统地总结梳理过去的经验，先后创作了《大厂晋升指南》和《架构实战营》。在打磨课程和与各位同学交流的过程中，我对于架构学习的难点和应用的痛点，又有了新的心得体会。

因此，我决定更新这门课程的部分内容，把这些新的收获也全部分享出来，希望能帮助你与时俱进地提升架构水平。

## 一、架构到底是指什么

对于技术人员来说，“架构”是一个再常见不过的词了。我们会对新员工培训整个系统的架构，参加架构设计评审，学习业界开源系统（例如 MySQL 和 Hadoop）的架构，研究大公司的架构实现（例如微信架构和淘宝架构）……

虽然“架构”这个词很常见，但如果深究一下，“架构”到底是指什么，大部分人就搞不清楚了。例如以下这些问题，你能够准确地回答吗？

1. 微信有架构，微信的登录系统也有架构，微信的支付系统也有架构，当我们谈微信架构时，到底是在谈什么架构？
2. Linux有架构，MySQL有架构，JVM也有架构，使用Java开发、MySQL存储、跑在Linux上的业务系统也有架构，应该关注哪个架构呢？
3. 架构和框架是什么关系？有什么区别？

身为架构师，如果你连架构的定义都搞不清楚，那么无论是自己设计架构、给别人讲解架构，还是学习别人的架构，都会暴露问题，要么无从下手，要么张冠李戴。这无疑会成为你面试、晋升和带领团队工作时的绊脚石。

比如有些同学明明在系统架构上做了不少有价值的工作，但是在给晋升面试的评委讲解的时候，只会说“我们是微服务架构”，然后就不知道讲什么了。结果得到的评价大打折扣，晋升失败，非常可惜。

**要想准确地理解架构的定义，关键就在于把三组容易混淆的概念梳理清楚**：

1. 系统与子系统
2. 模块与组件
3. 框架与架构

## 二、系统与子系统

> 系统泛指由一群有关联的个体组成，根据某种规则运作，能完成个别元件不能单独完成的工作的群体。它的意思是“总体”“整体”或“联盟”。 —–维基百科关于系统的定义

我来提炼一下里面的关键内容。

1. **关联**：系统是由一群有关联的个体组成的，没有关联的个体堆在一起不能成为一个系统。例如，把一个发动机和一台PC放在一起不能称之为一个系统，把发动机、底盘、轮胎、车架组合起来才能成为一台汽车。
2. **规则**：系统内的个体需要按照指定的规则运作，而不是单个个体各自为政。规则规定了系统内个体分工和协作的方式。例如，汽车发动机负责产生动力，然后通过变速器和传动轴，将动力输出到车轮上，从而驱动汽车前进。
3. **能力**：系统能力与个体能力有本质的差别，**系统能力不是个体能力之和，而是产生了新的能力**。例如，汽车能够载重前进，而发动机、变速器、传动轴、车轮本身都不具备这样的能力。

我们再来看子系统的定义：

> 子系统也是由一群有关联的个体所组成的系统，多半会是更大系统中的一部分。

其实，子系统的定义和系统定义是一样的，只是观察的角度有差异，一个系统可能是另外一个更大系统的子系统。

按照这个定义，系统和子系统比较容易理解，我们以微信为例来做一个分析：

1. 微信本身是一个系统，包含聊天、登录、支付、朋友圈等子系统。
2. 朋友圈这个系统又包括动态、评论、点赞等子系统。
3. 评论这个系统可能又包括防刷子系统、审核子系统、发布子系统、存储子系统。
4. 评论审核子系统不再包含业务意义上的子系统，而是包括各个模块或者组件，这些模块或者组件本身也是另外一个维度上的系统。例如，MySQL、Redis等是存储系统，但不是业务子系统。

现在，我们可以回答第一个问题了。一个系统的架构，只包括**顶层**这一个层级的架构，而不包括下属子系统层级的架构。所以微信架构，就是指微信系统这个层级的架构。当然，微信的子系统，比如支付系统，也有它自己的架构，同样只包括**顶层**。

## 三、模块与组件

模块和组件两个概念在实际工作中很容易混淆，我们经常能够听到类似这样的说法：

- MySQL 模块主要负责存储数据，而 Elasticsearch 模块主要负责数据搜索。
- 我们有安全加密组件、有审核组件。
- App 的下载模块使用了第三方的组件。

造成这种现象的主要原因是，模块与组件的定义并不好理解，也不能很好地进行区分。两者在维基百科上的定义：

> 软件模块（Module）是一套一致而互相有紧密关连的软件组织。它分别包含了程序和数据结构两部分。现代软件开发往往利用模块作为合成的单位。模块的接口表达了由该模块提供的功能和调用它时所需的元素。模块是可能分开被编写的单位。这使它们可再用和允许人员同时协作、编写及研究不同的模块。<br>
> 
>  软件组件定义为自包含的、可编程的、可重用的、与语言无关的软件单元，软件组件可以很容易被用于组装应用程序中。

结论：**模块和组件都是系统的组成部分，只是从不同的角度拆分系统而已**。

**从业务逻辑的角度来拆分系统后，得到的单元就是“模块”；从物理部署的角度来拆分系统后，得到的单元就是“组件”。划分模块的主要目的是职责分离；划分组件的主要目的是单元复用**。

其实，“组件”的英文Component也可翻译成中文的“零件”一词。“零件”更容易理解一些，它是一个物理的概念，并且具备“独立且可替换”的特点。

以一个最简单的网站系统来为例。假设我们要做一个学生信息管理系统，这个系统从逻辑的角度来拆分，可以分为“登录注册模块”“个人信息模块”和“个人成绩模块”；从物理的角度来拆分，可以拆分为 Nginx、Web 服务器和 MySQL。

现在，我们可以回答第二个问题了。如果你是业务系统的架构师，首先需要思考怎么从业务逻辑的角度把系统拆分成一个个模块**角色**，其次需要思考怎么从物理部署的角度把系统拆分成组件**角色，**例如选择 MySQL 作为存储系统。但是对于 MySQL 内部的体系架构（Parser、Optimizer、Caches&Buffers和Storage Engines等），你其实是可以不用关注的，也不需要在你的业务系统架构中展现这些内容。

## 四、框架与架构

框架是和架构比较相似的概念，且两者有较强的关联关系，所以在实际工作中，这两个概念有时我们容易分不清楚。参考维基百科上框架与架构的定义：

> 软件框架（Software framework）通常指的是为了实现某个业界标准或完成特定基本任务的软件组件规范，也指为了实现某个软件组件规范时，提供规范所要求之基础功能的软件产品。

我来提炼一下其中关键部分：

1. 框架是组件规范：例如，MVC 就是一种最常见的开发规范，类似的还有 MVP、MVVM、J2EE 等框架。
2. 框架提供基础功能的产品：例如，Spring MVC 是 MVC 的开发框架，除了满足 MVC 的规范，Spring 提供了很多基础功能来帮助我们实现功能，包括注解（@Controller等）、Spring Security、Spring JPA 等很多基础功能。

> 软件架构指软件系统的“基础结构”，创造这些基础结构的准则，以及对这些结构的描述。

单纯从定义的角度来看，框架和架构的区别还是比较明显的：**框架关注的是「规范」，架构关注的是「结构」**。

框架的英文是 Framework，架构的英文是 Architecture，Spring MVC 的英文文档标题就是“Web MVC framework”。

虽然如此，在实际工作中我们却经常碰到一些似是而非的说法，例如：

- 我们的系统是 MVC 架构。
- 我们需要将Android App重构为MVP架构。
- 我们的系统基于SSH框架开发。
- 我们是SSH的架构。
- XX系统是基于Spring MVC框架开发，标准的MVC架构。<br>

 ……

究竟什么说法是对的，什么说法是错的呢？

其实这些说法都是对的。造成这种现象的根本原因隐藏于架构的定义中，关键就是“基础结构”这个概念，并没有明确说是从什么角度来分解的。采用不同的角度或者维度，可以将系统划分为不同的结构，其实我在“模块与组件”中的“学生管理系统”示例已经包含了这点。

从业务逻辑的角度分解，“学生管理系统”的架构是：

![图片](<01%E6%9E%B6%E6%9E%84%E5%88%B0%E5%BA%95%E6%98%AF%E6%8C%87%E4%BB%80%E4%B9%88%EF%BC%9F.resource/af3f5d6afe79d8c37b727606f749a1a8.jpg>)

从物理部署的角度分解，“学生管理系统”的架构是：

![图片](<01%E6%9E%B6%E6%9E%84%E5%88%B0%E5%BA%95%E6%98%AF%E6%8C%87%E4%BB%80%E4%B9%88%EF%BC%9F.resource/28ca0b7912ea0dda4a9fd4ceec75bf69.jpg>)

从开发规范的角度分解，“学生管理系统”可以采用标准的MVC框架来开发，因此架构又变成了MVC架构：

![图片](<01%E6%9E%B6%E6%9E%84%E5%88%B0%E5%BA%95%E6%98%AF%E6%8C%87%E4%BB%80%E4%B9%88%EF%BC%9F.resource/3e5f788e9dceb7f2cd9eb79d0d92fd1d.jpg>)

这些“架构”，都是“学生管理系统”正确的架构，只是从不同的角度来分解而已，这也是IBM的RUP将软件架构视图分为著名的“**4+1视图**”的原因。

现在，我们可以回答第三个问题了。框架是一整套开发规范，架构是某一套开发规范下的具体落地方案，包括各个模块之间的**组合关系**以及它们协同起来完成功能的**运作规则**。

## 五、重新定义架构：4R架构

参考维基百科的定义，再结合我自己的一些理解和思考，我将软件架构重新定义为：**软件架构指软件系统的顶层（Rank）结构，它定义了系统由哪些角色（Role）组成，角色之间的关系（Relation）和运作规则（Rule）。**==>简称为「4R 架构定义」。

![图片](<01%E6%9E%B6%E6%9E%84%E5%88%B0%E5%BA%95%E6%98%AF%E6%8C%87%E4%BB%80%E4%B9%88%EF%BC%9F.resource/670a502889683719f63846762a710ec1.jpg>)

每个 R 的详细解释如下：

第一个 R，Rank。它是指软件架构是分层的，对应「系统」和「子系统」的分层关系。通常情况下，我们只需要关注某一层的架构，最多展示相邻两层的架构，而不需要把每一层的架构全部糅杂在一起。无论是架构设计还是画架构图，都应该采取「自顶向下，逐步细化」的方式。以微信为例，Rank 的含义如下所示：

![图片](<01%E6%9E%B6%E6%9E%84%E5%88%B0%E5%BA%95%E6%98%AF%E6%8C%87%E4%BB%80%E4%B9%88%EF%BC%9F.resource/452ce48209b1e9ea77484e68dbb8f0b1.jpg>)

> 注：L0\L1\L2 指层级，一个 L0 往下可以分解多个 L1，一个 L1 可以往下分解多个 L2，以此类推，一般建议不超过 5 层（L0\~L4）。

第二个 R，Role。它是指软件系统包含哪些角色，每个角色都会负责系统的一部分功能。架构设计最重要的工作之一就是将系统拆分为多个角色。最常见的微服务拆分其实就是将整体复杂的**业务系统**按照业务领域的方式，拆分为多个微服务，每个微服务就是系统的一个角色。

第三个 R，Relation。它是指软件系统的角色之间的关系，对应到架构图中其实就是连接线，角色之间的关系不能乱连，任何关系最后都需要代码来实现，包括连接方式（HTTP、TCP、UDP和串口等）、数据协议（JSON、XML和二进制等）以及具体的接口等。

第四个 R，Rule。它是指软件系统角色之间如何协作来完成系统功能。我们在前面解读什么是「系统」的时候提到过：系统能力不是个体能力之和，而是产生了新的能力。那么这个新能力具体如何完成的呢？具体哪些角色参与了这个新能力呢？这就是 Rule 所要表达的内容。在架构设计的时候，核心的业务场景都需要设计 Rule。

在实际工作中，为了方便理解，**Rank、Role 和 Relation 是通过系统架构图来展示的，而Rule 是通过系统序列图（System Sequence Diagram）来展示的**。

我们以一个简化的支付系统为例，支付系统架构图如下所示：

![图片](<01%E6%9E%B6%E6%9E%84%E5%88%B0%E5%BA%95%E6%98%AF%E6%8C%87%E4%BB%80%E4%B9%88%EF%BC%9F.resource/952cdceaa1bd5ed9f5fb039733dabafc.jpg>)

「扫码支付」这个核心场景的系统序列图如下所示：

![图片](<01%E6%9E%B6%E6%9E%84%E5%88%B0%E5%BA%95%E6%98%AF%E6%8C%87%E4%BB%80%E4%B9%88%EF%BC%9F.resource/0e7a35a01b62e5590566c09eff6b19ea.jpg>)

## 六、小结

本文梳理了与架构有关的几个容易混淆的概念，包括系统与子系统、模块与组件、框架与架构，并且提炼出了 4R 架构定义。

思考题：你原来理解的架构是如何定义的？对比我今天讲的架构定义，你觉得差异在哪里？

**精选留言**

- 架构是顶层设计；框架是面向编程或配置的半成品；组件是从技术维度上的复用；模块是从业务维度上职责的划分；系统是相互协同可运行的实体。

    作者回复: 精炼！

- 搬砖的：“头，我们要造什么？”；（做什么系统？） 工程师：“龙之梦商城”；（XXX系统，比如微博系统） 搬砖的：“图纸画出来了嘛？”；（架构是怎么设计的？） 工程师：“一楼主要以女性消费为主体、二楼以大众娱乐为主体、三楼以美食为主体”；（相当于微博系统中的各个子系统，比如评论子系统、动态子系统、消息子系统） 搬砖的：“头，说人话”； 工程师：“一楼有卖衣服、化妆品的，二楼有唱歌、看电影的，三楼有吃的”；（【模块】按照逻辑区分，比如存储数据模块、搜索模块、消息推送模块） 搬砖的：“有没有很知名的店啊？”； 工程师：“有的，一楼有香奈儿、优衣库...、二楼有好乐迪、万达影院....、三楼有海底捞、避风塘.....”；（【组件】按照物理区分，存储数据模块对应Mysql、搜索模块对应ElasticSearch、 消息推送模块对应Kafka） 搬砖的：“对了，头，商城大门有啥需要叮嘱的施工规范不？或有啥简化施工工艺的新技术嘛？”；（有框架的可以用吗？） 工程师猛吸了一口烟，把烟头扔在地上，用皮鞋左右撵了两下，缓缓从嘴里崩出四个字。“老样子吧”。（Spring全家桶甩起来）

  作者回复: 极客时间卧虎藏龙，里面的用户个个都很有才，口才又好，长得又帅，我超喜欢😂

- 用人来比喻，架构是骨头，搭起整个软件。框架是大脑，约束软件应该怎么做。模块是吃喝拉撒走，负责不同的功能。组件是躯干四肢头，组成一个人。而子系统就是呼吸系统运动系统，属于软件的一部分，独立工作却又遵从指挥

  作者回复: 很形象😂

- 我们要做的东西都能抽象为一个系统，架构既可做动词也可做名词，作为动词就代表系统的设计，作为名词就代表系统的表现形式。 所以架构首先继承了系统的属性： 0、系统整体有价值 1、由多个有关系的个体组成 2、涌现，整体大于个体之和，也就是文中说的“流”出来的新的价值 系统的架构从无到有由人来执行，所以也具备人思考和交流的属性： 0、思维带宽较小，不能同时考虑很多事情，需要把系统做分解（模块和组件） 1、线性思想和交流，多维关系要降级到二维关系（4+1视图等多种方法论） 2、人作为个体的个性化-也即多样性，架构没用统一标准，适合自己/团队/公司最重要。

  作者回复: 你已经开始解剖架构的本质了，后面章节会讨论这个话题。 通常“架构”还是用作名词，动词就用“架构设计”，有的观点用“构架”，有点拗口和容易混淆，所以我一般宁愿用“架构设计”

- 系统与子系统：系统是由一系列有关联，按特定规则组成的个体，并且产生新的能力，而系统与子系统则是观察的交角度不同 模块与组件：模块是从逻辑角度去看待，而组件是从物理角度去看待 框架与架构：框架是规范也是约束，可以理解为封闭性的话题，定义好，让别人如何去使用，而架构是一种结构，是一种开放性的话题，如何去设计组织架构，如何让架构更具有拓展性，减少沟通错误成本

  作者回复: 提炼了精华，赞

- 是不是可以这么认为，就是做架构就是对于解决一个或者一类问题，构建一个系统，你需要为这个系统根据业务划分模块，需要加入能组合起来的组件和框架，然后你需要构建一系列规则，让这些组件和框架跑起来，各自发挥各自的能力，来实现一个个模块，然后这些模块又组合起来成了整个系统，所以做架构需要很熟悉业务，会业务逻辑划分，要熟悉很多框架，组件，知道他们的能力，熟悉怎么组合他们完美的运作起来！

  作者回复: 非常正确：问题，模块，规则，系统，架构四要素😃

- 框架和架构其实不一定有什么关联关系。架构是为了实现某个功能而设计的一种结构方式。虽然架构一词高大上，但你只要实现了自己的功能，你的结构就是架构。有了架构，你就有了工作的思路和方向。框架是实现功能的一种规范，你必须在这种规范下工作。注意，定义中说框架是定义组建的规范，所以框架里面不一定非得有组建和模块。 模块是从职责划分的角度来观察，实现某个功能的职责，称之为模块。比如登陆模块。要实现的某个功能，我们一般称之为模块。 组件的本质是可以独立实现某项功能的零件。它的特点是独立，可替换 组件与模块的区别是，组件可能是为了实现模块而实现的。但是实现功能的模块不能称为组件。 

  作者回复: 点赞

- 微信是系统，微信的登录是子系统， 学生管理是系统，学生管理的登录就是模块，这是为什么呢，模块和子系统啥区别?

  作者回复: 子系统是独立运行的，模块是子系统的逻辑组成部分，如果学生管理系统规模很大（例如在线学校），需要支撑每秒上万的登录请求，那么学生管理的登录模块一样可以升级为子系统。

- 系统根据业务或功能划分为各个模块，某些模块可能又被升级为子系统; 模块中可能使用了很多组件来实现某些具体功能 ; 同时，也可能使用了某些框架来作为开发的基础，而架构则描述了各个子系统或模块间如何协调工作。不知这么理解合理不？

  作者回复: 理解正确

- 框架偏技术，就像作者所说的是一种开发规范，是一种开发思路，应用于系统或子系统中，使得开发人员能快速设计出程序编写的代码组织结构；而架构相对偏业务一点，是针对业务需求，分解整个系统，梳理出数据流转逻辑，有哪些子系统、子模块、组件组成，他们之间的相互关系是怎么样的，需要更多的考虑未来需求的变化，考虑系统的可扩展性，可靠性，容错性等。

  作者回复: 总结挺好的

- 我理解的架构就是功能划分，最后让整个软件成为架子，模块是乐高积木。在遵循已定接口规范下能按照产品需求自由组合模块之间的IO以达到需求效果。

  作者回复: 这种理解适合业务系统架构设计，对于一些高性能高可用的架构不是很合适，单纯的功能划分并不能够保证高性能高可用，只能保证功能完成。

- 框架，能被大家高度认可，且可以快速搭建应用，能让程序员把精力主要放在实现业务逻辑上的逻辑体，简单说就是规范、高效； 架构，小到单个系统的不同组件，大到多个系统的多个组件，目标都是为了完成一个特定的目标而组合到一起的。

  作者回复: 理解到位

- 我从事业务开发，我理解的架构是把业务进行模块化拆分，模块间做到职责分离和低耦合；模块内做到高扩展和高内聚；再把复用性强的模块或者功能提炼成组件、平台或者中台；同时从稳定性、高性能出发考虑如何搭建监控系统、反馈系统、降级系统等等基础组件。

  作者回复: 这个理解主要适合业务开发

- 系统架构主要描述一个系统有哪些子系统构成，每个子系统的职责，以及子系统之间如何交互。 从技术角度来说，系统架构也会描述系统的技术栈，技术选型，以及高层次的业务流程。

  作者回复: 这种方式适合描述较复杂的后台架构，有的系统不一定有子系统的概念，但它们一样有架构，例如我们可以说mysql的架构，jvm的架构，linux的架构

- 写的很好，有一次画架构图，一个图里同时出现了模块和组件，然后就被批了，当时不懂为啥不对，现在懂了。

  作者回复: 对的，不同角度混合的话，架构图看起来不太协调，看起来比较乱

- 工作常说的模块和服务是不是等价概念？业务复杂后一个模块被拆分为多个模块，就进化成了子系统？？不知道理解的对不对

  作者回复: 理解对的，模块独立出系统后就是微服务了

- 架构可以理解为是有多个框架组成的吗？

    作者回复: 不能这么理解，架构可以是多个子系统组成，也可以是多个模块组成

- 原来的理解是一个系统的架构，分层，再按照模块来划分，再混合存储，中间件，负载，高科用这些揉和在一起，没有清晰的认识。

    作者回复: 一看就是做业务后台的😄

- 在某种意义上来说，我觉得架构有时候也是一种规范，但是这种规范更多是针对业务进行编码的规范，让不同的业务都遵循既定的流程，而业务程序员要在此流程的基础上进行具体代码的实现。 而框架，我认为更偏向于具体技术点的规范，范围可能比架构的范围要细分一些，采用好的框架会大大提升开发的效率。 组件针对与整个系统来说，只是一个功能点的实现，多个组件的完美结合可能会实现一个完整的业务系统。 个人的一点拙见，大佬指教🐶

    作者回复: 规范是架构的一部分，比如说架构设计的时候规定微服务之间通讯采用gRPC或者dubbo；框架就是具体的规范实现方案，比如说Spring Boot是MVC框架

- 通过“人”这个系统来理解系统，模块，组件，框架，架构。 1.从业务逻辑角度拆分，“人”的架构：脑，手，身体，脚。 2.从物理部署的角度拆分，“人”的架构：上皮组织，结缔组织，肌肉组织，神经组织。 3.从开发规范的角度拆分，“人”的架构：吃饭，睡觉，思考，行走。 软件架构是软件系统的顶层结构。 结构可以分不同的角度拆解， 从业务逻辑上来拆解，得到的单元是“模块”， 从物理部署上来拆解，得到的单元是“组件”， 从开发规范上来拆解，得到的是“框架”。

    作者回复: 很有创意，点赞：）

    

- 子系统与模块有何区别？模块是对系统进行逻辑拆分，比如登陆模块，那叫登陆子系统是不是也行。系统是一个可以运行的实体，那么是不是可以这么理解：可以独立运行的登陆部分可以称之为登陆子系统，而不能独立运行的登陆部分只能叫模块。

    作者回复: 如果你把登录独立成子系统了，那肯定可以的。 是否独立运行不一定是模块的划分标准，例如电商中台里面的“交易中心”也是一个“模块”，但这个模块的范围就大很多了。

- 好东西需要反复学习的，再回头来回答一下问题吧 对于架构而言，我最初的理解就是将？其与框架结合在了一起，也就是框架即架构，架构即框架，这应该最初的想法。毕竟最初，自己站的层次不够高，只能从技术的角度去理解架构，以为只要会搭建了MVC框架就是架构师了。实际上，我只是从物理的角度理解了架构。但是，架构，强调地是组织结构，是从业务逻辑、物理技术、组件规范等等不同维度去综合考虑的，这很像多元思维模型，也就是任何事物都不是只由一个维度决定。学习之后，我个人以为，架构和系统可以说，两者很像，只不过，系统，强调关联各个个体，让他们组合在一起形成化学反应，形成1+1>2的强大作用，架构强调结构，如何将各个不同个人，在结构能够更好的融合，形成更大的助力。这就是我对于架构的重新认识。

    作者回复: 这个认识深刻多了������

- 我原理理解的架构是这样的：基本上等同于物理视角的架构，比如一个学生管理系统包含前端，后端服务，redis,mysql。 从本文中学到了，可以从多个角度来看系统就会得出不同的架构即顶层系统结构，比如4+1架构图。  那么有一个问题，一般在架构设计过程中，我们需要使用哪些视角的架构呢？

    作者回复: 逻辑视图和物理视图用的比较多

- 老师，请问下你这里的系统架构 和 业务架构和应用架构的区别是， 他更像业务架构还是应用架构？

    作者回复: 系统架构是指系统逻辑上分成那些组成部分 业务架构是指系统提供哪些业务 应用架构师指系统包含哪些应用

- 老师，对于模块和组件这两个概念。英文分别对应module和component 。 我在《Fundamentals of Software Architecture》这本书上，看到的解释是，component是module的物理打包模式。在《架构整洁之道》这本书上，module 和component这两个单词也是混着用，没有具体说明，差异。    英文维基上说，组件层次更高，是整个系统的一部分，模块是单个程序的一部分。所以是理解的角度不同吗。还有模块化是构建模块的方式还是组建的方式呢？

    作者回复: 从业务逻辑的角度来拆分系统后，得到的单元就是“模块”；从物理部署的角度来拆分系统后，得到的单元就是“组件”。划分模块的主要目的是职责分离；划分组件的主要目的是单元复用。其实，“组件”的英文 Component 也可翻译成中文的“零件”一词。“零件”更容易理解一些，它是一个物理的概念，并且具备“独立且可替换”的特点。

- 应用架构怎么理解，是不是对应我们的业务架构。

    作者回复: 应用就是指你发布的能够运行的程序，应用架构就是你有多少个这个样的应用，相互之间关系如何

- 我之前理解的架构有代码架构，部署架构，就是没有业务架构。。

    作者回复: 一般P7+以上才会自己画业务架构，在一些汇报的场景可以看到业务架构。

- 我以一个最简单的网站系统来为例。假设我们要做一个学生信息管理系统，这个系统从逻辑的角度来拆分，可以分为“登录注册模块”“个人信息模块”“个人成绩模块”。 李老师，我有个问题，为什么学生管理系统这里，就变成了模块了，前面拆分微信的时候，却是子系统呢？

    作者回复: 因为这是一个系统里的不同部分，没有拆分成多个子系统，你可以理解为一个一个的package就是模块，或者maven的module也可以是模块

- 之前我一直觉得架构分为技术架构和业务架构，技术架构更偏向于规范，而业务架构更偏向于子系统

    作者回复: 这个理解不适合中间件系统，例如Redis、Kafka、MySQL这些

- 原来的理解中，架构包含业务设计方案和技术实现方案两部分

    作者回复: 中间件系统就可以认为没有业务设计

- 架构是为了在特定场景实现特定业务而设计的大系统。模块是组成大系统的各个子系统。组件是实现子系统的“零件”。框架是组件组装与运行的具体操作规范。

    作者回复: 正解

- 架构是面向系统的实践，设计理念则是实践中总结出来的经验。实践内容通常包括系统内职责划分、模块拆分、通信解偶、边界保留等问题的考量。

    作者回复: 你已经把架构要做的事情列出来了 ：）

- 我理解的架构就是一个开放性的话题，任何系统都有架构。任何人也都可以去为自己的系统设计架构。好的架构，能够让程序具有高可用，高性能和可扩展的能力。框架更多的指人们根据以往的经验，总结出的一套比较好的架构设计规范。有时候也可以理解为一种设计比较好的架构。（不知道这个理解是不是正确，欢迎讨论）。

    作者回复: 框架是按照某个规范或者标准实现的基础架构

- 模块是从逻辑角度对系统的再次划分，也可以是某个复杂子系统的再次划分，而组件是实现模块功能的组成零件，(包括硬件组件和软件组件).请作者纠正？

    作者回复: 可以这么理解，但是要注意，模块并不必然包含组件。 模块也可以是代码里的一个package，或者maven工程里面的一个module

- “架构”核心在于“构”字，指的是构成或者组成，描述了各个部分的构成，或者是由哪几部分组成。“设计架构”会用到各种架构设计理念、方法、原则等，例如熟知的“单一职责原则”就可以作为架构设计的原则。MVC等都属于软件架构设计的成品，具有通用性。 “框架”核心在于“架”，可以认为是架子，具有自定义性、通用性，例如我们可以放任何种类的书在书架上。MVC（Model、View、Controller）画成图就是架构，它与你选择开发技术和平台都无关。我们把MVC架构，也就是我们画的M、V、C三部分的构成图，落实到开发就是框架，例如ASP.NET MVC就是框架，它实现了抽象的MVC架构，包括View、Controller等，.NET帮我们实现了网络访问、视图展示与路由等功能，这是我们做软件的基础，也就是"架子"，我们可以借助它做自己想要的，也就是我们可以在书架上放任何书，前提是“书架能放的下”。ASP.NET MVC这个框架只是MVC架构或者说抽象模型的一种实现，我们同样可以在Android开发或者其它开发中采用MVC架构。

    作者回复: 框架的核心在于“框”，也就是说框架已经“框定”了你的实现方式和边界。 其它的理解都很正确，尤其是MVC既是框架又是架构这个点，很多人都没有理解到。

- 架构图常用的：逻辑视图架构，从功能角度划分；部署视图架构，从物理部署位置角度划分；还有老师提到的其它4+1视图。我目前想学习是从开发设计的角度，来划分的系统架构，真正的顶层设计。

    作者回复: 开发设计角度也有多种划分角度，例如按照逻辑划分，按照组件划分

- 不是特别认同对于组件和模块的描述，文中提及“软件组件定义为自包含的、可编程的、可重用的、与语言无关的软件单元，软件组件可以很容易被用于组装应用程序中”，从“自包含和”和“很容易被用于组装应用程序中”两处可以得出，组件可以是模块的组成部分，颗粒度可小于模块，这与后一篇的最后对的内容也有出入。

    作者回复: 组件可以是模块的组成部分，这个理解是正确的，也不与文中的描述冲突。 例如：用户模块可以用MySQL组件来存储数据，搜索模块用Elasticsearch组件来存储数据。
