# 06 \| 复杂度来源：可扩展性

你好，我是华仔。复杂度来源前面已经讲了高性能和高可用，今天我们来聊聊可扩展性。

可扩展性是指，系统为了应对将来需求变化而提供的一种扩展能力，当有新的需求出现时，系统不需要或者仅需要少量修改就可以支持，无须整个系统重构或者重建。

由于软件系统固有的多变性，新的需求总会不断提出来，因此可扩展性显得尤其重要。在软件开发领域，面向对象思想的提出，就是为了解决可扩展性带来的问题；后来的设计模式，更是将可扩展性做到了极致。得益于设计模式的巨大影响力，几乎所有的技术人员对于可扩展性都特别重视。

设计具备良好可扩展性的系统，有两个基本条件：

1. **正确预测变化**
2. **完美应对变化**

但要达成这两个条件，本身也是一件复杂的事情，我来具体分析一下。

## 预测变化

软件系统与硬件或者建筑相比，有一个很大的差异：软件系统在发布后，还可以不断地修改和演进。

这就意味着**不断有新的需求需要实现**。

如果新需求能够少改代码甚至不改代码就可以实现，那当然是皆大欢喜的，否则来一个需求就要求系统大改一次，成本会非常高，程序员心里也不爽（改来改去），产品经理也不爽（做得那么慢），老板也不爽（那么多人就只能干这么点事）。

因此作为架构师，我们总是试图去预测所有的变化，然后设计完美的方案来应对。当下一次需求真正来临时，架构师可以自豪地说：“这个我当时已经预测到了，架构已经完美地支持，只需要一两天工作量就可以了！”

然而理想是美好的，现实却是复杂的。有一句谚语：“唯一不变的是变化。”如果按照这个标准去衡量，架构师每个设计方案都要考虑可扩展性，例如：

- 架构师准备设计一个简单的后台管理系统，当架构师考虑用 MySQL 存储数据时，是否要考虑后续需要用 Oracle 来存储？
- 当架构师设计用 HTTP 做接口协议时，是否要考虑要不要支持 ProtocolBuffer？
- 甚至更离谱一点，架构师是否要考虑 VR 技术对架构的影响从而提前做好可扩展性？

如果每个点都考虑可扩展性，架构师会不堪重负，架构设计也会异常庞大且最终无法落地。但架构师也不能完全不做预测，否则可能系统刚上线，马上来新的需求就需要重构，这同样意味着前期很多投入的工作量也白费了。

同时，“预测”这个词，本身就暗示了不可能每次预测都是准确的。如果预测的事情出错，我们期望中的需求迟迟不来，甚至被明确否定，那么基于预测做的架构设计就没什么作用，投入的工作量也就白费了。

综合分析，预测变化的复杂性在于：

1. 不能每个设计点都考虑可扩展性。
2. 不能完全不考虑可扩展性。
3. 所有的预测都存在出错的可能性。

对于架构师来说，如何把握预测的程度和提升预测结果的准确性，是一件很复杂的事情，而且没有通用的标准可以简单套上去，更多是靠自己的经验、直觉。所以架构设计评审的时候，经常会出现两个设计师对某个判断争得面红耳赤的情况，原因就在于没有明确标准，不同的人理解和判断有偏差，而最终又只能选择其中一个判断。

### 2年法则

那么我们设计架构的时候要怎么办呢？根据以往的职业经历和思考，我提炼出一个“2 年法则”供你参考：**只预测2年内的可能变化，不要试图预测5年甚至10年后的变化。**

当然，你可能会有疑问：为什么一定是 2 年呢？有的行业变化快，有的行业变化慢，不应该是按照行业特点来选择具体的预测周期吗？

理论上来说确实如此，但实际操作的时候你会发现，如果你要给出一个让大家都信服的行业预测周期，其实是很难的。

我之所以说要预测 2 年，是因为变化快的行业，你能够预测 2 年已经足够了；而变化慢的行业，本身就变化慢，预测本身的意义不大，预测 5 年和预测 2 年的结果是差不多的。所以“2 年法则”在大部分场景下都是适用的。

## 应对变化

假设架构师经验非常丰富，目光非常敏锐，看问题非常准，所有的变化都能准确预测，是否意味着可扩展性就很容易实现了呢？也没那么理想！因为预测变化是一回事，采取什么方案来应对变化，又是另外一个复杂的事情。即使预测很准确，如果方案不合适，则系统扩展一样很麻烦。

### 方案一：提炼出“变化层”和“稳定层”

第一种应对变化的常见方案是：**将不变的部分封装在一个独立的“稳定层”，将“变化”封装在一个“变化层”**（也叫“适配层”）。这种方案的核心思想是通过变化层来**隔离变化**。

<img src="06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/9117222928cc441774df9be05dd815b1.jpg" alt="图片" style="zoom: 50%;" />

无论是变化层依赖稳定层，还是稳定层依赖变化层都是可以的，需要根据具体业务情况来设计。

如果系统需要支持 XML、JSON、ProtocolBuffer 三种接入方式，那么最终的架构就是“形式 1”架构；如果系统需要支持 MySQL、Oracle、DB2 数据库存储，那么最终的架构就变成了“形式 2”的架构了。

<img src="06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/c80058572221851716f25f1db7dcf186.jpg" alt="图片" style="zoom:50%;" />

无论采取哪种形式，通过剥离变化层和稳定层的方式应对变化，都会带来两个主要的复杂性相关的问题。

1. 变化层和稳定层如何拆分？

对于哪些属于变化层，哪些属于稳定层，很多时候并不是像前面的示例（不同接口协议或者不同数据库）那样明确，不同的人有不同的理解，导致架构设计评审的时候可能吵翻天。

2. 变化层和稳定层之间的接口如何设计？

对于稳定层来说，接口肯定是越稳定越好；但对于变化层来说，在有差异的多个实现方式中找出共同点，并且还要保证当加入新的功能时，原有的接口不需要太大修改，这是一件很复杂的事情，所以接口设计同样至关重要。

例如，MySQL 的 REPLACE INTO 和 Oracle 的 MERGE INTO 语法和功能有一些差异，那么存储层如何向稳定层提供数据访问接口呢？是采取 MySQL 的方式，还是采取 Oracle 的方式，还是自适应判断？如果再考虑 DB2 的情况呢？

看到这里，相信你已经能够大致体会到接口设计的复杂性了。

### 方案二：提炼出“抽象层”和“实现层”

第二种常见的应对变化的方案是：**提炼出一个“抽象层”和一个“实现层”**。如果说方案一的核心思想是通过变化层来隔离变化，那么方案二的核心思想就是通过实现层来**封装变化**。

因为抽象层的接口是稳定的不变的，我们可以基于抽象层的接口来实现统一的处理规则，而实现层可以根据具体业务需求定制开发不同的实现细节，所以当加入新的功能时，只要遵循处理规则然后修改实现层，增加新的实现细节就可以了，无须修改抽象层。

方案二典型的实践就是设计模式和规则引擎。考虑到绝大部分技术人员对设计模式都非常熟悉，我以设计模式为例来说明这种方案的复杂性。

下面是设计模式的“装饰者”模式的类关系图。

<img src="06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/933b2b11afa24b8ac6524e0a3dae9551.jpg" alt="图片" style="zoom:50%;" />

图中的 Component 和 Decorator 就是抽象出来的规则，这个规则包括几部分：

1. Component 和 Decorator 类。
2. Decorator 类继承 Component 类。
3. Decorator 类聚合了 Component 类。

这个规则一旦抽象出来后就固定了，不能轻易修改。例如，把规则 3 去掉，就无法实现装饰者模式的目的了。

装饰者模式相比传统的继承来实现功能，确实灵活很多。例如，《设计模式》中装饰者模式的样例“TextView”类的实现，用了装饰者之后，能够灵活地给 TextView 增加额外更多功能，包括可以增加边框、滚动条和背景图片等。这些功能上的组合不影响规则，只需要按照规则实现即可。

但装饰者模式相对普通的类实现模式，明显要复杂多了。本来一个函数或者一个类就能搞定的事情，现在要拆分成多个类，而且多个类之间必须按照装饰者模式来设计和调用。

规则引擎和设计模式类似，都是通过灵活的设计来达到可扩展的目的，但“灵活的设计”本身就是一件复杂的事情，不说别的，光是把 23 种设计模式全部理解和备注，都是一件很困难的事情。

### 1写2抄3重构原则

那么，我们在实际工作中具体如何来应对变化呢？Martin Fowler 在他的经典书籍《重构》中给出一个“Rule of three”的原则，原文是“Three Strikes And You Refactor”，中文一般翻译为“事不过三，三则重构”。

而我将其翻译为“1 写 2 抄 3 重构”，也就是说你不要一开始就考虑复杂的可扩展性应对方法，而是等到第三次遇到类似的实现的时候再来重构，重构的时候采取隔离或者封装的方案。

举个最简单的例子，假设你们的创新业务要对接第三方钱包，按照这个原则，就可以这样做：

- **1写**：最开始你们选择了微信钱包对接，此时不需要考虑太多可扩展性，直接快速对照微信支付的 API 对接即可，因为业务是否能做起来还不确定。
- **2抄**：后来你们发现业务发展不错，决定要接入支付宝，此时还是可以不考虑可扩展，直接把原来微信支付接入的代码拷贝过来，然后对照支付宝的 API，快速修改上线。
- **3重构**：因为业务发展不错，为了方便更多用户，你们决定接入银联云闪付，此时就需要考虑重构，参考设计模式的模板方法和策略模式将支付对接的功能进行封装。

## 小结

今天我从预测变化和应对变化这两个设计可扩展性系统的条件，以及它们实现起来本身的复杂性，为你讲了复杂度来源之一的可扩展性，希望对你有所帮助。

这就是今天的全部内容，留一道思考题给你吧。你在具体代码中使用过哪些可扩展的技术？最终的效果如何？

欢迎你把答案写到留言区，和我一起讨论。相信经过深度思考的回答，也会让你对知识的理解更加深刻。（编辑乱入：精彩的留言有机会获得丰厚福利哦！）

## 精选留言(116)

- 今日心得 1 What：什么是架构的可扩展性？ 业务需求、运行环境方面的变化都会导致软件系统发生变化，而这种软件系统对上述变化的适应能力就是可扩展性。 可扩展性可以理解为是一种从功能需求方面考虑的软件属性，属性就会存在好坏之分。 按照可扩展性的定义，一个具备良好可扩展性的架构设计应当符合开闭原则：对扩展开放，对修改关闭。衡量一个软件系统具备良好可扩展性主要表现但不限于：（1）软件自身内部方面。在软件系统实现新增的业务功能时，对现有系统功能影响较少，即不需要对现有功能作任何改动或者很少改动。（2）软件外部方面。软件系统本身与其他存在协同关系的外部系统之间存在松耦合关系，软件系统的变化对其他软件系统无影响，其他软件系统和功能不需要进行改动。反之，则是一个可扩展性不好的软件系统。 2 Why：为什么要求架构具备良好的可扩展性？ 伴随业务的发展、创新，运行环境的变化，对技术也就提出了更多、更高的要求。能够快速响应上述变化，并最大程度降低对现有系统的影响，是设计可扩展性好的架构的主要目的。 3 How：如何设计可扩展性好的架构？ 面向对象思想、设计模式都是为了解决可扩展性的而出现的方法与技术。 设计具备良好可扩展性的系统，有两个思考角度：（1）从业务维度。对业务深入理解，对可预计的业务变化进行预测。（2）从技术维度。利用扩展性好的技术，实现对变化的封装。 (1)在业务维度。对业务深入理解，对业务的发展方向进行预判，也就是不能完全不考虑可扩展性；但是，变化无处不在，在业务看得远一点的同时，需要注意:警惕过度设计；不能每个设计点都考虑可扩展性；所有的预测都存在不正确的可能性。 (2)在技术维度。预测变化是一回事，采取什么方案来应对变化，又是另外一个复杂的事情。即使预测很准确，如果方案不合适，则系统扩展一样很麻烦。第一种应对变化的常见方案是将“变化”封装在一个“变化层”，将不变的部分封装在一个独立的“稳定层”。第二种常见的应对变化的方案是提炼出一个“抽象层”和一个“实现层”。 4.在实际工作场景中的解决方案 在实际软件系统架构设计中，常通过以下技术手段实现良好的可扩展性:（1）使用分布式服务(框架)构建可复用的业务平台。（2）使用分布式消息队列降低业务模块间的耦合性。 (1)分布式服务框架 利用分布式服务框架(如 Dubbo)可以将业务逻辑实现和可复用组件服务分离开，通过接口降低子系统或模块间的耦合性。新增功能时，可以通过调用可复用的组件实现自身的业务逻辑，而对现有系统没有任何影响。可复用组件升级变更的时候，可以提供多版本服务对应用实现透明升级，对现有应用不会造成影响。 (2) 分布式消息队列 基于生产者-消费者编程模式，利用分布式消息队列(如 RabbitMQ)将用户请求、业务请求作为消息发布者将事件构造成消息发布到消息队列，消息的订阅者作为消费者从消息队列中获取消息进行处理。通过这种方式将消息生产和消息处理分离开来，可以透明地增加新的消息生产者任务或者新的消息消费者任务。

  2018-05-10

  **

  **295

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-16617949310011.jpeg)

  憶海拾貝

  设计模式的核心就是，封装变化，隔离可变性

  作者回复: 这是设计模式的核心思想，能理解到这点比背住 23 个模式更重要

  2018-05-11

  **4

  **181

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-16617949310012.jpeg)

  约书亚

  我平时工作中更多提醒自己压抑一下想预测各种需求变化的欲望。因为之前总是过度设计。压抑并不是说不去考虑各种变化，而恰恰需要把可能性大的变化点一一罗列出来，分维度打分，维度包括 可能性大小？长期还是短期会变化？如果发生变化，目前的组织和系统要花多大成本适应变化。这些变化正是李老师之前说过的各种复杂度上的变化，比如用户量激增带来的性能要求。此外还包括一个业务功能逻辑上的变化。 在经过上面分析后往往会给出“上中下”策的设计方案，下策一般考虑的变化少，短视，但迅速，修改小，立竿见影。上策一般看重远期，但成本高很高，也很可能预测不中。 最后还要分析，如果决定采用下中策，如果预测的变化发生了，系统修改为中上策的代价有多大，有些代价几乎是无穷大的，比如必须中断服务进行升级。如果代价小，那可以放心采用下策或中策。如果答案是否，可上策当前的代价又真的不可接受，那又要返回头重新分析了 实践发现这个方法挺好用，尤其当有人来咨询架构方案时，往往对给出的结果比较满意

  作者回复: 挺实用的方法，架构设计原则部分会讲到

  2018-05-10

  **6

  **116

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-16617949310013.jpeg)![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,w_14.png)

  Jaime![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/89yyff4c4c2e2b73ce4931bb01a6a943.png)

  曾经在游戏中使用过工厂模式和状态模式，但交个另外一个人维护了一个月，我回头去看，代码已经没办法入眼😅😅😅。虽然说设计模式确实是程序员的基本功，但其实很多程序员也不是很明白设计模式的。对于现在来说，我比较喜欢的做法就是先分层，层与层之间用消息解耦，在层内部的实现我会分模块出来，遵守单一职责原则。同时会积极跟业务部门沟通，预测一下下一步的方向。虽然不是每次都准确，但也大概做到心中有数，对于现在的系统也有个预估。这几年的编程经验给了我一些启发，一定不要过分设计，首先要能正确工作的软件是最重要的。

  作者回复: 符合实际情况，分层最有用，代码中用设计模式，如果后面接手的人不懂或者理解不到位，最后改的代码简直没法理解，还不如面向过程😂

  2018-05-10

  **4

  **58

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-16617949310014.jpeg)

  Mark Yao

  说说我们的消息系统，原始需求是用户操作业务后给用户手机短信提醒，设计初衷考虑到可能涉及到多家第三方短信服务商。我们统一定义发送短信接口，定义实时和定时发送方式，在内容形式定义模版接口接受不通形式自定义模版的内容，后来把短信定义为消息中的一种，如微信、短信、站内消息、app push 都为消息，又抽象出来消息接口，消息开发中使用多种设计模式。最后发现就就一直使用短信服务。我困惑地方，扩展性需要在什么时候做，做到什么程度呢？

  作者回复: 我的经验供参考：设计的时候考虑可扩展性，但如果评估后发现可扩展性设计的代价太大，那就暂时不做，等到真的有需求时再重构。 过早考虑可扩展性，很多通用性和抽象都是推测的，等到真的要落地了，很可能发现事实并非如此，这就是预测是错误的。 回到你的案例，一般来说，短信本身会考虑可扩展性，例如联通的短信接口和电信的不同，这种可扩展性是要一开始就设计的，但短信和微信，看起来都是消息，实际上差异非常大，可扩展性设计想兼容这两种方式，方案比较复杂，可能看起来有点不伦不类

  2018-05-10

  **5

  **34

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-16617949310015.jpeg)

  轩辕十四

  我感觉中文"可扩展性"其实对应两个概念，extensible(对变化的扩展），以及 scalable（对规模的扩展）。分开来讲可能更清楚些

  2018-06-26

  **4

  **22

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-16617949310016.jpeg)

  narry

  对于可扩展性，我最常使用的微内核和“”流水线+filter”两个模式，微内核将稳定的核心部分逐渐的固定下来，保证系统的稳定，流水线的模式满足了开闭的原则，利于系统的扩展

  2018-05-10

  **

  **14

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-16617949310027.jpeg)

  jw

  应对变化的两个方案: 1，封装变化层和稳定层 2，提炼抽象层和实现层 本质上都是在在将变化和稳定分离

  2018-05-10

  **

  **13

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-16617949310028.jpeg)

  武洪凯

  老师能不能推荐一些构架的书，中文的英文的都可以。课程讲的很好，不过很多细节深扣的话感觉还要继续看书。

  作者回复: 深扣细节的话，就直接奔着具体某个系统或者专题，例如 kafka 或者缓存，这样找书就很容易了

  2018-06-26

  **

  **10

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-16617949310029.jpeg)

  张玮(大圣)

  看了全部的评论，都在谈构架，架构，其实想说的是在扩展性设计是首先要考虑的是当前的组织和业务体量能承载和所要求的架构， 创业期间，单一，中期分层慢慢过渡，具体到每个子域也是分层慢慢过渡，笼统的说那就是分层，分层，分层，最终还是考量技术人如何界定分层的事

  2018-05-11

  **2

  **10

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100210.jpeg)

  带刺的温柔

  厉害了程序员都想要开发一个完美的灵活可扩展的系统永无止境，而往往陷入过度设计的泥潭，最后累的要死得到的可能是貌似完美符合了扩展性但是非常不好用甚至有点画蛇添足的感觉。觉得扩展性不是一触而就的也不是一成不变的它是一它是不断改进的过程，不变的是满足需求是底线在追求扩展性的路上把风险控制在最低。我在兼容简单与扩展性上我觉得一定的冗余是个不错的选择，老师你觉得呢

  作者回复: 非常正确，一定的冗余和浪费，能够大大减少方案的复杂度

  2018-05-11

  **

  **10

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100211.jpeg)

  zhou

  老师你讲的看起来有点吃力，能否推荐几本书让我先入个门

  作者回复: 专栏已经是我综合自己的经验，结合看了很多架构设计的书籍整出来的，如果专栏看的有点吃力，那看其它书会更吃力。 可以说说你吃力的点，看看能不能帮到你

  2018-06-14

  **

  **7

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100212.jpeg)

  朋朋

  做游戏 经常变需求玩法 特别是策划做新系统时 但他不能大改旧系统 还得相互适配 因为毕竟是一款游戏 这样 可以把整个系统拆分成多个服务 服务和服务之间用消息队列 一个服务内部用分层的方法 那个层变啦 就修改那个层 那个服务业务变啦就修改那个服务 不用大改整个系统

  2018-06-03

  **

  **7

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100213.jpeg)

  孙振超

  之前看过一篇介绍架构的博文，里面提到一个观点：衡量架构的好坏是变更的成本。扩展性的好坏很依赖于设计人员对问题的抽象能力，如同文中所描述的把系统分为稳定层和抽象层两部分，就是对问题进行了抽象。具体而言，在设计上经常采用的方法是模板+接口，将具体的业务逻辑抽象为固定的几个步骤，每一个步骤是一个接口，而后根据不同的对应的参数动态选择不同的实现，这样当已有的业务发生变更时，只需要调整相应的逻辑即可，做好关注点分离，面对新增的业务逻辑和形态，添加对应的实现即可，无需修改已有的内容。 另外就是利用动态修改能力（比如 java 中无需重启服务修改某一个属性的值）来应对业务变动，提升扩展性

  作者回复: 将业务逻辑抽象为固定的步骤，适合业务已经比较成熟了，例如 nginx 将 http 的处理步骤抽象为大概 10 个阶段，如果是创新业务，这样做比较难

  2018-05-26

  **

  **7

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100214.jpeg)

  明翼

  设计模式里面的依赖倒置原则，上层不依赖下层，下层也不依赖上层，两者都依赖于抽象，抽象是稳定的，上层和下层都是可扩展的，相当于文章说的一个稳定层抽象，两个变化层…

  作者回复: 纠正一下：SOLID 原则不是设计模式里面的，而是对象和接口的设计原则。 依赖倒置的难点就在于稳定层的设计，实践中稳定层也难以保证稳定

  2018-05-10

  **

  **7

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100215.jpeg)

  Jesse.zhang

  学习了，扩展性是为了应对未来新的需求变化能快速响应的一种能力，前期架构时需要考虑一定的扩展性，但无需事事考虑，考虑的部分是基于需求分析，以系统重点的业务方向上，其他的业务先开干，之后以代码重构方式考虑扩展，这样一方面可以加快系统落地，其次减少扩展性错误或不完美而带来的工作量。

  2018-05-10

  **

  **6

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100216.jpeg)

  建强

  我曾经用过的可扩展编程技术： 1.把一个通用的处理过程用一个函数来实现，把一些会变化参数放到一个配置文件活数据库表中。 2.编程面向接口，不是面向具体的实现细节。 3.采用封装、继承、多太等面向对象的技术 4.采用拼接动态 SQL 语句构建条件组合查询语句。

  作者回复: 不错👍👍

  2019-07-14

  **

  **5

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100217.jpeg)

  王念

   先满足功能 再重构框架

  作者回复: 这也不行，可能功能还没做完就要重构了

  2018-05-13

  **

  **5

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100218.jpeg)

  Hwan

  前几个月设计和开发一个审核的系统，通过将职责划分清楚之后，再使用微服务将各个模块划分出来，审核的算法和调用第三方的这些和主系统分开，现在不管怎么加其他第三方的审核服务都没事，还是很开心的

  作者回复: 牛逼👍

  2019-09-03

  **2

  **4

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100319.jpeg)

  I

  代码中实现的扩展，只采用过插件模式。但插件模式似乎应对场景比较单一，大神可以谈谈代码中的其他实现方式吗？

  作者回复: 代码中的扩展性，一般都是用面向对象，设计模式，面向过程的语言就封装为模块，用插件模式

  2018-08-14

  **

  **4

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100320.jpeg)![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,w_14.png)

  escray![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/d57fddfa5b2c2ce3071e92304da8af62.png)

  老师在留言里面提到，“设计的时候考虑可扩展性，但是如果代价比较大，就展示不做，有需要时再重构”，这个比较实用。 之前做过的系统对于可扩展没有什么要求，实在不行的时候，就会考虑推到重来。 可扩展性并不想前面提到的高性能和高可用那么容易衡量，因为扩展的可能性还是要小一些，或者说可扩展性并不是特别的明显。 按照专栏里面的说法，设计模式好像更多的是考虑可扩展性，感觉上似乎对于高性能和高可用意义不大。但是反过来，对于普通的应用开发者来说，是不是遇到扩展性问题（或者需求变化）的可能性要远大于高性能或者高可用？

  作者回复: 是的，普通应用开发者更多是代码层面的可扩展性，而不是架构层面的可扩展性

  2020-09-03

  **

  **3

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100321.jpeg)

  不再犹豫

  代码层面来说我觉得是快速实现，持续重构。建立在对业务充分理解的基础上，按照依赖抽象的原则，提取出因业务变化而导致代码逻辑变化部分。

  作者回复: 是的，应用设计模式，设计原则就可以了

  2018-05-23

  **

  **3

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100322.jpeg)

  ZHANGPING![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/8ac15yy848f71919ef784a1c9065e495.png)

  个人对可扩展的理解：因为业务需求的变更（新增或修改），使得系统需要支持新的功能。其本质是业务驱动，所以作为开发者在设计之初就需要对行业有深刻的认知，知道行业演进规则，熟悉业务层的玩法，套路，和自己当前公司的定位。然后再从技术层面考虑怎样去尽可能的提供灵活的解决方案。 当然如果作为行业的领导者，可能没有参照物，这个时候也可以通过和产品的探索+论证，预测出可能的改动点，当然可能不对。 

  作者回复: 理解到位

  2021-06-22

  **

  **2

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100323.jpeg)

  RMB

  业务的复杂度决定架构设计的复杂度，有时把业务想的太复杂，反而让架构设计更臃肿，所以，其他暂且不说，对复杂业务的拆分能力以及把控业务的拆分粒度，非常重要！

  作者回复: 业务拆分粒度是关键，但大部分人业务设计的时候都倾向于预测更多业务发展和变化，因此导致更加复杂。

  2021-01-30

  **

  **2

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100324.jpeg)![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,w_14.png)

  Xiao

  在实际编码阶段，会采用相应设计模式来 coding，比如策略、工厂、代理模式、模版方法模式等等，也会将 DDD 的思想运用到 coding 中来，尽量做到高内聚。项目架构设计上，也会运用 DDD 的六边形架构设计。个人觉得 DDD 的思想在复杂的业务背景下，能够带来意想不到的效果。 还有，个人觉得架构师首先应该也是行业业务专家，在做架构设计的时候，能够对未来业务发展有一定的把控力。

  作者回复: 看什么级别的架构师，P9/P10 的架构师基本上都是行业业务专家，P7/P8 更多还是负责技术

  2020-09-29

  **

  **2

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100325.jpeg)

  GEEKBANG_4123791

  设计模式要好好看看了

  作者回复: 设计模式是代码的可扩展性，架构的可扩展性和设计模式关系不大

  2020-05-08

  **

  **2

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100326.jpeg)

  两只狮子

  【从 0 开始学架构】学习本节课程有共鸣。可扩展性总会提到，但是可扩展性应该怎么做，做到什么程度，有没有跑偏，在工作中往往就不是那么有明显的界限。按照老师的思路将可扩展性提炼为文中提到的预测变化和应对变化，我的感觉无比到位。文中提到的现象我在工作中总会遇到，也会想到很多办法去解决实际的问题，但是并没有真正的将这个经历理论化，我想着也许就是普通人跟大神的区别。今天学习后的收获，1、利用老师的理论指导工作；2、往后的工作中要多思考多提炼。

  作者回复: 嗯，理论再牛，也要实践才能理解更深刻

  2020-02-12

  **

  **2

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100327.jpeg)

  艳姐

  设计模式是代码级别的，跟架构层面的不同。架构层面的扩展性例子只谈了数据库的扩展，能否再举个复杂点的例子便于理解。

  作者回复: 例子是为了说明本质的，本篇在于讲解可扩展性为什么复杂这个问题，提炼了“预测变化”和“应对变化”两个复杂点，你可以结合自己的业务按照这种套路分析一下

  2018-07-04

  **

  **2

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100328.jpeg)

  日光倾城

  前面讲高性能和高可用还觉得很贴近，这个可拓展性就觉得很不好把握了，可能我平常接触的需求比较简单，就只考虑怎么实现，没有考虑扩展性，有时候觉得需求太个性化没啥拓展可言，或者说抽不出来变化与不变，所以这方面的经验很欠缺。后面工作中还是要加强这方面的意识

  作者回复: 企业级应用，互联网应用，可扩展性都很常见呢，你可以看看《淘宝产品十年事》，里面讲需求的各种变化

  2018-05-17

  **

  **2

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100329.jpeg)

  大力水手 Jerry

  先预测，再应对。预测基于对业务的深入理解，应对基于对技术的深入理解。业务暂且不论，基本的技术包括：自顶向下的结构化程序设计技术，面向对象程序设计技术、设计模式、框架或中间件（框架封装了标准和协议，隔离底层公共逻辑和上层的业务逻辑）、特定功能的系统软件（缓存、消息中间件）……

  2021-11-09

  **

  **1

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100330.jpeg)![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,w_14.png)

  菠萝吹雪—Code

  (1)依赖抽象而不是依赖实现 (2)在做棋牌游戏抽奖活动时，每种奖品发放的逻辑不一样【比如：银豆、话费】 抽象出来都是奖品，但是每种奖品发放的逻辑又不一样 抽象出共同的 使用设计模式  应对各种奖品方法逻辑 (3)在对接个加快递接口时，因为个加快递接口都不一样，并且后期都有可能变化，使用了 适配器模式等  后期再加入快递 100 接口时  就很方便了

  2021-03-01

  **

  **1

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100331.jpeg)

  密码 123456

  用的 spring   @qualifier 的分组功能和 spring 的 ObjectFactory 懒加载。进行扩展。感觉还可以

  2020-07-15

  **

  **1

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100432.jpeg)

  liupan

  策略模式、代理模式、模板模式与装饰者模式的差异在哪？目前设计感觉这几种都沾边了，比如一个任务进来，先执行 1，再执行 2 最后执行 3;不同的场景 1-2-3 的实现可能相同可能不同，那么用多态来封装这些差异，相同的应用通用点，不同的个性化就增加类来实现，业务场景进来会进不同的策略，来区分是否执行下一步，都会先执行到代理类，再转到真正的实现类，所以感觉用了多个设计模式

  作者回复: 这个问题这里回复不了详细的哦，简单来说就是不同的设计模式是为了解决不同的变化

  2020-05-02

  **

  **1

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/132.png)

  荣码人生

  结合自己的工作，再加上看了网友留言，只想到下面三种设计模式，深深觉得程序员的本职工作是实现需求，因为我们的上游是产品经理某一具体的需求，思维与工作都被限制在实现上，某一个点。而架构师的上游是整个系统设计（空间），包括系统的过去、现在和未来（时间），某一个面甚至一个立体。努力学习，利用各种案例，在用的与思考过程中来记忆，而不是死记硬背，这样尽早还是得还回去。 以后学习设计模式，应该这样学习，从 web-app-db，从上到下，去将这些设计模式分类方便记忆。 工厂模式，数据库 pool 或者缓存 pool，通过工厂模式创建客户端对象。 装饰者模式，service 业务层使用接口类与实现类。 订阅与广播模式，消息队列中一种例用。

  2020-04-11

  **

  **1

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100433.jpeg)

  谭方敏

  日常工作中除了刚来说的装饰者模式，还有消息协议设计（抽象），消息注册和 handle 技术（封装）。 在消息协议设计中，我们一般讲协议抽象为包头和包体，其中包头指定消息体长度，而包体中就按照长度来设计内容，这样就规范了整个通讯系统的格式。 消息处理过程也是如此，网络层做到只处理三种事件（读，写，错误），应用层以后处理注册（message:handle）以及分发逻辑。 在扩展性的思考上，尽量考虑稳定点和变化点，稳定点要基于本身内在逻辑，比如一个人，就包括衣食住行，吃喝玩乐，这就是人的大体行为，或许还有阅读思考，但是这个频率相当低，定义人的行为就可以基于这样最本质的原子操作，这是一个透过现象深究本质的过程，而变化点，其实也是一个分解的过程，需要将他分解成几个稳定点的操作集合，比如今天去优衣库，这就可以拆解为衣和行，可能还有吃喝玩乐，这些原子操作。

  2020-02-28

  **

  **1

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100434.jpeg)

  考休

  学习了老师的文章，又看了大家的评论，从技术上讲的都很多了，工作中我还发现一个可扩展性的难题，就是需求的沟通上，有的时候因为沟通导致的过度设计也很频繁，很多时候产品总是讲什么都想要，可是也不见得这些都需要做可扩展性的设计，也要对产品人员晓以利害，因此预估扩展性导致的开发复杂度也很重要了。

  作者回复: 开发人员要有自己对业务的理解力

  2019-07-11

  **

  **1

- ![img](data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABkAAD/4QN5aHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MCA3OS4xNjA0NTEsIDIwMTcvMDUvMDYtMDE6MDg6MjEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YWE3YmZhMDItMzBhMC00MDg3LTg3MmYtOGMwMjMxNjNhZWRjIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjI2MTlEODM3NTgzMTExRTk5NDY4Qjk3QUFCNDFBN0QzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjI2MTlEODM2NTgzMTExRTk5NDY4Qjk3QUFCNDFBN0QzIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OTYyRTNCMDNBREI4MTFFOEFFNTJDODlGREQ1OTUzMDMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OTYyRTNCMDRBREI4MTFFOEFFNTJDODlGREQ1OTUzMDMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRm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)

  whhbbq

  用过的可扩展的技术 1、数据库扩展字段。效果不错，后续的开发成本很低。 2、设计模式。比如策略模式，好处是关注点隔离、代码可读性增强、减少了代码维护成本。 3、规则引擎。可动态配置，立即生效，无需重启服务。

  2019-05-05

  **

  **1

- ![img](data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABkAAD/4QN5aHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MCA3OS4xNjA0NTEsIDIwMTcvMDUvMDYtMDE6MDg6MjEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YWE3YmZhMDItMzBhMC00MDg3LTg3MmYtOGMwMjMxNjNhZWRjIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjI2MTlEODM3NTgzMTExRTk5NDY4Qjk3QUFCNDFBN0QzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjI2MTlEODM2NTgzMTExRTk5NDY4Qjk3QUFCNDFBN0QzIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OTYyRTNCMDNBREI4MTFFOEFFNTJDODlGREQ1OTUzMDMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OTYyRTNCMDRBREI4MTFFOEFFNTJDODlGREQ1OTUzMDMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRm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)

  whhbbq

  【不能每个设计点都考虑可扩展性】 关于这点，有点感触。一开始搭建系统的时候，使用的是 mysql 数据库，leader 审核代码时，因为在代码中使用了一些 mysql 特有的语法而被要求修改（比如自增主键）。原因是系统后续可能会使用 oracle 来存储。当时就感觉这种可能性太小了。囧。。 实践证明，这只是在给自己找麻烦。要是早看到华仔的文章就好了哈哈

  作者回复: 现在看到也不晚😂

  2019-05-05

  **

  **1

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/132-166179493100435.jpeg)

  gkb111

  封装变化，隔离稳定，先分层在设计模式

  2018-12-13

  **

  **1

- ![img](data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABkAAD/4QN5aHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MCA3OS4xNjA0NTEsIDIwMTcvMDUvMDYtMDE6MDg6MjEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YWE3YmZhMDItMzBhMC00MDg3LTg3MmYtOGMwMjMxNjNhZWRjIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjI2MTlEODM3NTgzMTExRTk5NDY4Qjk3QUFCNDFBN0QzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjI2MTlEODM2NTgzMTExRTk5NDY4Qjk3QUFCNDFBN0QzIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OTYyRTNCMDNBREI4MTFFOEFFNTJDODlGREQ1OTUzMDMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OTYyRTNCMDRBREI4MTFFOEFFNTJDODlGREQ1OTUzMDMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRm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)![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,w_14.png)

  三毛

  设计要拥抱变化，但是变化又往往是难以预测的，如何在支持变化和避免过度设计中取得平衡也是一项需要修炼的能力。

  2018-08-21

  **

  **1

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100436.jpeg)

  Carlos

  李老师专栏真是干货满满呀。我一般是上下班路上听，每篇文章听的不止一两遍。就可扩展性这片，结合老师讲解，我说说自己想法。我认为可扩展性架构里的变化应该分为两种，一种是新增，一种是优化。第一种是架构设计需要考虑的问题，比如系统增加新接入方式，不用改现有代码，只要新增一种实现就能满足，这是好的架构。不好的架构是无法通过新增新实现来完成，而是要修改现有代码逻辑，这样会带来两个问题，一是可能会破坏原有的功能，二是增加原有方式的代码复杂度，为维护增加难度。第二种优化可能主要是功能设计时需要考虑的，现实情况是，产品本身的某个使用习惯，在对客户进行演示交流时，不满足客户要求，他们更习惯另外一种方式，这种情况先是进行引导，引导不成，就要结合客户意愿，进行优化了，这种优化通常是基于原有逻辑的修改。新增实现就没有意义了。

  作者回复: 有的业务逻辑，用规则引擎之类的实现，优化也可以做到很容易扩展

  2018-06-30

  **

  **1

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100437.jpeg)![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,w_14.png)

  chris

  23 种设计模式不是死记硬背，生搬乱套的，而是你写的业务代码确实满足了业务不断出现的变化和扩展，即使没用到这 23 种设计模式，也是可扩展的！

  2018-06-30

  **

  **1

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100438.jpeg)

  Chang

  设计不同算法，没办法做到极致！其实设计项目多了发现都是 trade off

  作者回复: 关键是平衡是一门艺术😂

  2018-06-13

  **

  **1

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100439.png)

  铭毅天下（公众号）

  在 Elasticsearch 开发 API 选型的时候，使用 JEST，最主要的原因：jest 对不同 es 版本都适用。 主要考虑：ES 版本更新迭代快，一个稳健的 API 选型，从可扩展性角度适配了 ES 版本的变化和更迭。

  2018-05-14

  **

  **1

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100440.jpeg)

  李志博

  正打算规则引擎剥离变化的部分

  作者回复: 做好踩坑的心理准备😏

  2018-05-11

  **

  **1

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100441.jpeg)

  aiwen

  讨论问题比较多，解决问题的方案却没提，后续会有相关的问题成熟的常用的解决方案么

  作者回复: 有的，你可以详细看看目录

  2018-05-10

  **

  **1

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100442.jpeg)

  李艳超_Harry

  把一些逻辑脚本化。python grovvy

  2018-05-10

  **

  **1

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100443.jpeg)

  成功

  适配层用过，也就是今天讲的变化层。

  2018-05-10

  **

  **1

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100444.jpeg)![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,w_14.png)

  Le.e

  我做的是跨境电商营销工具中的 CDP 和独立站数据对接的部分： 1、使用策略模式，对接独立站中不同主题（下单成功、取消订单、新增商品等）的数据。对接新主题的时候，只需要实现接口，重写方法即可。 2、使用模板方法模式，以及遵循接口隔离原则，解析不同独立站的优惠规则的各项规则。继承抽象类之后，只需要重写解析对应规则的方法即可。

  2022-08-14

  **

  **

- ![img](data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABkAAD/4QN5aHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MCA3OS4xNjA0NTEsIDIwMTcvMDUvMDYtMDE6MDg6MjEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YWE3YmZhMDItMzBhMC00MDg3LTg3MmYtOGMwMjMxNjNhZWRjIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjI2MTlEODM3NTgzMTExRTk5NDY4Qjk3QUFCNDFBN0QzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjI2MTlEODM2NTgzMTExRTk5NDY4Qjk3QUFCNDFBN0QzIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OTYyRTNCMDNBREI4MTFFOEFFNTJDODlGREQ1OTUzMDMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OTYyRTNCMDRBREI4MTFFOEFFNTJDODlGREQ1OTUzMDMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRm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)

  梵

  架构设计出发点也是从实际出发，没必要为了重构而重构

  作者回复: 正解

  2022-07-22

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100445.jpeg)![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,w_14.png)

  A 君

  预测的成本是预测得准不准，预测什么时候到来。1 写 2 抄 3 重写，成本较小。

  作者回复: 可以看看《重构》书中更详细的描述和解读

  2022-05-30

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100446.jpeg)

  helloworld

  事不过三原则

  2022-05-24

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100447.jpeg)

  林肯

  1、预测 2 年内的变化； 2、应对变化： （1）提炼出稳定层和变化层； （2）提炼出抽象层和实现层； 3、重构原则：1 写 2 抄 3 重构

  2022-04-26

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100548.jpeg)![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,w_14.png)

  地平线

  之前老是过度设计，思考非常多架构设计，顾虑太多，预测太多，导致很多时候根本出不来一个方案。说明之前取舍做的不到位，样样都要是不可能的。

  作者回复: 可扩展性方面很容易过度设计，尤其是大家都接受了“设计模式”的熏陶 ：）

  2022-02-25

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/132-166179493100549.png)![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,w_14.png)

  hzy

  面向接口编程

  2022-02-14

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100550.jpeg)

  简单猫

  事不过三 原则挺好 很多人怕就怕一架构就想的很宏伟 没有考虑这个业务要的是速度 因为市场上可能早几天这个业务就被存活下来了 抢到了市场 才会有更多的需求 才有重构的意义 而不是自嗨

  作者回复: 很多人都想展现自己的牛逼 ：）

  2022-02-12

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100551.jpeg)

  易飞

  分层

  2022-02-02

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100552.jpeg)

  子非鱼

  可扩展性本质上是应对需求变化，需求又分为功能需求和性能需求

  2022-01-03

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100553.jpeg)

  lliill![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/89yyff4c4c2e2b73ce4931bb01a6a943.png)

  VUE 中使用模版以及组件模式进行开发开发，JAVA 中分层开发、封装常用工具类，都可以做到可扩展性。

  作者回复: 学习了 ：）

  2021-12-26

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100554.jpeg)

  刘磊

  抽象层也是稳定层，实现层也是变化层。

  2021-10-27

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100555.jpeg)

  tungSing

  之前用了适配器模式来实现同一套页面或者叫表结构来适配不同的品牌方的传感器传输给应用程序的数据，效果还不错，来个一个品牌的传感器数据就按照它的数据格式转换为自己应用的数据即可，扩展性相对还可以

  2021-10-08

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100556.jpeg)

  Allan![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/d57fddfa5b2c2ce3071e92304da8af62.png)

  最多的使用可能对于自己来说就是工厂模式了，然后后续有新需要来了，只需要增加一个类对应的方法就可以了，之前的代码不需要变动。

  作者回复: 这个算是最简单的设计模式了 ：）

  2021-08-31

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100557.jpeg)![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,w_14.png)

  蝴蝶![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/89yyff4c4c2e2b73ce4931bb01a6a943.png)

  说到这个我可就不困了， 建造者 单例 责任链 适配器 

  作者回复: 一看就是老码农了 ：）

  2021-08-18

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100558.jpeg)

  呆呆狗的兽

  "几乎所有的技术人员对于可扩展性都特别重视" 这个在很多人身上根本看不到......

  作者回复: 重视不代表能做好，设计模式几乎每个技术人员都学过，讨论的时候经常也会说可扩展设计怎么做，但是不一定做得好

  2021-08-02

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100559.jpeg)

  小鬼爱风雪

  对于多数据源，做过一定的扩展性采用适配器模式来做的，新的数据来后，只去实现新的接口类。还做过类似于策略模式的设计来实现不同用户信息查询的功能。

  作者回复: 对，这两种模式是应用比较多的封装方法

  2021-06-07

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100560.jpeg)

  包子

  不光是扩展功能，好的分工也需要基于好的封装

  作者回复: 是的

  2021-04-18

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100561.jpeg)

  WESTWALL

  老师，我对规则引擎比较感兴趣。能够推荐一些相关的框架或者参考资料？谢谢您~

  作者回复: 这个上网搜索就可以了

  2021-04-07

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100662.jpeg)![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,w_14.png)

  MasterSkills

  奉行“单一职责”原则，小到几行代码大到各个子系统，分好块，管理维护好各个块之间的关系，实现不同粒度的可插拔。

  作者回复: 关键是“职责”这个粒度又怎么界定呢？ “交易”是职责么？那么交易里面的“订单”是不是职责呢？订单里面的“退货”是不是也是职责呢？ 你会发现，最后还是要人来根据一些规则来判断和取舍。

  2021-03-05

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100663.jpeg)![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,w_14.png)

  DFighting

  可扩展性分为：预测可扩展性和应对可扩展性，前者主要是未来的业务方向和应用环境的变化；后者也可以粗略分为 2 个维度吧，粗粒度一点的架构设计，主要是分层，隔离不确定的业务，具体到开发，我觉得更多是遵循开闭原则、面向接口编程，23 种设计模式不建议一上来就用，除非某种模式真的很适配这个业务场景，不然真的会是的其反。可扩展性这个事情，只能走一步看一步，很难走一步看全局，过度设计真的很可怕。 我在日常开发过程中基本就是按照大的方向分层，随着产品迭代慢慢把稳定下来的功能集中到一起；具体到编码的话，主要是设计模式和设计原则，虽然 23 种设计模式用的不多，但是我觉得关键是设计原则这些。理解了设计原则才能慢慢理解设计模式想解决什么问题，才能用好设计模式，甚至在 23 种基础设计模式的基础之上结合出最适合业务场景的业务设计模式

  作者回复: 是的，可扩展性很容易因为滥用设计模式导致过度设计，关于什么时候该用设计模式来优化代码，你可以参考“三次原则”，英文是 Rule of three，由 Matin 大叔在《重构》一书中提到。 It states that you are allowed to copy and paste the code once, but that when the same code is replicated three times, it should be extracted into a new procedure. The rule was introduced by Martin Fowler in his text "Refactoring" and attributed to Don Roberts.

  2021-02-18

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100664.jpeg)![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,w_14.png)

  flyCoder

  看了栏主的面向对象葵花宝典，从开发的视角来说,抽象接口、使用组合会一定程度提高接口的扩展性，但是没有彻底的完全可扩展，毕竟需求的变化是无限的，开发成本是有限的，我理解扩展性应该是在逐步的重构过程中慢慢完善和丰富的。

  作者回复: 是的，不可能设计一个方案无论需求和业务如何变化都能自如扩展

  2020-10-22

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100665.jpeg)

  leesper

  用设计模式中的工厂模式来设计手游中的扭蛋系统

  2020-10-12

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100666.jpeg)

  KAITO

  ORM 算不算可扩展性呢

  作者回复: 算代码层面的扩展

  2020-10-06

  **

  **

- ![img](data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABkAAD/4QN5aHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MCA3OS4xNjA0NTEsIDIwMTcvMDUvMDYtMDE6MDg6MjEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YWE3YmZhMDItMzBhMC00MDg3LTg3MmYtOGMwMjMxNjNhZWRjIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjI2MTlEODM3NTgzMTExRTk5NDY4Qjk3QUFCNDFBN0QzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjI2MTlEODM2NTgzMTExRTk5NDY4Qjk3QUFCNDFBN0QzIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OTYyRTNCMDNBREI4MTFFOEFFNTJDODlGREQ1OTUzMDMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OTYyRTNCMDRBREI4MTFFOEFFNTJDODlGREQ1OTUzMDMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRm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)

  杨琳

  可扩展性的解决就是对变化进行封装，分离稳定层和变化层。不论是接口还是抽象，都只是为了将变化与不变分离，将业务关注在变化层。但由于每一个点都有可能变化，所以系统不断分离抽象，设计不断膨胀，最终导致系统难以维护。 所以，软件设计之初，明确软件的生命周期和软件的适用范围极为重要，这是对客户负责，也是对自己负责。

  作者回复: 是的，过度会设计坑所有人

  2020-09-18

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100667.jpeg)

  落叶飞逝的恋

  根据业务在一定程度上进行功能的粒度拆分，保证单一职责，这样整个业务就是可组装的形式。具体落实到代码上，通过面向接口编写代码，大体上能做到相对比较的可扩展性。

  2020-08-26

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100668.jpeg)![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,w_14.png)

  程序员小岑![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/89yyff4c4c2e2b73ce4931bb01a6a943.png)

  抽象出公共部分，各个子流程实现当中的接口，类似于模板模式

  2020-05-15

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/132-166179493100669.png)

  Geek_42a7e5

  我觉得能够把可扩展性考虑得很周全的话，需要在某个业务领域有比较深的了解和经验。

  作者回复: 肯定的

  2020-03-23

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100670.jpeg)

  J.Smile

  装饰器模式，我的理解是继承加组合。

  作者回复: 所有设计模式都可以这么说的😄

  2020-02-13

  **2

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/132-166179493100671.png)

  小刀

  封装变化，隔离可变性

  2020-01-13

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100672.jpeg)![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,w_14.png)

  且听风行

  笔记： 1. 什么 buff

  2020-01-06

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100673.jpeg)![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,w_14.png)

  技术修行者![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/89yyff4c4c2e2b73ce4931bb01a6a943.png)

  可扩展性属于非功能性需求，需要在架构设计的时候进行考虑。 一般会有三种方式： 1. 使用分层设计，例如网络分层、MVC 分层等，这样尽量做到职责清晰，避免所有代码混在一起。 2. 引入设计模式，封装变化，针对可能变化的部分，做一个抽象层，维持接口定义稳定。 3. 系统之间调用尽量解耦，可以考虑引入消息队列。

  2019-12-25

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100674.jpeg)

  chayufan

  应对变化中的形式 2 可以通过依赖翻转，来调整依赖关系哦

  作者回复: 那是代码层面的，架构层面依赖翻转会更复杂

  2019-10-20

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100675.jpeg)

  钱

  课后思考及问题 1：关键思想 1-1：设计具备良好可扩展性的系统，有两个基本条件：正确预测变化、完美封装变化。但要达成这两个条件，本身也是一件复杂的事情。 1-2：设计模式的核心思想——封装变化，隔离可变性，这个思想对于需要考虑动态平衡的场景估计都需要，比如：战争，棋类游戏 2：代码层面我们是怎么实现可扩展性的？ 2-1：计算逻辑，依赖业务配置，配置数据非常灵活 2-2：切换业务逻辑的时候，通过动态的业务开关 2-3：验证逻辑时，通常通过黑白名单的方式 2-4：系统间交互通常使用 RPC 或 MQ，组件可复用 看了几篇，听懂没问题，也不烧脑，不过让我提出什么一针见血的问题，也提不出来😜，估计功力有限。

  2019-08-24

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100676.jpeg)

  凌

  互联网时代下，某个系统的需求不可能是一成不变的，面对这种不断的变化，我们常采用设计模式、面向对象等方式来构建系统，目的是为了在系统有了新需求之后代码的改动尽量小 可扩展的系统有两个基本的条件： 1.正确预测变化 2.妥善应对变化 3.完美封装变化 正确预测变化 预测变化代表着该需求可能不一定会产生变化，所以有时候容易造成过度设计 无法把每个设计点都考虑拓展性，这样一来架构很重很大 妥善应对变化 正确预测可能变化的需求，在应对变化的时候，我们要把业务系统分成两层：业务稳定层、业务变化层。	   对于系统，我们要拆分出稳定层和变化层。对于系统内部，在增加新功能的同时，应该不影响旧的功能，不需要对旧功能模块做修改。对于整个微服务来说，服务之间是松耦合的状态，服务 A 的修改应该尽量不影响服务 B。 结构化编程的拓展是面向对象编程，而后又诞生了设计模式用来维持拓展性，例如装饰者模式：  --------------------------------------------------------------------------------

  2019-04-15

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100677.jpeg)

  陈斌

  可扩展性的思路：抽象、分层。 一方面是业务逻辑接口上的抽象，一方面是业务层次（生命周期）上的抽象。 服务的职责尽量清晰、简单、独立。

  2019-04-15

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100678.jpeg)![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,w_14.png)

  到道可道![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/89yyff4c4c2e2b73ce4931bb01a6a943.png)

  1.拆分出变化层和稳定层； 2.设计变化层和稳定层间的接口。

  2019-04-11

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/132-166179493100779.png)

  郭和平

  小白新手问题见谅，也不知道提的对不对 ：想请问下老师可拓展性多带来的运维问题有什么好的思路吗？比如接入 XML、JSON、ProtocolBuffer 三种接入方式为例，原本可以用一个整体 war 包运行，随着接入方式变多，应该不能这样了吧？想把每种接入方式单独抽离出来，或者说用一个配置文件加载指定版本的可变部分，解决办法目前看到的有热加载的方式，但是因为可变部分对稳定部分存在依赖，要是有多重依赖怕有问题？还有可以利用 rpc 通信可变和不可变部分的方式这种方式呢？

  作者回复: 没有完美的设计方式，你提到的根据配置热加载，整体 war 包都可以，如果为了运维方便，不同的协议隔离到不同的系统会比较方便

  2019-01-17

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100780.jpeg)

  Mr.Lee

  大佬，楼上所说的设计模式的核心就是，封装变化，隔离可变性 是说将不变的封装起来，做成“抽象层”，将变化的单独隔离出来，做成“实现层”。我理解的对吗？还请大佬赐教。

  作者回复: 基本正确，关于设计模式的解读，可以参考我的第一本书《面向对象葵花宝典》

  2018-10-30

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100781.jpeg)

  张汉桂-东莞

  还没用过可扩展技术。惭愧啊

  2018-10-02

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100782.jpeg)

  阿毛

  每次看完都会逐条查看大家的留言，每个人都结合自己的实践给出了思考和总结，但是交流还是受限。大神是不是拉个微信群方便交流？

  作者回复: 极客时间会建群沟通

  2018-09-07

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100783.jpeg)![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,w_14.png)

  王维

  请问华仔，如果说设计模式是代码级别的扩展方法，那么架构级别的扩展是有哪些方法呢？领域驱动设计算不算呢？

  作者回复: 领域驱动设计更多属于方案设计层面的，架构级别的可扩展方式后面有专门内容讲

  2018-09-06

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100784.jpeg)

  文竹

  目前为止，接触过两类系统，小系统和 ERP 系统。对于小系统来说，还没发现可扩展性的重要程度，一个点在于是否需要支持单元测试。对于 ERP 来说由于功能（会新增界面，业务逻辑，数据库或表）需要自定义，这类系统就凸现出了扩展性的重要程度。

  2018-08-17

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100785.jpeg)

  走神儿

  说说我做的一个系统，主要功能就是根据用户提供的信息获取用户征信数据。于是我看了大概 10 个左右的第三方获取数据的过程，从中抽象出了获取数据的几个方法并封装为接口，然后再为这个接口提供一个运行容器，在容器中会写一些获取征信数据的公共代码，例如数据有效期验证，征信数据入库，用户数据收集等，不同的第三方只需要实现接口，创建实例后往运行容器一传即可。因为第三方太多抽象的方法可能不够通用，打算将运行容器做不同实现，将第三方的接口高度一致的方法上提，将具体方法下沉到子接口中

  2018-07-20

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100786.jpeg)

  我走我流

  看来设计模式这本书还要翻出来好好学学

  作者回复: 架构层面的可扩展和设计模式差别还是比较大的

  2018-06-11

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100787.jpeg)

  陈友洲

  话说大神提到的规则引擎是个啥？有哪些使用场景？谢谢

  作者回复: 请自行搜索

  2018-06-04

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100788.jpeg)

  zhoubo

  华哥，你好，想实现 docker 部署基础上的项目的自动扩缩容，k8s 又觉得太重，请问有轻量级的技术可选吗？

  2018-05-31

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100789.jpeg)

  JOEL

  留个言，本文讲了封装变化以保持扩展的两种方式：分层和抽象。但具体做法却有很多，比如 servlet 的过滤器，比如从架构上就采用了 SOA 应该也算，比如有些构建工具 maven，采用了预订定义生命周期的方式，有些系统干脆采用了标准化的方式把复杂性隔离到系统外部，做法多种多样，要是能多列举这些最佳实践，也挺有收获。

  作者回复: 实践很多，我主张侧重提炼，不然很多人会陷入细节出不来

  2018-05-21

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100790.jpeg)![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,w_14.png)

  gevin

  关于可扩展性，我的经验做法是，通常在最初写代码时，按当时对业务需求的认识，对变化做一定的预测（其实就是在动手开发每个业务模块甚至每个功能前，先仔细想一下业务需求，如果发现某个地方可能会变化，就把该变化封装到代码里），并对此在代码里把相应的可扩展性做进去，这样通常能顶住一定的需求变化；然后是针对已做完的功能模块，如果因需求变化需要改动时，一定要再仔细分析需求，在对业务认识所及的范围内，尽量做好预测，并封装变化，做这部分功能的原因是，一个业务功能如果会变化一次，通常也会变化第二次甚至更多次，所以要被改动的功能，就是封装变化的目标。当然，预测变化要有个度，毕竟预测是不准确的

  作者回复: 度的把握是一门艺术

  2018-05-21

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100791.jpeg)

  古座

  Spi、动态编译。 DDD，对复杂逻辑和扩展性非常友好，但是不好理解程序员学习成本高，按需简化了。 洋葱架构，按职责抽象好几层，比 DDD 学习成本低。 ESB，异构系统，踩了很多坑…… Akka，raft，gossip 自己玩儿的，一直没机会用在项目里……

  2018-05-19

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100792.jpeg)

  路易斯陈凯瑞

  从个人经历来说扩展性更多体现在功能设计阶段，结合业务理解应用设计模式或者一些最佳实践，用的比较多的就是模版方法。

  2018-05-15

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100793.jpeg)

  J

  可扩展的技术就是使用了设计模式 ，比如文中提到的装饰者，还有策略模式和模板方法

  作者回复: 这是代码层扩展，架构层扩展不能这样做

  2018-05-15

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100794.jpeg)

  Sruby

  对于业务流程相同的子类业务，使用抽象类来定义流程，各个业务子类只要实现各自的业务就可以。

  2018-05-15

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100895.jpeg)

  张驰

  SPI 动态实现

  2018-05-14

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100896.jpeg)

  东方之猪

  项目里灵活运用模板方法，在抽相中定义不变的方法簇，将实现延迟到自类，让各自表现体独自变化，当时就预测这个算法簇不会频繁变化，事实也是预测如此，封装变化，面相抽象而不是实现，瞬间觉得代码水平是面相对象而不是面相过程

  作者回复: 那不是过度设计了？

  2018-05-13

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100897.jpeg)

  云辉

  扩展性可以理解为最小成本实现变化吧，分层，接口，配置都是思路吧，看谁抽象的功夫深了，不一定要面向对象。

  2018-05-12

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100898.jpeg)![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,w_14.png)

  天天向上卡索

  面向接口编程，提取公共部分代码为核心代码，其他的再实现相应接口，设计模式并非空谈，设计模式用的好可以减少后期修改维护的工作量，而设计模式的使用也是要从实际业务场景出发，避免过度设计

  作者回复: 设计模式不是空谈，但实践中空谈设计模式和过度使用的不少，关键还理解不到位😃

  2018-05-12

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100899.jpeg)

  Mario

  可扩展性，我觉着是个相当复杂的复杂性。 首先，什么是扩展，在哪里扩展，这就不是容易达成一致的； 其次，为什么是扩展而不是各司其职，也是个好问题； 最近几天在思考是重构还是重写的问题，资源不足又要做就重构，资源充足就重写，看着简单的答案，还是无从下手； 今天为大师兄们留下的小 300 万行代码打补丁，吐槽，怎么做才能不让小师弟继续吐槽？重构或者重写能解决？ 会不会没等小师弟吐槽，回过头来自己就吐槽自己，总结，如果做不到一边生产，一边重构，除了过度设计没有啥重用和复用的捷径

  2018-05-12

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-1661794931008100.jpeg)

  彡工鸟

  这里无法跟作者好好交流:(只能另外留言。其实我想说的是在扩展方面，无论是架构还是代码层面，其实都离不开软件那几大设计原则，而且不用太死记硬背。就像设计模式只是总结出来，而不是某个时间点蹦哒出来。会使用这些只是代表很好的封装了变化。会设计架构肯定能很好用这些原则，反过来是不成立的

  2018-05-11

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-1661794931008101.jpeg)![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,w_14.png)

  老王

  今天学习了，系统要区分“稳定层”和“变化层”。而且变化层也不只是为了扩展吧，变化层可能为需要经常改动的逻辑代码，如果稳定层的代码需要经常改动，那么程序就会 bug 不断。

  2018-05-11

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-1661794931008102.jpeg)

  anchor

  根据不同配送商查询不同数据和打印不同格式面单，通过将将获取数据和打印请求的代码做到可配置到数据库，执行时候动态生成，执行的方式解决

  2018-05-11

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-1661794931008103.jpeg)

  亚伦碎语

  个人觉得可扩展性，是一个高级开发人员的衡量标准，也是迈向架构的第一步，如果说高性能和高可用还可以用机器来扛的话，那么可扩展就真是代码功力了。最近在做组件库，深感设计一个好的组件库的不容易。尤其是考虑到要让使用者用的简单，但是又易于扩展，有的时候就是个悖论。另外老师能不能讲讲在 FP 下的扩展性怎么做呢？

  2018-05-11

  **

  **

- ![img](data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABkAAD/4QN5aHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MCA3OS4xNjA0NTEsIDIwMTcvMDUvMDYtMDE6MDg6MjEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YWE3YmZhMDItMzBhMC00MDg3LTg3MmYtOGMwMjMxNjNhZWRjIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjI2MTlEODM3NTgzMTExRTk5NDY4Qjk3QUFCNDFBN0QzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjI2MTlEODM2NTgzMTExRTk5NDY4Qjk3QUFCNDFBN0QzIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OTYyRTNCMDNBREI4MTFFOEFFNTJDODlGREQ1OTUzMDMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OTYyRTNCMDRBREI4MTFFOEFFNTJDODlGREQ1OTUzMDMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRm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)

  呵呵

  所谓架构层面的扩展，感觉一般情况下指的是扩容性

  作者回复: 扩容性一般称为“可伸缩性”，属于高性能的一部分，就是任务分配的模式带来的效果

  2018-05-10

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-1661794931008104.jpeg)

  feifei

  抽象出业务流，使用责任链来进行实现，可直街实现接口完成扩张，不修改原有代码

  2018-05-10

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-1661794931008100.jpeg)

  彡工鸟

  无论是架构还是代码层面，其实把软件设计那几大原则好好理解，基本上都不是事。剩下的就是实践实践实践。所谓的 23 个设计模式基本上都能对上

  作者回复: 然而我敢打赌即使背住 23 个设计模式后还是不会做架构设计，我曾经就是这样的

  2018-05-10

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-166179493100214.jpeg)

  明翼

  不太明白老师的说法，稳定层就是几个接口，变化很小吧

  作者回复: 稳定层可以是库，可以是包，可以是接口，可以是中间件，可以是子系统，例如 Linux 的 VFS

  2018-05-10

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-1661794931008105.jpeg)

  波波安

  我们讲的是代码层面的可扩展性，还是架构本身的可扩展性？

  作者回复: 可扩展性可以是架构层面的，可以是代码层面的，本质都是一样的，提问用了“代码”中的可扩展性，是考虑到可能比较多的朋友没有做过可扩展性架构设计。

  2018-05-10

  **

  **

- ![img](06%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9D%A5%E6%BA%90%EF%BC%9A%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7.resource/resize,m_fill,h_34,w_34-1661794931008106.jpeg)

  王策

  短信 微信和站内信那个项目可能想做的事情太多，是不是存在违反单一职责原则的问题

  作者回复: 单一职责一般用在编码层面，用来指导类设计，用于架构层面的话，很难明确“单一”的粒度。例如，到底“用户管理”（包括登录注册信息管理）是单一职责，还是“用户登录”是单一职责，看起来都可以。

  2018-05-10
