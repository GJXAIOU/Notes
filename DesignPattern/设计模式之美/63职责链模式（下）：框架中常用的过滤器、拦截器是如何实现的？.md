# 63èŒè´£é“¾æ¨¡å¼ï¼ˆä¸‹ï¼‰ï¼šæ¡†æ¶ä¸­å¸¸ç”¨çš„è¿‡æ»¤å™¨ã€æ‹¦æˆªå™¨æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ

ä¸Šä¸€èŠ‚è¯¾ï¼Œæˆ‘ä»¬å­¦ä¹ èŒè´£é“¾æ¨¡å¼çš„åŸç†ä¸å®ç°ï¼Œå¹¶ä¸”é€šè¿‡ä¸€ä¸ªæ•æ„Ÿè¯è¿‡æ»¤æ¡†æ¶çš„ä¾‹å­ï¼Œå±•ç¤ºäº†èŒè´£é“¾æ¨¡å¼çš„è®¾è®¡æ„å›¾ã€‚æœ¬è´¨ä¸Šæ¥è¯´ï¼Œå®ƒè·Ÿå¤§éƒ¨åˆ†è®¾è®¡æ¨¡å¼ä¸€æ ·ï¼Œéƒ½æ˜¯ä¸ºäº†è§£è€¦ä»£ç ï¼Œåº”å¯¹ä»£ç çš„å¤æ‚æ€§ï¼Œè®©ä»£ç æ»¡è¶³å¼€é—­åŸåˆ™ï¼Œæé«˜ä»£ç çš„å¯æ‰©å±•æ€§ã€‚

é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜æåˆ°ï¼ŒèŒè´£é“¾æ¨¡å¼å¸¸ç”¨åœ¨æ¡†æ¶çš„å¼€å‘ä¸­ï¼Œä¸ºæ¡†æ¶æä¾›æ‰©å±•ç‚¹ï¼Œè®©æ¡†æ¶çš„ä½¿ç”¨è€…åœ¨ä¸ä¿®æ”¹æ¡†æ¶æºç çš„æƒ…å†µä¸‹ï¼ŒåŸºäºæ‰©å±•ç‚¹æ·»åŠ æ–°çš„åŠŸèƒ½ã€‚å®é™…ä¸Šï¼Œæ›´å…·ä½“ç‚¹æ¥è¯´ï¼ŒèŒè´£é“¾æ¨¡å¼æœ€å¸¸ç”¨æ¥å¼€å‘æ¡†æ¶çš„è¿‡æ»¤å™¨å’Œæ‹¦æˆªå™¨ã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬å°±é€šè¿‡ Servlet Filterã€Spring Interceptor è¿™ä¸¤ä¸ª Java å¼€å‘ä¸­å¸¸ç”¨çš„ç»„ä»¶ï¼Œæ¥å…·ä½“è®²è®²å®ƒåœ¨æ¡†æ¶å¼€å‘ä¸­çš„åº”ç”¨ã€‚



# Servlet Filter

Servlet Filter æ˜¯ Java Servlet è§„èŒƒä¸­å®šä¹‰çš„ç»„ä»¶ï¼Œç¿»è¯‘æˆä¸­æ–‡å°±æ˜¯è¿‡æ»¤å™¨ï¼Œå®ƒå¯ä»¥å®ç°å¯¹HTTP è¯·æ±‚çš„è¿‡æ»¤åŠŸèƒ½ï¼Œæ¯”å¦‚é‰´æƒã€é™æµã€è®°å½•æ—¥å¿—ã€éªŒè¯å‚æ•°ç­‰ç­‰ã€‚å› ä¸ºå®ƒæ˜¯ Servlet è§„èŒƒçš„ä¸€éƒ¨åˆ†ï¼Œæ‰€ä»¥ï¼Œåªè¦æ˜¯æ”¯æŒ Servlet çš„ Web å®¹å™¨ï¼ˆæ¯”å¦‚ï¼ŒTomcatã€Jetty ç­‰ï¼‰ï¼Œéƒ½æ”¯æŒè¿‡æ»¤å™¨åŠŸèƒ½ã€‚ä¸ºäº†å¸®åŠ©ä½ ç†è§£ï¼Œæˆ‘ç”»äº†ä¸€å¼ ç¤ºæ„å›¾é˜è¿°å®ƒçš„å·¥ä½œåŸç†ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚

![image-20220710134952540](63%E8%81%8C%E8%B4%A3%E9%93%BE%E6%A8%A1%E5%BC%8F%EF%BC%88%E4%B8%8B%EF%BC%89%EF%BC%9A%E6%A1%86%E6%9E%B6%E4%B8%AD%E5%B8%B8%E7%94%A8%E7%9A%84%E8%BF%87%E6%BB%A4%E5%99%A8%E3%80%81%E6%8B%A6%E6%88%AA%E5%99%A8%E6%98%AF%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E7%9A%84%EF%BC%9F.resource/image-20220710134952540.png)

åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•ä½¿ç”¨ Servlet Filter å‘¢ï¼Ÿæˆ‘å†™äº†ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ä»£ç ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚æ·»åŠ ä¸€ä¸ªè¿‡æ»¤å™¨ï¼Œæˆ‘ä»¬åªéœ€è¦å®šä¹‰ä¸€ä¸ªå®ç° javax.servlet.Filter æ¥å£çš„è¿‡æ»¤å™¨ç±»ï¼Œå¹¶ä¸”å°†å®ƒé…ç½®åœ¨ web.xml é…ç½®æ–‡ä»¶ä¸­ã€‚Web å®¹å™¨å¯åŠ¨çš„æ—¶å€™ï¼Œä¼šè¯»å– web.xml ä¸­çš„é…ç½®ï¼Œ åˆ›å»ºè¿‡æ»¤å™¨å¯¹è±¡ã€‚å½“æœ‰è¯·æ±‚åˆ°æ¥çš„æ—¶å€™ï¼Œä¼šå…ˆç»è¿‡è¿‡æ»¤å™¨ï¼Œç„¶åæ‰ç”± Servlet æ¥å¤„ç†ã€‚

```java
public class LogFilter implements Filter {
    @Override
    public void init(FilterConfig filterConfig) throws ServletException {
        // åœ¨åˆ›å»ºFilteræ—¶è‡ªåŠ¨è°ƒç”¨ï¼Œ
        // å…¶ä¸­filterConfigåŒ…å«è¿™ä¸ªFilterçš„é…ç½®å‚æ•°ï¼Œæ¯”å¦‚nameä¹‹ç±»çš„ï¼ˆä»é…ç½®æ–‡ä»¶ä¸­è¯»å–çš„ï¼‰
    } 
    @Override
    public void doFilter(ServletRequest request, ServletResponse response, Filter filter){
        System.out.println("æ‹¦æˆªå®¢æˆ·ç«¯å‘é€æ¥çš„è¯·æ±‚.");
        chain.doFilter(request, response);
        System.out.println("æ‹¦æˆªå‘é€ç»™å®¢æˆ·ç«¯çš„å“åº”.");
    }
    @Override
    public void destroy() {
        // åœ¨é”€æ¯Filteræ—¶è‡ªåŠ¨è°ƒç”¨
    }
}   
```

åœ¨web.xmlé…ç½®æ–‡ä»¶ä¸­å¦‚ä¸‹é…ç½®ï¼š

```xml
<filter>
<filter-name>logFilter</filter-name>
<filter-class>com.xzg.cd.LogFilter</filter-class>
</filter>
<filter-mapping>
<filter-name>logFilter</filter-name>
<url-pattern>/*</url-pattern>
</filter-mapping>   
```

ä»åˆšåˆšçš„ç¤ºä¾‹ä»£ç ä¸­ï¼Œæˆ‘ä»¬å‘ç°ï¼Œæ·»åŠ è¿‡æ»¤å™¨éå¸¸æ–¹ä¾¿ï¼Œä¸éœ€è¦ä¿®æ”¹ä»»ä½•ä»£ç ï¼Œå®šä¹‰ä¸€ä¸ªå®ç° javax.servlet.Filter çš„ç±»ï¼Œå†æ”¹æ”¹é…ç½®å°±æå®šäº†ï¼Œå®Œå…¨ç¬¦åˆå¼€é—­åŸåˆ™ã€‚é‚£ Servlet Filter æ˜¯å¦‚ä½•åšåˆ°å¦‚æ­¤å¥½çš„æ‰©å±•æ€§çš„å‘¢ï¼Ÿæˆ‘æƒ³ä½ åº”è¯¥å·²ç»çŒœåˆ°äº†ï¼Œå®ƒåˆ©ç”¨çš„å°±æ˜¯èŒè´£é“¾æ¨¡å¼ã€‚ç° åœ¨ï¼Œæˆ‘ä»¬é€šè¿‡å‰–æå®ƒçš„æºç ï¼Œè¯¦ç»†åœ°çœ‹çœ‹å®ƒåº•å±‚æ˜¯å¦‚ä½•å®ç°çš„ã€‚

åœ¨ä¸Šä¸€èŠ‚è¯¾ä¸­ï¼Œæˆ‘ä»¬è®²åˆ°ï¼ŒèŒè´£é“¾æ¨¡å¼çš„å®ç°åŒ…å«å¤„ç†å™¨æ¥å£ï¼ˆIHandlerï¼‰æˆ–æŠ½è±¡ç±»ï¼ˆHandlerï¼‰ï¼Œä»¥åŠå¤„ç†å™¨é“¾ï¼ˆHandlerChainï¼‰ã€‚å¯¹åº”åˆ° Servlet Filterï¼Œ javax.servlet.Filter å°±æ˜¯å¤„ç†å™¨æ¥å£ï¼ŒFilterChain å°±æ˜¯å¤„ç†å™¨é“¾ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é‡ç‚¹æ¥çœ‹FilterChain æ˜¯å¦‚ä½•å®ç°çš„ã€‚

ä¸è¿‡ï¼Œæˆ‘ä»¬å‰é¢ä¹Ÿè®²è¿‡ï¼ŒServlet åªæ˜¯ä¸€ä¸ªè§„èŒƒï¼Œå¹¶ä¸åŒ…å«å…·ä½“çš„å®ç°ï¼Œæ‰€ä»¥ï¼ŒServlet ä¸­çš„ FilterChain åªæ˜¯ä¸€ä¸ªæ¥å£å®šä¹‰ã€‚å…·ä½“çš„å®ç°ç±»ç”±éµä» Servlet è§„èŒƒçš„ Web å®¹å™¨æ¥æä¾›ï¼Œæ¯”å¦‚ï¼ŒApplicationFilterChain ç±»å°±æ˜¯ Tomcat æä¾›çš„ FilterChain çš„å®ç°ç±»ï¼Œæºç å¦‚ä¸‹æ‰€ç¤ºã€‚

ä¸ºäº†è®©ä»£ç æ›´æ˜“è¯»æ‡‚ï¼Œæˆ‘å¯¹ä»£ç è¿›è¡Œäº†ç®€åŒ–ï¼Œåªä¿ç•™äº†è·Ÿè®¾è®¡æ€è·¯ç›¸å…³çš„ä»£ç ç‰‡æ®µã€‚å®Œæ•´çš„ä»£ç ä½ å¯ä»¥è‡ªè¡Œå» Tomcat ä¸­æŸ¥çœ‹ã€‚

```java
public final class ApplicationFilterChain implements FilterChain {
    private int pos = 0; //å½“å‰æ‰§è¡Œåˆ°äº†å“ªä¸ªfilter
    private int n; //filterçš„ä¸ªæ•°
    private ApplicationFilterConfig[] filters;
    private Servlet servlet;
    @Override
    public void doFilter(ServletRequest request, ServletResponse response) {
        if (pos < n) {
            ApplicationFilterConfig filterConfig = filters[pos++];
            Filter filter = filterConfig.getFilter();
            filter.doFilter(request, response, this);
        } else {
            // filteréƒ½å¤„ç†å®Œæ¯•åï¼Œæ‰§è¡Œservlet
            servlet.service(request, response);
        }
    } 
    
    public void addFilter(ApplicationFilterConfig filterConfig) {
        for (ApplicationFilterConfig filter:filters)
            if (filter==filterConfig)
                return;
        if (n == filters.length) {//æ‰©å®¹
            ApplicationFilterConfig[] newFilters = new ApplicationFilterConfig[n + IN];
            System.arraycopy(filters, 0, newFilters, 0, n);
            filters = newFilters;
        }
        filters[n++] = filterConfig;
    }
}
```

ApplicationFilterChain ä¸­çš„ doFilter() å‡½æ•°çš„ä»£ç å®ç°æ¯”è¾ƒæœ‰æŠ€å·§ï¼Œå®é™…ä¸Šæ˜¯ä¸€ä¸ªé€’å½’è°ƒç”¨ã€‚ä½ å¯ä»¥ç”¨æ¯ä¸ª Filterï¼ˆæ¯”å¦‚ LogFilterï¼‰çš„ doFilter() çš„ä»£ç å®ç°ï¼Œç›´æ¥æ›¿æ¢ApplicationFilterChain çš„ç¬¬ 12 è¡Œä»£ç ï¼Œä¸€çœ¼å°±èƒ½çœ‹å‡ºæ˜¯é€’å½’è°ƒç”¨äº†ã€‚æˆ‘æ›¿æ¢äº†ä¸€ä¸‹ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚

```java
@Override
public void doFilter(ServletRequest request, ServletResponse response) {
    if (pos < n) {
        ApplicationFilterConfig filterConfig = filters[pos++];
        Filter filter = filterConfig.getFilter();
        //filter.doFilter(request, response, this);
        //æŠŠfilter.doFilterçš„ä»£ç å®ç°å±•å¼€æ›¿æ¢åˆ°è¿™é‡Œ
        System.out.println("æ‹¦æˆªå®¢æˆ·ç«¯å‘é€æ¥çš„è¯·æ±‚.");
        chain.doFilter(request, response); // chainå°±æ˜¯this
        System.out.println("æ‹¦æˆªå‘é€ç»™å®¢æˆ·ç«¯çš„å“åº”.")
    } else {
        // filteréƒ½å¤„ç†å®Œæ¯•åï¼Œæ‰§è¡Œservlet
        servlet.service(request, response);
    }
}
```

è¿™æ ·å®ç°ä¸»è¦æ˜¯ä¸ºäº†åœ¨ä¸€ä¸ª doFilter() æ–¹æ³•ä¸­ï¼Œæ”¯æŒåŒå‘æ‹¦æˆªï¼Œæ—¢èƒ½æ‹¦æˆªå®¢æˆ·ç«¯å‘é€æ¥çš„è¯·æ±‚ï¼Œä¹Ÿèƒ½æ‹¦æˆªå‘é€ç»™å®¢æˆ·ç«¯çš„å“åº”ï¼Œä½ å¯ä»¥ç»“åˆç€ LogFilter é‚£ä¸ªä¾‹å­ï¼Œä»¥åŠå¯¹æ¯”å¾…ä¼šè¦è®²åˆ°çš„ Spring Interceptorï¼Œæ¥è‡ªå·±ç†è§£ä¸€ä¸‹ã€‚è€Œæˆ‘ä»¬ä¸Šä¸€èŠ‚è¯¾ç»™å‡ºçš„ä¸¤ç§å®ç°æ–¹å¼ï¼Œéƒ½æ²¡æ³•åšåˆ°åœ¨ä¸šåŠ¡é€»è¾‘æ‰§è¡Œçš„å‰åï¼ŒåŒæ—¶æ·»åŠ å¤„ç†ä»£ç ã€‚

# Spring Interceptor

åˆšåˆšè®²äº† Servlet Filterï¼Œç°åœ¨æˆ‘ä»¬æ¥è®²ä¸€ä¸ªåŠŸèƒ½ä¸Šè·Ÿå®ƒéå¸¸ç±»ä¼¼çš„ä¸œè¥¿ï¼ŒSpring Interceptorï¼Œç¿»è¯‘æˆä¸­æ–‡å°±æ˜¯æ‹¦æˆªå™¨ã€‚å°½ç®¡è‹±æ–‡å•è¯å’Œä¸­æ–‡ç¿»è¯‘éƒ½ä¸åŒï¼Œä½†è¿™ä¸¤è€…åŸºæœ¬ä¸Šå¯ä»¥çœ‹ä½œä¸€ä¸ªæ¦‚å¿µï¼Œéƒ½ç”¨æ¥å®ç°å¯¹ HTTP è¯·æ±‚è¿›è¡Œæ‹¦æˆªå¤„ç†ã€‚

å®ƒä»¬ä¸åŒä¹‹å¤„åœ¨äºï¼ŒServlet Filter æ˜¯ Servlet è§„èŒƒçš„ä¸€éƒ¨åˆ†ï¼Œå®ç°ä¾èµ–äº Web å®¹å™¨ã€‚Spring Interceptor æ˜¯ Spring MVC æ¡†æ¶çš„ä¸€éƒ¨åˆ†ï¼Œç”± Spring MVC æ¡†æ¶æ¥æä¾›å®ç°ã€‚å®¢æˆ·ç«¯å‘é€çš„è¯·æ±‚ï¼Œä¼šå…ˆç»è¿‡ Servlet Filterï¼Œç„¶åå†ç»è¿‡ Spring Interceptorï¼Œæœ€ååˆ°è¾¾å…·ä½“çš„ä¸šåŠ¡ä»£ç ä¸­ã€‚æˆ‘ç”»äº†ä¸€å¼ å›¾æ¥é˜è¿°ä¸€ä¸ªè¯·æ±‚çš„å¤„ç†æµç¨‹ï¼Œå…·ä½“å¦‚ä¸‹æ‰€ç¤ºã€‚

![image-20220710135326485](63%E8%81%8C%E8%B4%A3%E9%93%BE%E6%A8%A1%E5%BC%8F%EF%BC%88%E4%B8%8B%EF%BC%89%EF%BC%9A%E6%A1%86%E6%9E%B6%E4%B8%AD%E5%B8%B8%E7%94%A8%E7%9A%84%E8%BF%87%E6%BB%A4%E5%99%A8%E3%80%81%E6%8B%A6%E6%88%AA%E5%99%A8%E6%98%AF%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E7%9A%84%EF%BC%9F.resource/image-20220710135326485.png)

åœ¨é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•ä½¿ç”¨ Spring Interceptor å‘¢ï¼Ÿæˆ‘å†™äº†ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ä»£ç ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚LogInterceptor å®ç°çš„åŠŸèƒ½è·Ÿåˆšæ‰çš„ LogFilter å®Œå…¨ç›¸åŒï¼Œåªæ˜¯å®ç°æ–¹å¼ä¸Šç¨æœ‰åŒºåˆ«ã€‚LogFilter å¯¹è¯·æ±‚å’Œå“åº”çš„æ‹¦æˆªæ˜¯åœ¨ doFilter() ä¸€ä¸ªå‡½æ•°ä¸­å®ç°çš„ï¼Œè€Œ LogInterceptor å¯¹è¯·æ±‚çš„æ‹¦æˆªåœ¨ preHandle() ä¸­å®ç°ï¼Œå¯¹å“åº”çš„æ‹¦æˆªåœ¨ postHandle() ä¸­å®ç°ã€‚

```java
public class LogInterceptor implements HandlerInterceptor {
    @Override
    public boolean preHandle(HttpServletRequest request, HttpServletResponse resp){
        System.out.println("æ‹¦æˆªå®¢æˆ·ç«¯å‘é€æ¥çš„è¯·æ±‚.");
        return true; // ç»§ç»­åç»­çš„å¤„ç†
    } 
    @Override
    public void postHandle(HttpServletRequest request, HttpServletResponse respone){
        System.out.println("æ‹¦æˆªå‘é€ç»™å®¢æˆ·ç«¯çš„å“åº”.");
    } 

    @Override
    public void afterCompletion(HttpServletRequest request, HttpServletResponse repose){
        System.out.println("è¿™é‡Œæ€»æ˜¯è¢«æ‰§è¡Œ.");
    }
} 
```

åœ¨Spring MVCé…ç½®æ–‡ä»¶ä¸­é…ç½®interceptors

```xml
<mvc:interceptors>
<mvc:interceptor>
<mvc:mapping path="/*"/>
<bean class="com.xzg.cd.LogInterceptor" />
</mvc:interceptor>
</mvc:interceptors>
```

åŒæ ·ï¼Œæˆ‘ä»¬è¿˜æ˜¯æ¥å‰–æä¸€ä¸‹ï¼ŒSpring Interceptor åº•å±‚æ˜¯å¦‚ä½•å®ç°çš„ã€‚

å½“ç„¶ï¼Œå®ƒä¹Ÿæ˜¯åŸºäºèŒè´£é“¾æ¨¡å¼å®ç°çš„ã€‚å…¶ä¸­ï¼ŒHandlerExecutionChain ç±»æ˜¯èŒè´£é“¾æ¨¡å¼ä¸­çš„å¤„ç†å™¨é“¾ã€‚å®ƒçš„å®ç°ç›¸è¾ƒäº Tomcat ä¸­çš„ ApplicationFilterChain æ¥è¯´ï¼Œé€»è¾‘æ›´åŠ æ¸…æ™°ï¼Œä¸éœ€è¦ä½¿ç”¨é€’å½’æ¥å®ç°ï¼Œä¸»è¦æ˜¯å› ä¸ºå®ƒå°†è¯·æ±‚å’Œå“åº”çš„æ‹¦æˆªå·¥ä½œï¼Œæ‹†åˆ†åˆ°äº†ä¸¤ä¸ªå‡½æ•°ä¸­å®ç°ã€‚HandlerExecutionChain çš„æºç å¦‚ä¸‹æ‰€ç¤ºï¼ŒåŒæ ·ï¼Œæˆ‘å¯¹ä»£ç ä¹Ÿè¿›è¡Œäº†ä¸€äº›ç®€åŒ–ï¼Œåªä¿ç•™äº†å…³é”®ä»£ç ã€‚

```java
public class HandlerExecutionChain {
    private final Object handler;
    private HandlerInterceptor[] interceptors;
    public void addInterceptor(HandlerInterceptor interceptor) {
        initInterceptorList().add(interceptor);
    } 

    boolean applyPreHandle(HttpServletRequest request, HttpServletResponse response){
        HandlerInterceptor[] interceptors = getInterceptors();
        if (!ObjectUtils.isEmpty(interceptors)) {
            for (int i = 0; i < interceptors.length; i++) {
                HandlerInterceptor interceptor = interceptors[i];
                if (!interceptor.preHandle(request, response, this.handler)) {
                    triggerAfterCompletion(request, response, null);
                    return false;
                }
            }
        }
        return true;
    } 

    void applyPostHandle(HttpServletRequest request, HttpServletResponse response){
        HandlerInterceptor[] interceptors = getInterceptors();
        if (!ObjectUtils.isEmpty(interceptors)) {
            for (int i = interceptors.length - 1; i >= 0; i--) {
                HandlerInterceptor interceptor = interceptors[i];
                interceptor.postHandle(request, response, this.handler, mv);
            }
        }
    } 

    void triggerAfterCompletion(HttpServletRequest request, HttpServletResponse reponse){
        throws Exception {
            HandlerInterceptor[] interceptors = getInterceptors();
            if (!ObjectUtils.isEmpty(interceptors)) {
                for (int i = this.interceptorIndex; i >= 0; i--) {
                    HandlerInterceptor interceptor = interceptors[i];
                    try {
                        interceptor.afterCompletion(request, response, this.handler, ex);
                    } catch (Throwable ex2) {
                        logger.error("HandlerInterceptor.afterCompletion threw exception", ex2);
                    }
                }
            }
        }
    }
```

åœ¨ Spring æ¡†æ¶ä¸­ï¼ŒDispatcherServlet çš„ doDispatch() æ–¹æ³•æ¥åˆ†å‘è¯·æ±‚ï¼Œå®ƒåœ¨çœŸæ­£çš„ä¸šåŠ¡é€»è¾‘æ‰§è¡Œå‰åï¼Œæ‰§è¡Œ HandlerExecutionChain ä¸­çš„ applyPreHandle() å’ŒapplyPostHandle() å‡½æ•°ï¼Œç”¨æ¥å®ç°æ‹¦æˆªçš„åŠŸèƒ½ã€‚å…·ä½“çš„ä»£ç å®ç°å¾ˆç®€å•ï¼Œä½ è‡ªå·±åº”è¯¥èƒ½è„‘è¡¥å‡ºæ¥ï¼Œè¿™é‡Œå°±ä¸ç½—åˆ—äº†ã€‚æ„Ÿå…´è¶£çš„è¯ï¼Œä½ å¯ä»¥è‡ªè¡Œå»æŸ¥çœ‹ã€‚

# é‡ç‚¹å›é¡¾

å¥½äº†ï¼Œä»Šå¤©çš„å†…å®¹åˆ°æ­¤å°±è®²å®Œäº†ã€‚æˆ‘ä»¬ä¸€å—æ¥æ€»ç»“å›é¡¾ä¸€ä¸‹ï¼Œä½ éœ€è¦é‡ç‚¹æŒæ¡çš„å†…å®¹ã€‚

èŒè´£é“¾æ¨¡å¼å¸¸ç”¨åœ¨æ¡†æ¶å¼€å‘ä¸­ï¼Œç”¨æ¥å®ç°æ¡†æ¶çš„è¿‡æ»¤å™¨ã€æ‹¦æˆªå™¨åŠŸèƒ½ï¼Œè®©æ¡†æ¶çš„ä½¿ç”¨è€…åœ¨ä¸éœ€è¦ä¿®æ”¹æ¡†æ¶æºç çš„æƒ…å†µä¸‹ï¼Œæ·»åŠ æ–°çš„è¿‡æ»¤æ‹¦æˆªåŠŸèƒ½ã€‚è¿™ä¹Ÿä½“ç°äº†ä¹‹å‰è®²åˆ°çš„å¯¹æ‰©å±•å¼€æ”¾ã€å¯¹ä¿®æ”¹å…³é—­çš„è®¾è®¡åŸåˆ™ã€‚

ä»Šå¤©ï¼Œæˆ‘ä»¬é€šè¿‡ Servlet Filterã€Spring Interceptor ä¸¤ä¸ªå®é™…çš„ä¾‹å­ï¼Œç»™ä½ å±•ç¤ºäº†åœ¨æ¡†æ¶å¼€å‘ä¸­èŒè´£é“¾æ¨¡å¼å…·ä½“æ˜¯æ€ä¹ˆåº”ç”¨çš„ã€‚ä»æºç ä¸­ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å‘ç°ï¼Œå°½ç®¡ä¸Šä¸€èŠ‚è¯¾ä¸­æˆ‘ä»¬æœ‰ç»™å‡ºèŒè´£é“¾æ¨¡å¼çš„ç»å…¸ä»£ç å®ç°ï¼Œä½†åœ¨å®é™…çš„å¼€å‘ä¸­ï¼Œæˆ‘ä»¬è¿˜æ˜¯è¦å…·ä½“é—®é¢˜å…·ä½“å¯¹å¾…ï¼Œä»£ç å®ç°ä¼šæ ¹æ®ä¸åŒçš„éœ€æ±‚æœ‰æ‰€å˜åŒ–ã€‚å®é™…ä¸Šï¼Œè¿™ä¸€ç‚¹å¯¹äºæ‰€æœ‰çš„è®¾è®¡æ¨¡å¼éƒ½é€‚ç”¨ã€‚

# è¯¾å ‚è®¨è®º

1.  å‰é¢åœ¨è®²ä»£ç†æ¨¡å¼çš„æ—¶å€™ï¼Œæˆ‘ä»¬æåˆ°ï¼ŒSpring AOP æ˜¯åŸºäºä»£ç†æ¨¡å¼æ¥å®ç°çš„ã€‚åœ¨å®é™…çš„é¡¹ç›®å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ AOP æ¥å®ç°è®¿é—®æ§åˆ¶åŠŸèƒ½ï¼Œæ¯”å¦‚é‰´æƒã€é™æµã€æ—¥å¿—ç­‰ã€‚ä»Šå¤©æˆ‘ä»¬åˆè®²åˆ°ï¼ŒServlet Filterã€Spring Interceptor ä¹Ÿå¯ä»¥ç”¨æ¥å®ç°è®¿é—®æ§åˆ¶ã€‚é‚£åœ¨é¡¹ç›®å¼€å‘ä¸­ï¼Œç±»ä¼¼æƒé™è¿™æ ·çš„è®¿é—®æ§åˆ¶åŠŸèƒ½ï¼Œæˆ‘ä»¬è¯¥é€‰æ‹©ä¸‰è€…ï¼ˆAOPã€Servlet Filterã€Spring Interceptorï¼‰ä¸­çš„å“ªä¸ªæ¥å®ç°å‘¢ï¼Ÿæœ‰ä»€ä¹ˆå‚è€ƒæ ‡å‡†å—ï¼Ÿ

2.  é™¤äº†æˆ‘ä»¬è®²åˆ°çš„ Servlet Filterã€Spring Interceptor ä¹‹å¤–ï¼ŒDubbo Filterã€Netty ChannelPipeline ä¹Ÿæ˜¯èŒè´£é“¾æ¨¡å¼çš„å®é™…åº”ç”¨æ¡ˆä¾‹ï¼Œä½ èƒ½å¦æ‰¾ä¸€ä¸ªä½ ç†Ÿæ‚‰çš„å¹¶ä¸”ç”¨åˆ°èŒè´£é“¾æ¨¡å¼çš„æ¡†æ¶ï¼Œåƒæˆ‘ä¸€æ ·åˆ†æä¸€ä¸‹å®ƒçš„åº•å±‚å®ç°å‘¢ï¼Ÿ

## ç²¾é€‰ç•™è¨€

> ![](media/image15.png)**cricket1981**
>
> 2020-03-27
>
> Filter å¯ä»¥æ‹¿åˆ°åŸå§‹çš„httpè¯·æ±‚ï¼Œä½†æ˜¯æ‹¿ä¸åˆ°ä½ è¯·æ±‚çš„æ§åˆ¶å™¨å’Œè¯·æ±‚æ§åˆ¶å™¨ä¸­çš„æ–¹æ³•çš„ä¿¡æ¯; Interceptor å¯ä»¥æ‹¿åˆ°ä½ è¯·æ±‚çš„æ§åˆ¶å™¨å’Œæ–¹æ³•ï¼Œå´æ‹¿ä¸åˆ°è¯·æ±‚æ–¹æ³•çš„å‚æ•°; Aop å¯ä»¥æ‹¿åˆ°æ–¹æ³•çš„å‚æ•°ï¼Œä½†æ˜¯å´æ‹¿ä¸åˆ°httpè¯·æ±‚å’Œå“åº”çš„å¯¹è±¡
>
> å±•å¼€î˜ƒ

![](media/image16.png)![](media/image17.png)1 14

> ![](media/image18.png)**ç­±ä¹ä¹å“¦**
>
> 2020-03-27
>
> 1ã€ä¸ªäººæ„Ÿè§‰æƒé™çš„è¯ï¼Œå±äºapiçš„è°ƒç”¨ï¼Œåº”è¯¥æ”¾åœ¨è°ƒç”¨é“¾æ¯”è¾ƒé å‰çš„ä½ç½®ï¼Œæ—©å‘ç°æ—©å¤„
>
> ç†ï¼Œæ‰€ä»¥ç”¨Servlet Filterä¼šæ›´å¥½ä¸€äº›å§ï¼Œå¦‚æœæ˜¯rpcå±‚çš„è¯ï¼Œä¾‹å¦‚dubboï¼Œå°±éœ€è¦ åœ¨å®ç°fil
>
> terçš„æ—¶å€™é€šè¿‡orderå§filterå¾—ä¼˜å…ˆçº§æé«˜ä¸€äº›ï¼Œè®©è¿™ä¸ªfilterå…ˆæ‰§è¡Œï¼Œä¸ªäººæ„Ÿè§‰å“ˆ 2ã€Dubbo Filterçš„æ ¸å¿ƒå¤„ç†é€»è¾‘åœ¨ProtocolFilterWrapperç±»ä¸‹çš„buildInvokerChainè¿™ä¸ªæ–¹æ³•ä¸­ï¼Œå±äºæŠŠæ‰€æœ‰çš„filterçš„ç±»å¯¹è±¡ææˆä¸€ä¸ªlistï¼Œé€šè¿‡éå†listå»è°ƒç”¨æ‰€æœ‰çš„filterï¼ŒNâ€¦ å±•å¼€î˜ƒ

![](media/image19.png)![](media/image20.png)13

> ![](media/image21.png)**PCMD**
>
> 2020-03-27
>
> é’ˆå¯¹é—®é¢˜1è€Œè¨€ï¼Œå…¶å®è¦å®ç°ä¸€ä¸ªé‰´æƒçš„è¿‡æ»¤å™¨ï¼Œé€šè¿‡ä»¥ä¸Š3ç§æ–¹å¼éƒ½æ˜¯å¯ä»¥å»å®ç°çš„ï¼Œç„¶è€Œä»ç²’åº¦ï¼Œåœºæ™¯ï¼Œå’Œæ–¹å¼ä¸Šè¾¹æœ‰æœ‰æ‰€åŒºåˆ«ï¼Œä¸»è¦é‡‡å–ç”¨å“ªä¸ªï¼Œè¿˜æ˜¯æœ‰ä¸šåŠ¡æ¥å†³å®šå»ç”¨ï¼Œæ²¡æœ‰ç»Ÿä¸€çš„å‚è€ƒæ ‡å‡†ã€‚æ¯”å¦‚è¦å¯¹æ‰€æœ‰çš„webæ¥å£ï¼Œè¿›è¡Œç»Ÿä¸€çš„æƒé™å¤„ç†ï¼Œä¸éœ€è¦åŒºåˆ†åŠ¨ä½œï¼Œ å†™æˆ–è€…è¯»ï¼Œæ‰€æœ‰ä¸€è§†åŒä»ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œservletçš„æ›´åŠ é€‚åˆã€‚é’ˆå¯¹ä¸€äº›å­˜åœ¨çŠ¶æ€çš„ï¼Œæ¯”å¦‚åšä¸€äº›ç»Ÿä¸€çš„å»å‚æ•°è½¬æ¢ï¼Œcookieè½¬uidä¹‹ç±»ï¼Œä»¥åŠé€šç”¨æ£€éªŒuidæ˜¯å¦ç¬¦åˆå½“å‰æƒé™ï¼Œåˆ™â€¦
>
> å±•å¼€î˜ƒ

![](media/image22.png)![](media/image23.png)13

> ![](media/image24.png)**å°æ™å­**
>
> 2020-03-27
>
> é¦–å…ˆéœ€è¦æ˜ç¡®â€œè®¿é—®æ§åˆ¶åŠŸèƒ½â€çš„ç²’åº¦ï¼Œå¦‚æœè®¿é—®æ§åˆ¶åŠŸèƒ½è¦ç²¾ç¡®åˆ°æ¯ä¸ªè¯·æ±‚ï¼Œé‚£ä¹ˆè¦ä½¿ç”¨AOPï¼ŒAOPå¯ä»¥é…ç½®æ¯ä¸ªcontrollerçš„è®¿é—®æƒé™ã€‚è€ŒSpring interceptorå’Œservlet filter çš„ç²’åº¦ä¼šç²—ä¸€äº›ï¼Œæ§åˆ¶HttpRequest, HttpResponseçš„è®¿é—®ã€‚å¦å¤–servlet filterä¸èƒ½å¤Ÿä½¿ç”¨ Spring å®¹å™¨èµ„æºï¼Œåªèƒ½åœ¨å®¹å™¨ï¼ˆå¦‚tomcatï¼‰å¯åŠ¨æ—¶è°ƒç”¨ä¸€æ¬¡ï¼Œè€ŒSpring Interceptor æ˜¯ä¸€ä¸ªSpringçš„ç»„ä»¶ï¼Œå½’Springç®¡ç†ï¼Œé…ç½®åœ¨Springæ–‡ä»¶ä¸­ï¼Œå› æ­¤èƒ½ä½¿ç”¨Springé‡Œçš„ä»»â€¦ å±•å¼€î˜ƒ

![](media/image22.png)![](media/image25.png)4

> ![](media/image26.png)**Xs.Ten**
>
> 2020-03-27
>
> å³æ—¶é€šè®¯é‡Œé¢çš„æ¶ˆæ¯åˆ†å‘å¯ä»¥ç”¨åˆ°è´£ä»»é“¾æ¨¡å¼ã€‚å¯ä»¥æ·»åŠ ä¸åŒçš„åˆ†å‘è§„åˆ™æ¥åˆ†å‘ä¸åŒçš„æ¶ˆæ¯ç±»å‹åˆ°å„ä¸ªæ¶ˆæ¯å¤„ç†å™¨ã€‚
>
> å±•å¼€î˜ƒ

![](media/image19.png)![](media/image27.png)4

> ![](media/image28.png)**è¢å¸…**
>
> 2020-03-27
>
> 1ã€æƒé™åº”è¯¥ä½¿ç”¨servlet filter , servlet filter æ˜¯å¯¹æ—©è¢«æ‰§è¡Œçš„ï¼Œå¯ä¸ºæ‰€æœ‰requeståŠ æ‹¦æˆªï¼Œ å¦‚æœä»…ä»…æƒ³å¯¹webè¯·æ±‚åŠ æƒé™ï¼Œé‚£ä¹ˆä½¿ç”¨spring interceptor
>
> å±•å¼€î˜ƒ

![](media/image19.png)![](media/image27.png)2

![](media/image29.png)

> ![](media/image30.png)**Geek\_54edc1**
>
> 2020-03-27
>
> æ€è€ƒé¢˜ä¸€ï¼šé¦–å…ˆè¦åŒºåˆ†ä¸‰è€…çš„ç‰¹ç‚¹ï¼ŒSpring AOPçš„ä½¿ç”¨ç²’åº¦æ˜¯ç±»ï¼Œæ˜¯å¯¹ç±»çš„ä¸€ä¸ªåŒ…è£…ï¼›se rvlet filterå’Œspring interceptorä¸»è¦æ˜¯å¯¹httpRequestã€httpResponseåšå¤„ç†ï¼Œservlet fi lterChainçš„å®ç°ä¾èµ–äºå…·ä½“çš„Webå®¹å™¨ï¼Œè€Œspring interceptorå’Œspring AOPéƒ½ä¾èµ–äºsp ringæ¡†æ¶ï¼Œservlet filteråœ¨ä¸€ä¸ªå‡½æ•°é‡Œæ‹¦æˆªè¯·æ±‚å’Œå“åº”ï¼Œè€Œspring interceptorå°†è¯·æ±‚ã€å“åº”çš„æ‹¦æˆªåˆ†æˆäº†ä¸¤ä¸ªå‡½æ•°ï¼›å…¶æ¬¡ï¼Œé’ˆå¯¹ç‰¹å®šçš„åº”ç”¨åœºæ™¯ï¼Œé€‰æ‹©é€‚åˆçš„ã€‚
>
> å±•å¼€î˜ƒ

![](media/image31.png)![](media/image32.png)1

> ![](media/image33.png)**LiG**â„
>
> 2020-03-27
>
> è€å¸ˆï¼Œè¯·é—®Servlet Filterä¸­é‡‡ç”¨é€’å½’æ–¹å¼è°ƒç”¨èŒè´£é“¾ä¸­å…ƒç´ ï¼ŒSpring Interceptorä¸­é‡‡ç”¨æ•°ç»„å˜é‡æ–¹å¼è°ƒç”¨èŒè´£é“¾ä¸­å…ƒç´ ï¼Œè¿™ä¸¤ç§è°ƒç”¨æ–¹å¼ï¼Œæ˜¯åŸºäºä»€ä¹ˆè€ƒè™‘çš„ï¼Œæœ‰ä»€ä¹ˆä¼˜åŠ£å‘¢ï¼Ÿ

![](media/image34.png)![](media/image35.png)1

> ![](media/image36.png)**+ +**
>
> 2020-03-27
>
> å®‰å“çš„ç½‘ç»œè¯·æ±‚æ¡†æ¶ okhttpä¸­ä½¿ç”¨äº†è´£ä»»é“¾
>
> å±•å¼€î˜ƒ
>
> ![](media/image34.png)![](media/image35.png)1
>
> ![](media/image37.png)**test**
>
> 2020-03-27
>
> åä¸šåŠ¡çš„ä½¿ç”¨AOPï¼Œå…¨å±€çš„ä½¿ç”¨servlet filter
>
> å±•å¼€î˜ƒ
>
> ![](media/image34.png)![](media/image35.png)1
>
> ![](media/image38.png)**Yang**
>
> 2020-03-27
>
> ä½†åœ¨å®é™…çš„å¼€å‘ä¸­ï¼Œæˆ‘ä»¬è¿˜æ˜¯è¦å…·ä½“é—®é¢˜å…·ä½“å¯¹å¾…ï¼Œä»£ç å®ç°ä¼šæ ¹æ®ä¸åŒçš„éœ€æ±‚æœ‰æ‰€å˜åŒ–ã€‚å®é™…ä¸Šï¼Œè¿™ä¸€ç‚¹å¯¹äºæ‰€æœ‰çš„è®¾è®¡æ¨¡å¼éƒ½é€‚ç”¨ã€‚
>
> è¿™å¥è¯å¾ˆç²¾è¾Ÿ

![](media/image39.png)![](media/image32.png)1

> ![](media/image40.png)**æå°å››**
>
> 2020-03-31
>
> è®¾è®¡æ¨¡å¼\_63:
>
> \# ä½œä¸š

1.  è¿™ä¸ªé—®é¢˜ç¡®å®ä¸æ‡‚ï¼Œçœ‹äº†å¤§å®¶çš„å›ç­”ï¼Œäº†è§£åˆ°å¯¹äºé¢—ç²’åº¦çš„è€ƒè™‘ã€‚

2.  æœ‰ä¸€ä¸ªJava/Kotlinçš„ç½‘ç»œåº“å«Okhttpï¼Œä¹Ÿç”¨åˆ°äº†èŒè´£é“¾æ¨¡å¼ï¼Œç”¨æ¥åšä¸€äº›æ—¥å¿—è®°å½•ç­‰ã€‚

> â€¦
>
> å±•å¼€î˜ƒ

![](media/image41.png)![](media/image42.png)

> ![](media/image43.png)**jiajia**
>
> 2020-03-30
>
> okhttp
>
> å±•å¼€î˜ƒ

![](media/image41.png)![](media/image42.png)

> ![](media/image44.png)**Geek\_27a248**
>
> 2020-03-30
>
> æ¯”å¦‚é‰´æƒï¼Œé™æµï¼Œæ—¥å¿—ä¸‰ä¸ªæ–¹é¢çš„è¯ï¼Œé‰´æƒå¯ä»¥ä½¿ç”¨spring interceptorï¼Œspringç®¡ç†çš„è·å–çš„ä¿¡æ¯æ¯”è¾ƒå¤šï¼Œæ–¹ä¾¿åšæ›´ç»†çš„é‰´æƒï¼›é™æµçš„è¯å¯ä»¥ä½¿ç”¨servlet filterï¼Œæ‰§è¡Œæ¯”è¾ƒè€ƒå‰ï¼Œæœ€å¤§ç¨‹åº¦é™ä½åæ–¹è¯·æ±‚æ•°é‡ã€‚æ—¥å¿—çš„è¯ä½¿ç”¨aopï¼Œæœ€å¤§ç»†åº¦çš„è®°å½•æ—¥å¿—ä¿¡æ¯ã€‚ä¸çŸ¥é“è¿™æ ·ç†è§£çš„å¯¹ä¸å¯¹ï¼Œå¯¹è¿™äº›çš„ç†è§£è¿˜æ˜¯æ¯”è¾ƒç‰‡é¢çš„ä¸å¤Ÿæ·±å…¥ï¼Œè¿˜æœ‰å¾…åŠ æ·±
>
> å±•å¼€î˜ƒ

![](media/image45.png)![](media/image35.png)

> ![](media/image46.png)**æœ±æ™‹å›**
>
> 2020-03-29
>
> 1.å¦‚æœæ˜¯ä¸€ä¸ªå…¨å±€çš„é‰´æƒï¼Œç”¨servlet è‡ªæœ‰çš„filteræ˜¯æœ€å¥½çš„ï¼Œå®ç°ä¹Ÿç®€å•ï¼Œå¦‚æœæ˜¯æœ‰ç‰¹æ€§çš„é‰´æƒï¼Œç”¨æ‹¦æˆªå™¨æˆ–è€…aopæ³¨è§£çš„æ–¹å¼å®ç°æ¯”è¾ƒå¥½ 2.mybatisçš„æ‹¦æˆªå™¨å°±ç”¨äº†èŒè´£é“¾æ¨¡å¼ï¼ŒInterceptorChainç±»ä½œä¸ºèŒè´£é“¾ç±»ï¼ŒInterceptor æ¥å£çš„å®ç°ç±»ä½œä¸ºhandlerç±»ï¼ŒåŠ @Interceptsæ³¨è§£æ¥å®šä¹‰
>
> å±•å¼€î˜ƒ

![](media/image45.png)![](media/image35.png)

> ![](media/image47.png)**æ¥Š\_å®µå¤œ**
>
> 2020-03-29
>
> é’ˆå¯¹é—®é¢˜1ï¼Œä¸€æŠŠæ³ªæ°´æƒ³èµ·äº†é¡¹ç›®ä¸­çš„å‘. ä¸ªäººè§‰å¾—æœ€å¤§çš„ä¸åŒè¿˜æ˜¯ç”Ÿæ•ˆç²’åº¦çš„é—®é¢˜.

1.  Servlet Filteræ˜¯é’ˆå¯¹Servletå®¹å™¨é‡Œçš„æ–¹æ³•éƒ½èƒ½ç”Ÿæ•ˆ. å°±æ˜¯è¯´Servletå®¹å™¨é‡Œå°±ç®—è¦æŠŠSprin gæ¢æˆåˆ«çš„æ¡†æ¶ï¼Œé‰´æƒä»£ç ä¾ç„¶èƒ½ç”Ÿæ•ˆ.

2.  Springå¼€å¤´çš„å°±åªèƒ½åœ¨Springä¸­ç”Ÿæ•ˆï¼Œ

    1.  ä½†æ›´å¥½è¿˜æ˜¯åœ¨interceptorï¼Œå› ä¸ºinterceptorå¤©ç„¶çš„è®¾è®¡èƒŒæ™¯å°±æ˜¯\[åœ¨è¯·æ±‚å‰ï¼Œåœ¨ç›¸åº”â€¦

> å±•å¼€î˜ƒ

![](media/image41.png)![](media/image42.png)

> ![](media/image48.png)**æœ¨æœ¨**
>
> ![](media/image49.png)2020-03-29
>
> Mybatisä¸­çš„æ‹¦æˆªå™¨ä¹Ÿä½¿ç”¨åˆ°è´£ä»»é“¾æ¨¡å¼ï¼Œåªä¸è¿‡æ˜¯é€šè¿‡åŠ¨æ€ä»£ç†çš„æ–¹å¼ï¼Œåœ¨å¤šä¸ªåŒç±»å‹æ‹¦æˆªå™¨ä¸­é€šè¿‡éå†çš„æ–¹å¼ä¸ºè¢«æ‹¦æˆªå¯¹è±¡ç”Ÿæˆä»£ç†å¯¹è±¡ï¼Œç„¶åä½¿ç”¨ç”Ÿæˆçš„ä»£ç†å¯¹è±¡ä½œä¸ºå‚æ•°ç»§ç»­ç”Ÿæˆä»£ç†å¯¹è±¡ï¼Œç›´è‡³éå†ç»“æŸï¼Œæ‹¿åˆ°æœ€å¤–å±‚ä»£ç†å¯¹è±¡ï¼Œè§¦å‘invokeæ–¹æ³•å®Œæˆé“¾å¼æ‹¦æˆªå™¨ä¼ é€’
>
> å±•å¼€î˜ƒ

![](media/image50.png)![](media/image51.png)

> ![](media/image52.png)**webmin**
>
> 2020-03-29
>
> AOPã€Servlet Filterã€Spring Interceptorè¿™ä¸‰è€…å¯ä»¥ä»ä¸åŒæƒé™æ£€æŸ¥çš„èŒƒå›´å¤§å°çš„è§†è§’æ¥åº”ç”¨ï¼š
>
> 1\. Servlet Filter
>
> è¿ç»´éƒ¨é—¨éœ€è¦å¯¹åªä¾›å†…éƒ¨è®¿é—®çš„æœåŠ¡è¿›è¡ŒIPé™åˆ¶æˆ–è®¿é—®å®¡æŸ¥æ—¶ï¼Œåœ¨å®¹å™¨è¿™ä¸€å±‚å¢åŠ ä¸€ä¸ªFil terï¼Œåœ¨å‘å¸ƒæ—¶å‘å¸ƒç³»ç»Ÿè‡ªåŠ¨åŠ æŒ‚è¿™ä¸ªFilterï¼Œè¿™æ ·å¯¹ä¸Šå±‚åº”ç”¨å°±æ˜¯é€æ˜çš„ï¼Œå†…ç½‘IPåœ°å€æ®µâ€¦ å±•å¼€î˜ƒ

![](media/image53.png)![](media/image54.png)

> ![](media/image55.png)**å¾æ—­**
>
> 2020-03-28
>
> è€å¸ˆè®²å¾—èµğŸ‘
>
> å±•å¼€î˜ƒ

![](media/image53.png)![](media/image54.png)

> ![](media/image56.png)**Geek\_3b1096**
>
> 2020-03-28
>
> ç»†è¯»
>
> å±•å¼€î˜ƒ

![](media/image53.png)![](media/image54.png)
