# 01 \| 为什么说每个程序员都要尽早地学习并掌握设计模式相关知识？

我相信，很多程序员都已经意识到基础知识的重要性，觉得要夯实基础，才能走得更远，但同时对于如何将基础知识转化成开发"生产力"仍然有些疑惑。所以，你可能看了很多基础的书籍，比如操作系统、组成原理、编译原理等，但还是觉得很迷茫，觉得在开发中用不上。实际上，==这些基础的知识确实很难直接转化成开发"生产力"。但它能潜移默化地、间接地提高你对技术的理解==。

但是设计模式和操作系统、组成原理、编译原理等这些基础学科是不一样的。它虽然也算是一门基础知识，但它和数据结构、算法更像是一道儿的，相比那些更加基础的学科，设计模式能更直接地提高你的开发能力。如果说数据结构和算法是教你如何写出高效代码，那设计模式讲的是如何写出可扩展、可读、可维护的高质量代码，所以，它们跟平时的编码会有直接的关系，也会直接影响到你的开发能力。

不过，你可能还是会觉得设计模式是把屠龙刀，看起来很厉害，但平时的开发根本用不上。基于这种观点，接下来，我们就具体地聊一聊，我们为什么要学习设计模式？

## 一、告别写被人吐槽的烂代码

代码能力是一个程序员最基础的能力，是基本功，是展示一个程序员基础素养的最直接的衡量标准。

所以，该专栏不仅仅只是讲解设计模式，更加重要的是，我会通过实战例子，手把手教你如何避免刚刚提到的代码问题，告别被人诟病的烂代码，写出令人称道的好代码，成为团队中的代码标杆！而且，写出一份漂亮的代码，你自己也会很有成就感。

## 二、提高复杂代码的设计和开发能力

大部分工程师比较熟悉的都是编程语言、工具、框架这些东西，因为每天的工作就是在框架里根据业务需求，填充代码。**这样的工作并不需要你具备很强的代码设计能力，只要单纯地能理解业务，翻译成代码即可**。

但是，有一天，我的 leader 让我开发一个跟业务无关的比较通用的功能模块，面对这样稍微复杂的代码设计和开发，我就发现我有点力不从心，不知从何下手了。因为我知道只是完成功能、代码能用，可能并不复杂，但是要想写出易扩展、易用、易维护的代码，并不容易。 

如何分层、分模块？应该怎么划分类？每个类应该具有哪些属性、方法？怎么设计类之间的交互？该用继承还是组合？该使用接口还是抽象类？怎样做到解耦、高内聚低耦合？该用单例模式还是静态方法？用工厂模式创建对象还是直接 new 出来？如何避免引入设计模式提高扩展性的同时带来的降低可读性问题？......各种问题，一下子挤到了我面前。

## 三、让读源码、学框架事半功倍

对于一个有追求的程序员来说，对技术的积累，既要有广度，也要有深度。很多技术人早早就意识到了这一点，所以在学习框架、中间件的时候，都会抽空去研究研究原理，读一读源码，希望能在深度上有所积累，而不只是略知皮毛，会用而已。

从我的经验和同事的反馈来看，有些人看源码的时候，经常会遇到看不懂、看不下去的问题。不知道你有没有遇到过这种情况？实际上，**这个问题的原因很简单，那就是你积累的基本功还不够，你的能力还不足以看懂这些代码**。为什么我会这么说呢？

优秀的开源项目、框架、中间件，代码量、类的个数都会比较多，类结构、类之间的关系极其复杂，常常调用来调用去。所以，为了保证代码的扩展性、灵活性、可维护性等，代码中会使用到很多设计模式、设计原则或者设计思想。如果你不懂这些设计模式、原则、思想， 在看代码的时候，你可能就会琢磨不透作者的设计思路，对于一些很明显的设计思路，你可能要花费很多时间才能参悟。相反，如果你对设计模式、原则、思想非常了解，一眼就能参透作者的设计思路、设计初衷，很快就可以把脑容量释放出来，重点思考其他问题，代码读起来就会变得轻松了。

实际上，除了看不懂、看不下去的问题，还有一个隐藏的问题，你可能自己都发现不了，**那就是你自己觉得看懂了，实际上，里面的精髓你并没有 get 到多少**！因为优秀的开源项目、框架、中间件，就像一个集各种高精尖技术在一起的战斗机。如果你想剖析它的原理、学习它的技术，而你没有积累深厚的基本功，就算把这台战斗机摆在你面前，你也不能完全参透它的精髓，只是了解个皮毛，看个热闹而已。

因此，学好设计模式相关的知识，不仅能让你更轻松地读懂开源项目，还能更深入地参透里面的技术精髓，做到事半功倍。

## 四、为你的职场发展做铺垫

普通的、低级别的开发工程师，只需要把框架、开发工具、编程语言用熟练，再做几个项目练练手，基本上就能应付平时的开发工作了。但是，如果你不想一辈子做一个低级的码农， 想成长为技术专家、大牛、技术 leader，希望在职场有更高的成就、更好的发展，那就要重视基本功的训练、基础知识的积累。

你去看大牛写的代码，或者优秀的开源项目，代码写得都非常的优美，质量都很高。==如果你只是框架用得很溜，架构聊得头头是道，但写出来的代码很烂，让人一眼就能看出很多不合理的、可以改进的地方，那你永远都成不了别人心目中的"技术大牛"。 

再者，在技术这条职场道路上，当成长到一定阶段之后，你势必要承担一些指导培养初级员工、新人，以及 code review 的工作。这个时候，如果你自己都对"什么是好的代码？如何写出好的代码？"不了解，那又该如何指导别人，如何让人家信服呢？

还有，如果你是一个技术 leader，负责一个项目整体的开发工作，你就需要为开发进度、开发效率和项目质量负责。你也不希望团队堆砌垃圾代码，让整个项目无法维护，添加、修改一个功能都要费老大劲，最终拉低整个团队的开发效率吧？

除此之外，==代码质量低还会导致线上 bug 频发，排查困难。整个团队都陷在成天修改无意义的低级 bug、在烂代码中添补丁的事情中。而一个设计良好、易维护的系统，可以解放我们的时间，让我们做些更加有意义、更能提高自己和团队能力的事情。==

最后，当你成为 leader、或者团队中的资深工程师、技术专家之后，你势必要负责一部分团队的招聘工作。这个时候，如果你要考察候选人的设计能力、代码能力，那设计模式相关的问题便是一个很好的考察点。


不过，我也了解到，很多面试官实际上对设计模式也并不是很了解，只能拿一些简单的单例模式、工厂模式来考察候选人，而且所出的题目往往都脱离实践，比如，如何设计一个餐厅系统、停车场系统、售票系统等。这些题目都是网上万年不变的老题目，几乎考察不出候选人的能力。在我的专栏中，有 200 多个真实项目开发中的设计模式相关问题，你跟着看下来，足以让你成为设计模式方面的大牛，再来面试候选人的时候，就不用因为题目老套、脱离实践而尴尬了！

## 重点回顾

今天，我们讲了为什么要学习设计模式相关的知识，总结一下的话，主要有这样五点：应对面试中的设计模式相关问题；告别写被人吐槽的烂代码；提高复杂代码的设计和开发能力； 让读源码、学框架事半功倍；为你的职场发展做铺垫。

投资要趁早，这样我们才能尽早享受复利。同样，有些能力，要早点锻炼；有些东西，要早点知道；有些书，要早点读。这样在你后面的生活、工作、学习中，才能一直都发挥作用。不要等到好多年后，看到了，才恍然大悟，后悔没有早点去学、去看。

设计模式作为一门与编码、开发有着直接关系的基础知识，是你现在就要开始学习的。早点去学习，以后的项目就都可以拿来锻炼，每写一行代码都是对内功的利用和加深，是可以受益一整个职业生涯的事情。

## 课堂讨论

今天课堂讨论的话题有两个：

1.  聊一聊你对设计模式相关知识的重要性的看法；

2.  在你过往的项目开发中，有没有用过某种设计模式？是在什么场景下应用的？解决了什么问题？

欢迎在留言区发表你的观点，积极参与讨论。你也可以把这篇文章分享给你的朋友，邀请他一起学习。

精选留言 (246)  写留言
丁丁历险记
2019-11-04
笔记：
1 作者反复解释了下学好 dp 的重要性。
映像深刻的：
基本功不够，把一台战斗机放你面前，你都不知道如何欣赏和品味。
其它职能：…
展开
 9  85
嚴脂红.*
2019-11-04
做游戏开发相关的工作，日常用到非常多的设计模式，比如:
对于游戏的设置，ui 和 scene 等等各种 manager 管理类都要用到单例模式。
创建游戏中各种角色的各种工厂模式还有对象池。
处理游戏角色的各种状态的有限状态机要用到状态模式。…
展开
 1  27
jony
2019-11-05
设计模式，两眼一抹黑，从 0 开始
展开
  20
谭棋钊
2019-11-04
只用过单例
展开
  16
乐
2019-11-04
个人认为设计模式主要解决的是扩展和耦合问题
日常使用：
使用代理模式进行共性化处理，比如说 AOP 思想，将非业务功能和业务功能解耦…
展开
 1  15
梁军
2019-11-04
个人感觉，设计模式和数据结构算法结合，再去读源码或者框架，很清晰，一个招式一个
内功
  11
仰望星空
2019-11-04
老师能不能讲讲函数式编程思想，设计模式都是基于面向对象的，而现在更流行函数式编
程。
作者回复: 函数式编程感觉还是没面向对象流行 所以专栏中没讲
 1  9
编程界的小学生
2019-11-04
1.设计模式很主要，很主要，很主要。他是一个能够长久迭代开发的必要条件，也是一个
提高开发效率的必要条件。当我第一次用设计模式的时候我激动的一晚上没睡好，反反复
复去看我的代码，喜欢的不得了。我会对照我的代码思考需求变更我的代码应该改什么，
那种解耦合，可扩展的架构真的喜欢！！！
…
展开
  6
SweetyTang
2019-11-04
用的最多的是观察者模式，其它模式都不了解，有些太失败了😭😭😭
 5  6
大王拍我去巡山
2019-11-05
CRUD 写的太多了， 通过设计模式也能简化业务代码，释放生产力。期望能多有些代码场
景的演练，跟随学习
  5
时光之刃
2019-11-05
希望老师能举一些开源代码中的设计模式，比如 netty 或者 ES 等
作者回复: 可以的 我后面可以考虑多写几篇加餐
  4
于留月
2019-11-05
设计模式的重要性：
1、提高设计和开发能力，从更高层次考虑问题：可读性、可维护性、可扩展性、模块化、
组件化；
2、读源码、学框架，深有体会，Android 源码到处充斥着各式各样的设计模式和设计原
则；…
展开
  4
汤小高
2019-11-04
课后讨论：我的看法
1.聊一聊你对设计模式相关知识的重要性的看法；
（1）设计模式能让程序员编写出可读性高，易维护，易拓展的代码，避免烂代码。
（2）利用好设计模式能让复杂功能的设计的代码可复用性，可拓展性，可维护性，可读性
更高。达到高内聚、低耦合的目的。…
展开
  4
条
2019-11-04
1.个人觉得设计模式就是对一些写比较好的代码的总结，其实代码看的写的多了，也能写
出自己的设计模式。
2.最近重构了一块生成 excel 的代码，因为相似的代码很多，就用到了简单工厂模式和策略
模式，工厂模式让对象的创建更加明确，策略模式让代码的逻辑看起来更加清晰、也解决
一些代码重复的问题。
展开
  3
落叶飞逝的恋
2019-11-04
学完这个，再去重温数据结构，大有裨益。
展开
  3
啊哈哈哈怕
2019-11-07
是不是适用设计模式也应该一分为二的看，如果业务非常简单就没必要上设计模式增加系
统的复杂性了。
  2
httvc
2019-11-05
一直觉得设计模式很重要，但是就是静不下心来学，看博客学的时候坚持一周过个周六日
第二周周一就忘了，又看其他的，这次一定看完。
在开发的时候用过单例，适配器，观察者和被观察者，建造设计模式，然后看源码的时候
看过代理，工厂设计模式，其他的设计模式在没了解。
展开
  2
Joanfen
2019-11-04
\1. 设计模式相当于是前人总结的一些套路，当业务与这些模式比较契合时，就可以使用对
应的模式来设计，而且当大家都了解这些“套路”时，交流也会比较顺畅
\2. 设计 App 相关协议时使用过工厂模式，为了减少 case 判断
展开
  2
真飞鸟
2019-11-04
课堂讨论 1 公司里的新电商项目 由一个工作十余年的老程序员主要开发下单这块 代码中充
斥着 ifelse 十分难以维护 虽然注释清晰 但是让人根本没有看下去的欲望
2 在项目中主要用到的就是单例模式 dotnetcore 框架中自带的 addsingleton 让对象在生命
周期内只实例化一次 还有就是观察者模式 主要就是 mq 的 exchange 中还有实际业务中 减
少了很多重复的代码
展开
 1  2
Monday
2019-11-04
1，重要性亲身经历过：被面试，面试别人，看源码，设计易维护易扩展的功能模块
2，几乎没使用过。读过设计模式的书籍，现在全还回去了。这也是学习本专栏的原因  
