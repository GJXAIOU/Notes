![](media/image1.png)

36 \| å®æˆ˜äºŒï¼ˆä¸Šï¼‰ï¼šç¨‹åºå‡ºé”™è¯¥è¿”å›å•¥ï¼ŸNULLã€å¼‚å¸¸ã€é”™è¯¯ç ã€ç©ºå¯¹è±¡ï¼Ÿ

> 2020-01-24 ç‹äº‰
>
> è®¾è®¡æ¨¡å¼ä¹‹ç¾ è¿›å…¥è¯¾ç¨‹ î™¯

![](media/image3.png)

> æˆ‘ä»¬å¯ä»¥æŠŠå‡½æ•°çš„è¿è¡Œç»“æœåˆ†ä¸ºä¸¤ç±»ã€‚ä¸€ç±»æ˜¯é¢„æœŸçš„ç»“æœï¼Œä¹Ÿå°±æ˜¯å‡½æ•°åœ¨æ­£å¸¸æƒ…å†µä¸‹è¾“å‡ºçš„
>
> ç»“æœã€‚ä¸€ç±»æ˜¯éé¢„æœŸçš„ç»“æœï¼Œä¹Ÿå°±æ˜¯å‡½æ•°åœ¨å¼‚å¸¸ï¼ˆæˆ–å«å‡ºé”™ï¼‰æƒ…å†µä¸‹è¾“å‡ºçš„ç»“æœã€‚æ¯”å¦‚ï¼Œåœ¨ä¸Šä¸€èŠ‚è¯¾ä¸­ï¼Œè·å–æœ¬æœºåçš„å‡½æ•°ï¼Œåœ¨æ­£å¸¸æƒ…å†µä¸‹ï¼Œå‡½æ•°è¿”å›å­—ç¬¦ä¸²æ ¼å¼çš„æœ¬æœºåï¼›åœ¨å¼‚å¸¸æƒ…å†µä¸‹ï¼Œè·å–æœ¬æœºåå¤±è´¥ï¼Œå‡½æ•°è¿”å› UnknownHostException å¼‚å¸¸å¯¹è±¡ã€‚
>
> ![](media/image9.png)åœ¨æ­£å¸¸æƒ…å†µä¸‹ï¼Œå‡½æ•°è¿”å›æ•°æ®çš„ç±»å‹éå¸¸æ˜ç¡®ï¼Œä½†æ˜¯ï¼Œåœ¨å¼‚å¸¸æƒ…å†µä¸‹ï¼Œå‡½æ•°è¿”å›çš„æ•°æ®ç±»å‹å´éå¸¸çµæ´»ï¼Œæœ‰å¤šç§é€‰æ‹©ã€‚é™¤äº†åˆšåˆšæåˆ°çš„ç±»ä¼¼ UnknownHostException è¿™æ ·çš„å¼‚å¸¸î˜¿å¯¹ è±¡ä¹‹å¤–ï¼Œå‡½æ•°åœ¨å¼‚å¸¸æƒ…å†µä¸‹è¿˜å¯ä»¥è¿”å›é”™è¯¯ç ã€NULL å€¼ã€ç‰¹æ®Šå€¼ï¼ˆæ¯”å¦‚ -1ï¼‰ã€ç©ºå¯¹è±¡
>
> ï¼ˆæ¯”å¦‚ç©ºå­—ç¬¦ä¸²ã€ç©ºé›†åˆï¼‰ç­‰ã€‚
>
> æ¯ä¸€ç§å¼‚å¸¸è¿”å›æ•°æ®ç±»å‹ï¼Œéƒ½æœ‰å„è‡ªçš„ç‰¹ç‚¹å’Œé€‚ç”¨åœºæ™¯ã€‚ä½†æœ‰çš„æ—¶å€™ï¼Œåœ¨å¼‚å¸¸æƒ…å†µä¸‹ï¼Œå‡½æ•°åˆ°åº•è¯¥è¿”å›ä»€ä¹ˆæ ·çš„æ•°æ®ç±»å‹ï¼Œå¹¶ä¸é‚£ä¹ˆå®¹æ˜“åˆ¤æ–­ã€‚æ¯”å¦‚ï¼Œä¸ŠèŠ‚è¯¾ä¸­ï¼Œåœ¨æœ¬æœºåè·å–å¤±è´¥çš„æ—¶å€™ï¼ŒID ç”Ÿæˆå™¨çš„ generate() å‡½æ•°åº”è¯¥è¿”å›ä»€ä¹ˆå‘¢ï¼Ÿæ˜¯å¼‚å¸¸ï¼Ÿç©ºå­—ç¬¦ï¼Ÿè¿˜æ˜¯ NULL å€¼ï¼Ÿ åˆæˆ–è€…æ˜¯å…¶ä»–ç‰¹æ®Šå€¼ï¼ˆæ¯”å¦‚ null-15293834874-fd3A9KBnï¼Œnull è¡¨ç¤ºæœ¬æœºåæœªè·å–åˆ°ï¼‰ å‘¢ï¼Ÿ
>
> å‡½æ•°æ˜¯ä»£ç çš„ä¸€ä¸ªéå¸¸é‡è¦çš„ç¼–å†™å•å…ƒï¼Œè€Œå‡½æ•°çš„å¼‚å¸¸å¤„ç†ï¼Œåˆæ˜¯æˆ‘ä»¬åœ¨ç¼–å†™å‡½æ•°çš„æ—¶å€™ï¼Œ æ—¶åˆ»éƒ½è¦è€ƒè™‘çš„ã€‚æ‰€ä»¥ï¼Œä»Šå¤©æˆ‘ä»¬å°±èŠä¸€èŠï¼Œå¦‚ä½•è®¾è®¡å‡½æ•°åœ¨å¼‚å¸¸æƒ…å†µä¸‹çš„è¿”å›æ•°æ®ç±»å‹ã€‚
>
> è¯ä¸å¤šè¯´ï¼Œè®©æˆ‘ä»¬æ­£å¼å¼€å§‹ä»Šå¤©çš„å­¦ä¹ å§ï¼

# ä»ä¸ŠèŠ‚è¯¾çš„ ID ç”Ÿæˆå™¨ä»£ç è®²èµ·

> ä¸Šä¸¤èŠ‚è¯¾ä¸­ï¼Œæˆ‘ä»¬æŠŠä¸€ä»½éå¸¸ç®€å•çš„ ID ç”Ÿæˆå™¨çš„ä»£ç ï¼Œä»â€œèƒ½ç”¨â€é‡æ„æˆäº†â€œå¥½ç”¨â€ã€‚æœ€ç»ˆç»™å‡ºçš„ä»£ç çœ‹ä¼¼å·²ç»å¾ˆå®Œç¾äº†ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬å†ç”¨å¿ƒæ¨æ•²ä¸€ä¸‹ï¼Œä»£ç ä¸­å…³äºå‡ºé”™å¤„ç†çš„æ–¹å¼ï¼Œè¿˜æœ‰è¿›ä¸€æ­¥ä¼˜åŒ–çš„ç©ºé—´ï¼Œå€¼å¾—æˆ‘ä»¬æ‹¿å‡ºæ¥å†è®¨è®ºä¸€ä¸‹ã€‚
>
> ä¸ºäº†æ–¹ä¾¿ä½ æŸ¥çœ‹ï¼Œæˆ‘å°†ä¸ŠèŠ‚è¯¾çš„ä»£ç æ‹·è´åˆ°äº†è¿™é‡Œã€‚

î˜“ å¤åˆ¶ä»£ç 

1.  public class RandomIdGenerator implements IdGenerator {

2.  private static final Logger logger = LoggerFactory.getLogger(RandomIdGenerat

> 3

1.  @Override

2.  public String generate() {

3.  String substrOfHostName = getLastFiledOfHostName();

4.  long currentTimeMillis = System.currentTimeMillis();

5.  String randomString = generateRandomAlphameric(8);

6.  String id = String.format("%s-%d-%s",

7.  substrOfHostName, currentTimeMillis, randomString);

8.  return id;

> 12 }
>
> 13

1.  private String getLastFiledOfHostName() {

2.  String substrOfHostName = null;

3.  try {

4.  String hostName = InetAddress.getLocalHost().getHostName();

5.  substrOfHostName = getLastSubstrSplittedByDot(hostName);

6.  } catch (UnknownHostException e) {

7.  logger.warn("Failed to get the host name.", e);

> 21 }
>
> 22 return substrOfHostName;
>
> 23
>
> 24
>
> 25
>
> 26
>
> 27
>
> 28
>
> 29
>
> 30
>
> 31
>
> 32
>
> 33
>
> 34
>
> 35
>
> 36
>
> 37
>
> 38
>
> 39
>
> 40
>
> 41
>
> 42
>
> 43
>
> 44
>
> 45
>
> 46
>
> 47
>
> 48
>
> 49
>
> 50 }
>
> }
>
> @VisibleForTesting
>
> protected String getLastSubstrSplittedByDot(String hostName) { String\[\] tokens = hostName.split("\\\\.");
>
> String substrOfHostName = tokens\[tokens.length - 1\]; return substrOfHostName;
>
> }
>
> @VisibleForTesting
>
> protected String generateRandomAlphameric(int length) { char\[\] randomChars = new char\[length\];
>
> int count = 0;
>
> Random random = new Random(); while (count &lt; length) {
>
> int maxAscii = 'z';
>
> int randomAscii = random.nextInt(maxAscii);
>
> boolean isDigit= randomAscii &gt;= '0' && randomAscii &lt;= '9'; boolean isUppercase= randomAscii &gt;= 'A' && randomAscii &lt;= 'Z'; boolean isLowercase= randomAscii &gt;= 'a' && randomAscii &lt;= 'z'; if (isDigit\|\| isUppercase \|\| isLowercase) {
>
> randomChars\[count\] = (char) (randomAscii);
>
> ++count;
>
> }
>
> }
>
> return new String(randomChars);
>
> }
>
> è¿™æ®µä»£ç ä¸­æœ‰å››ä¸ªå‡½æ•°ã€‚é’ˆå¯¹è¿™å››ä¸ªå‡½æ•°çš„å‡ºé”™å¤„ç†æ–¹å¼ï¼Œæˆ‘æ€»ç»“å‡ºä¸‹é¢è¿™æ ·å‡ ä¸ªé—®é¢˜ã€‚
>
> å¯¹äº generate() å‡½æ•°ï¼Œå¦‚æœæœ¬æœºåè·å–å¤±è´¥ï¼Œå‡½æ•°è¿”å›ä»€ä¹ˆï¼Ÿè¿™æ ·çš„è¿”å›å€¼æ˜¯å¦åˆç†ï¼Ÿ
>
> å¯¹äº getLastFiledOfHostName() å‡½æ•°ï¼Œæ˜¯å¦åº”è¯¥å°† UnknownHostException å¼‚å¸¸åœ¨å‡½æ•°å†…éƒ¨åæ‰ï¼ˆtry-catch å¹¶æ‰“å°æ—¥å¿—ï¼‰ï¼Ÿè¿˜æ˜¯åº”è¯¥å°†å¼‚å¸¸ç»§ç»­å¾€ä¸ŠæŠ›å‡ºï¼Ÿå¦‚æœå¾€ä¸ŠæŠ›å‡ºçš„è¯ï¼Œæ˜¯ç›´æ¥æŠŠ UnknownHostException å¼‚å¸¸åŸå°ä¸åŠ¨åœ°æŠ›å‡ºï¼Œè¿˜æ˜¯å°è£…æˆæ–°çš„å¼‚å¸¸æŠ›å‡ºï¼Ÿ
>
> å¯¹äº getLastSubstrSplittedByDot(String hostName) å‡½æ•°ï¼Œå¦‚æœ hostName ä¸ºNULL æˆ–è€…æ˜¯ç©ºå­—ç¬¦ä¸²ï¼Œè¿™ä¸ªå‡½æ•°åº”è¯¥è¿”å›ä»€ä¹ˆï¼Ÿ
>
> å¯¹äº generateRandomAlphameric(int length) å‡½æ•°ï¼Œå¦‚æœ length å°äº 0 æˆ–è€…ç­‰äº0ï¼Œè¿™ä¸ªå‡½æ•°åº”è¯¥è¿”å›ä»€ä¹ˆï¼Ÿ
>
> å¯¹äºä¸Šé¢è¿™å‡ ä¸ªé—®é¢˜ï¼Œä½ å¯ä»¥è¯•ç€æ€è€ƒä¸‹ï¼Œæˆ‘å…ˆä¸åšè§£ç­”ã€‚ç­‰æˆ‘ä»¬å­¦å®Œæœ¬èŠ‚è¯¾çš„ç†è®ºå†…å®¹ä¹‹åï¼Œæˆ‘ä»¬ä¸‹ä¸€èŠ‚è¯¾å†ä¸€å—æ¥åˆ†æã€‚è¿™ä¸€èŠ‚æˆ‘ä»¬é‡ç‚¹è®²è§£ä¸€äº›ç†è®ºæ–¹é¢çš„çŸ¥è¯†ã€‚

# å‡½æ•°å‡ºé”™åº”è¯¥è¿”å›å•¥ï¼Ÿ

> å…³äºå‡½æ•°å‡ºé”™è¿”å›æ•°æ®ç±»å‹ï¼Œæˆ‘æ€»ç»“äº† 4 ç§æƒ…å†µï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ï¼šé”™è¯¯ç ã€NULL å€¼ã€ç©ºå¯¹è±¡ã€å¼‚å¸¸å¯¹è±¡ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±ä¸€ä¸€æ¥çœ‹å®ƒä»¬çš„ç”¨æ³•ä»¥åŠé€‚ç”¨åœºæ™¯ã€‚

## è¿”å›é”™è¯¯ç 

> C è¯­è¨€ä¸­æ²¡æœ‰å¼‚å¸¸è¿™æ ·çš„è¯­æ³•æœºåˆ¶ï¼Œå› æ­¤ï¼Œè¿”å›é”™è¯¯ç ä¾¿æ˜¯æœ€å¸¸ç”¨çš„å‡ºé”™å¤„ç†æ–¹å¼ã€‚è€Œåœ¨Javaã€Python ç­‰æ¯”è¾ƒæ–°çš„ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éƒ½ç”¨å¼‚å¸¸æ¥å¤„ç†å‡½æ•°å‡ºé”™çš„æƒ…å†µï¼Œæå°‘ä¼šç”¨åˆ°é”™è¯¯ç ã€‚
>
> åœ¨ C è¯­è¨€ä¸­ï¼Œé”™è¯¯ç çš„è¿”å›æ–¹å¼æœ‰ä¸¤ç§ï¼šä¸€ç§æ˜¯ç›´æ¥å ç”¨å‡½æ•°çš„è¿”å›å€¼ï¼Œå‡½æ•°æ­£å¸¸æ‰§è¡Œçš„è¿”å›å€¼æ”¾åˆ°å‡ºå‚ä¸­ï¼›å¦ä¸€ç§æ˜¯å°†é”™è¯¯ç å®šä¹‰ä¸ºå…¨å±€å˜é‡ï¼Œåœ¨å‡½æ•°æ‰§è¡Œå‡ºé”™æ—¶ï¼Œå‡½æ•°è°ƒç”¨è€…é€šè¿‡è¿™ä¸ªå…¨å±€å˜é‡æ¥è·å–é”™è¯¯ç ã€‚é’ˆå¯¹è¿™ä¸¤ç§æ–¹å¼ï¼Œæˆ‘ä¸¾ä¸ªä¾‹å­æ¥è¿›ä¸€æ­¥è§£é‡Šã€‚å…·ä½“ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š
>
> å®é™…ä¸Šï¼Œå¦‚æœä½ ç†Ÿæ‚‰çš„ç¼–ç¨‹è¯­è¨€ä¸­æœ‰å¼‚å¸¸è¿™ç§è¯­æ³•æœºåˆ¶ï¼Œé‚£å°±å°½é‡ä¸è¦ä½¿ç”¨é”™è¯¯ç ã€‚å¼‚å¸¸ç›¸å¯¹äºé”™è¯¯ç ï¼Œæœ‰è¯¸å¤šæ–¹é¢çš„ä¼˜åŠ¿ï¼Œæ¯”å¦‚å¯ä»¥æºå¸¦æ›´å¤šçš„é”™è¯¯ä¿¡æ¯ï¼ˆexception ä¸­å¯ä»¥æœ‰messageã€stack trace ç­‰ä¿¡æ¯ï¼‰ç­‰ã€‚å…³äºå¼‚å¸¸ï¼Œæˆ‘ä»¬å¾…ä¼šè¿˜ä¼šéå¸¸è¯¦ç»†åœ°è®²è§£ã€‚

## è¿”å› NULL å€¼

> åœ¨å¤šæ•°ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œæˆ‘ä»¬ç”¨ NULL æ¥è¡¨ç¤ºâ€œä¸å­˜åœ¨â€è¿™ç§è¯­ä¹‰ã€‚ä¸è¿‡ï¼Œç½‘ä¸Šå¾ˆå¤šäººä¸å»ºè®®å‡½æ•°è¿”å› NULL å€¼ï¼Œè®¤ä¸ºè¿™æ˜¯ä¸€ç§ä¸å¥½çš„è®¾è®¡æ€è·¯ï¼Œä¸»è¦çš„ç†ç”±æœ‰ä»¥ä¸‹ä¸¤ä¸ªã€‚
>
> å¦‚æœæŸä¸ªå‡½æ•°æœ‰å¯èƒ½è¿”å› NULL å€¼ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨å®ƒçš„æ—¶å€™ï¼Œå¿˜è®°äº†åš NULL å€¼åˆ¤æ–­ï¼Œå°±æœ‰å¯èƒ½ä¼šæŠ›å‡º**ç©ºæŒ‡é’ˆå¼‚å¸¸**ï¼ˆNull Pointer Exceptionï¼Œç¼©å†™ä¸º NPEï¼‰ã€‚
>
> å¦‚æœæˆ‘ä»¬å®šä¹‰äº†å¾ˆå¤šè¿”å›å€¼å¯èƒ½ä¸º NULL çš„å‡½æ•°ï¼Œé‚£ä»£ç ä¸­å°±ä¼šå……æ–¥ç€å¤§é‡çš„ NULL å€¼åˆ¤æ–­é€»è¾‘ï¼Œä¸€æ–¹é¢å†™èµ·æ¥æ¯”è¾ƒç¹çï¼Œå¦ä¸€æ–¹é¢å®ƒä»¬è·Ÿæ­£å¸¸çš„ä¸šåŠ¡é€»è¾‘è€¦åˆåœ¨ä¸€èµ·ï¼Œä¼šå½±
>
> å“ä»£ç çš„å¯è¯»æ€§ã€‚
>
> æˆ‘ä¸¾ä¸ªä¾‹å­è§£é‡Šä¸€ä¸‹ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š
>
> é‚£æˆ‘ä»¬æ˜¯å¦å¯ä»¥ç”¨å¼‚å¸¸æ¥æ›¿ä»£ NULL å€¼ï¼Œåœ¨æŸ¥æ‰¾ç”¨æˆ·ä¸å­˜åœ¨çš„æ—¶å€™ï¼Œè®©å‡½æ•°æŠ›å‡ºUserNotFoundException å¼‚å¸¸å‘¢ï¼Ÿ
>
> æˆ‘ä¸ªäººè§‰å¾—ï¼Œå°½ç®¡è¿”å› NULL å€¼æœ‰è¯¸å¤šå¼Šç«¯ï¼Œä½†å¯¹äºä»¥ getã€findã€selectã€searchã€query ç­‰å•è¯å¼€å¤´çš„æŸ¥æ‰¾å‡½æ•°æ¥è¯´ï¼Œæ•°æ®ä¸å­˜åœ¨ï¼Œå¹¶éä¸€ç§å¼‚å¸¸æƒ…å†µï¼Œè¿™æ˜¯ä¸€ç§æ­£å¸¸è¡Œä¸ºã€‚æ‰€ä»¥ï¼Œè¿”å›ä»£è¡¨ä¸å­˜åœ¨è¯­ä¹‰çš„ NULL å€¼æ¯”è¿”å›å¼‚å¸¸æ›´åŠ åˆç†ã€‚
>
> ä¸è¿‡ï¼Œè¯è¯´å›æ¥ï¼Œåˆšåˆšè®²çš„è¿™ä¸ªç†ç”±ï¼Œä¹Ÿå¹¶ä¸æ˜¯ç‰¹åˆ«æœ‰è¯´æœåŠ›ã€‚å¯¹äºæŸ¥æ‰¾æ•°æ®ä¸å­˜åœ¨çš„æƒ… å†µï¼Œå‡½æ•°åˆ°åº•æ˜¯è¯¥ç”¨ NULL å€¼è¿˜æ˜¯å¼‚å¸¸ï¼Œæœ‰ä¸€ä¸ªæ¯”è¾ƒé‡è¦çš„å‚è€ƒæ ‡å‡†æ˜¯ï¼Œçœ‹é¡¹ç›®ä¸­çš„å…¶ä»–ç±»ä¼¼æŸ¥æ‰¾å‡½æ•°éƒ½æ˜¯å¦‚ä½•å®šä¹‰çš„ï¼Œåªè¦æ•´ä¸ªé¡¹ç›®éµä»ç»Ÿä¸€çš„çº¦å®šå³å¯ã€‚å¦‚æœé¡¹ç›®ä»é›¶å¼€å§‹å¼€ å‘ï¼Œå¹¶æ²¡æœ‰ç»Ÿä¸€çº¦å®šå’Œå¯ä»¥å‚è€ƒçš„ä»£ç ï¼Œé‚£ä½ é€‰æ‹©ä¸¤è€…ä¸­çš„ä»»ä½•ä¸€ç§éƒ½å¯ä»¥ã€‚ä½ åªéœ€è¦åœ¨å‡½æ•°å®šä¹‰çš„åœ°æ–¹æ³¨é‡Šæ¸…æ¥šï¼Œè®©è°ƒç”¨è€…æ¸…æ™°åœ°çŸ¥é“æ•°æ®ä¸å­˜åœ¨çš„æ—¶å€™ä¼šè¿”å›ä»€ä¹ˆå°±å¯ä»¥äº†ã€‚
>
> å†è¡¥å……è¯´æ˜ä¸€ç‚¹ï¼Œå¯¹äºæŸ¥æ‰¾å‡½æ•°æ¥è¯´ï¼Œé™¤äº†è¿”å›æ•°æ®å¯¹è±¡ä¹‹å¤–ï¼Œæœ‰çš„è¿˜ä¼šè¿”å›ä¸‹æ ‡ä½ç½®ï¼Œæ¯”å¦‚ Java ä¸­çš„ indexOf() å‡½æ•°ï¼Œç”¨æ¥å®ç°åœ¨æŸä¸ªå­—ç¬¦ä¸²ä¸­æŸ¥æ‰¾å¦ä¸€ä¸ªå­ä¸²ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½
>
> ç½®ã€‚å‡½æ•°çš„è¿”å›å€¼ç±»å‹ä¸ºåŸºæœ¬ç±»å‹ intã€‚è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å°±æ— æ³•ç”¨ NULL å€¼æ¥è¡¨ç¤ºä¸å­˜åœ¨çš„
>
> æƒ…å†µäº†ã€‚å¯¹äºè¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬æœ‰ä¸¤ç§å¤„ç†æ€è·¯ï¼Œä¸€ç§æ˜¯è¿”å› NotFoundExceptionï¼Œä¸€ç§æ˜¯è¿”å›ä¸€ä¸ªç‰¹æ®Šå€¼ï¼Œæ¯”å¦‚ -1ã€‚ä¸è¿‡ï¼Œæ˜¾ç„¶ -1 æ›´åŠ åˆç†ï¼Œç†ç”±ä¹Ÿæ˜¯åŒæ ·çš„ï¼Œä¹Ÿå°±æ˜¯è¯´â€œæ²¡æœ‰æŸ¥æ‰¾åˆ°â€æ˜¯ä¸€ç§æ­£å¸¸è€Œéå¼‚å¸¸çš„è¡Œä¸ºã€‚

## è¿”å›ç©ºå¯¹è±¡

> åˆšåˆšæˆ‘ä»¬è®²åˆ°ï¼Œè¿”å› NULL å€¼æœ‰å„ç§å¼Šç«¯ã€‚åº”å¯¹è¿™ä¸ªé—®é¢˜æœ‰ä¸€ä¸ªæ¯”è¾ƒç»å…¸çš„ç­–ç•¥ï¼Œé‚£å°±æ˜¯åº”ç”¨ç©ºå¯¹è±¡è®¾è®¡æ¨¡å¼ï¼ˆNull Object Design Patternï¼‰ã€‚å…³äºè¿™ä¸ªè®¾è®¡æ¨¡å¼ï¼Œæˆ‘ä»¬åœ¨åé¢ç« èŠ‚ä¼šè¯¦ç»†è®²ï¼Œç°åœ¨å°±ä¸å±•å¼€æ¥è®²è§£äº†ã€‚ä¸è¿‡ï¼Œæˆ‘ä»¬ä»Šå¤©æ¥è®²ä¸¤ç§æ¯”è¾ƒç®€å•ã€æ¯”è¾ƒç‰¹æ®Šçš„ç©ºå¯¹è±¡ï¼Œé‚£å°±æ˜¯**ç©ºå­—ç¬¦ä¸²**å’Œ**ç©ºé›†åˆ**ã€‚
>
> å½“å‡½æ•°è¿”å›çš„æ•°æ®æ˜¯å­—ç¬¦ä¸²ç±»å‹æˆ–è€…é›†åˆç±»å‹çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ç©ºå­—ç¬¦ä¸²æˆ–ç©ºé›†åˆæ›¿ä»£NULL å€¼ï¼Œæ¥è¡¨ç¤ºä¸å­˜åœ¨çš„æƒ…å†µã€‚è¿™æ ·ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨å‡½æ•°çš„æ—¶å€™ï¼Œå°±å¯ä»¥ä¸ç”¨åš NULL å€¼åˆ¤æ–­ã€‚æˆ‘ä¸¾ä¸ªä¾‹å­æ¥è§£é‡Šä¸‹ã€‚å…·ä½“ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š

## æŠ›å‡ºå¼‚å¸¸å¯¹è±¡

> å°½ç®¡å‰é¢è®²äº†å¾ˆå¤šå‡½æ•°å‡ºé”™çš„è¿”å›æ•°æ®ç±»å‹ï¼Œä½†æ˜¯ï¼Œæœ€å¸¸ç”¨çš„å‡½æ•°å‡ºé”™å¤„ç†æ–¹å¼å°±æ˜¯æŠ›å‡ºå¼‚å¸¸ã€‚å¼‚å¸¸å¯ä»¥æºå¸¦æ›´å¤šçš„é”™è¯¯ä¿¡æ¯ï¼Œæ¯”å¦‚å‡½æ•°è°ƒç”¨æ ˆä¿¡æ¯ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå¼‚å¸¸å¯ä»¥å°†æ­£å¸¸é€»è¾‘å’Œå¼‚å¸¸é€»è¾‘çš„å¤„ç†åˆ†ç¦»å¼€æ¥ï¼Œè¿™æ ·ä»£ç çš„å¯è¯»æ€§å°±ä¼šæ›´å¥½ã€‚
>
> ä¸åŒçš„ç¼–ç¨‹è¯­è¨€çš„å¼‚å¸¸è¯­æ³•ç¨æœ‰ä¸åŒã€‚åƒ C++ å’Œå¤§éƒ¨åˆ†çš„åŠ¨æ€è¯­è¨€ï¼ˆPythonã€Rubyã€JavaScript ç­‰ï¼‰éƒ½åªå®šä¹‰äº†ä¸€ç§å¼‚å¸¸ç±»å‹ï¼šè¿è¡Œæ—¶å¼‚å¸¸ï¼ˆRuntime Exceptionï¼‰ã€‚è€ŒåƒJavaï¼Œé™¤äº†è¿è¡Œæ—¶å¼‚å¸¸å¤–ï¼Œè¿˜å®šä¹‰äº†å¦å¤–ä¸€ç§å¼‚å¸¸ç±»å‹ï¼šç¼–è¯‘æ—¶å¼‚å¸¸ï¼ˆCompile Exceptionï¼‰ã€‚
>
> å¯¹äºè¿è¡Œæ—¶å¼‚å¸¸ï¼Œæˆ‘ä»¬åœ¨ç¼–å†™ä»£ç çš„æ—¶å€™ï¼Œå¯ä»¥ä¸ç”¨ä¸»åŠ¨å» try-catchï¼Œç¼–è¯‘å™¨åœ¨ç¼–è¯‘ä»£ç çš„æ—¶å€™ï¼Œå¹¶ä¸ä¼šæ£€æŸ¥ä»£ç æ˜¯å¦æœ‰å¯¹è¿è¡Œæ—¶å¼‚å¸¸åšäº†å¤„ç†ã€‚ç›¸åï¼Œå¯¹äºç¼–è¯‘æ—¶å¼‚å¸¸ï¼Œæˆ‘ä»¬åœ¨ç¼–å†™ä»£ç çš„æ—¶å€™ï¼Œéœ€è¦ä¸»åŠ¨å» try-catch æˆ–è€…åœ¨å‡½æ•°å®šä¹‰ä¸­å£°æ˜ï¼Œå¦åˆ™ç¼–è¯‘å°±ä¼šæŠ¥é”™ã€‚æ‰€ä»¥ï¼Œ è¿è¡Œæ—¶å¼‚å¸¸ä¹Ÿå«ä½œéå—æ£€å¼‚å¸¸ï¼ˆUnchecked Exceptionï¼‰ï¼Œç¼–è¯‘æ—¶å¼‚å¸¸ä¹Ÿå«ä½œå—æ£€å¼‚å¸¸
>
> ï¼ˆChecked Exceptionï¼‰ã€‚
>
> å¦‚æœä½ ç†Ÿæ‚‰çš„ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œåªå®šä¹‰äº†ä¸€ç§å¼‚å¸¸ç±»å‹ï¼Œé‚£ç”¨èµ·æ¥åå€’æ¯”è¾ƒç®€å•ã€‚å¦‚æœä½ ç†Ÿæ‚‰çš„ç¼–ç¨‹è¯­è¨€ä¸­ï¼ˆæ¯”å¦‚ Javaï¼‰ï¼Œå®šä¹‰äº†ä¸¤ç§å¼‚å¸¸ç±»å‹ï¼Œé‚£åœ¨å¼‚å¸¸å‡ºç°çš„æ—¶å€™ï¼Œæˆ‘ä»¬åº”è¯¥é€‰æ‹©æŠ›å‡ºå“ªç§å¼‚å¸¸ç±»å‹å‘¢ï¼Ÿæ˜¯å—æ£€å¼‚å¸¸è¿˜æ˜¯éå—æ£€å¼‚å¸¸ï¼Ÿ
>
> å¯¹äºä»£ç  bugï¼ˆæ¯”å¦‚æ•°ç»„è¶Šç•Œï¼‰ä»¥åŠä¸å¯æ¢å¤å¼‚å¸¸ï¼ˆæ¯”å¦‚æ•°æ®åº“è¿æ¥å¤±è´¥ï¼‰ï¼Œå³ä¾¿æˆ‘ä»¬æ•è·äº†ï¼Œä¹Ÿåšä¸äº†å¤ªå¤šäº‹æƒ…ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬å€¾å‘äºä½¿ç”¨éå—æ£€å¼‚å¸¸ã€‚å¯¹äºå¯æ¢å¤å¼‚å¸¸ã€ä¸šåŠ¡å¼‚ å¸¸ï¼Œæ¯”å¦‚æç°é‡‘é¢å¤§äºä½™é¢çš„å¼‚å¸¸ï¼Œæˆ‘ä»¬æ›´å€¾å‘äºä½¿ç”¨å—æ£€å¼‚å¸¸ï¼Œæ˜ç¡®å‘ŠçŸ¥è°ƒç”¨è€…éœ€è¦æ•è·å¤„ç†ã€‚
>
> æˆ‘ä¸¾ä¸€ä¸ªä¾‹å­è§£é‡Šä¸€ä¸‹ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚å½“ Redis çš„åœ°å€ï¼ˆå‚æ•° addressï¼‰æ²¡æœ‰è®¾ç½®çš„æ—¶å€™ï¼Œæˆ‘ä»¬ç›´æ¥ä½¿ç”¨é»˜è®¤çš„åœ°å€ï¼ˆæ¯”å¦‚æœ¬åœ°åœ°å€å’Œé»˜è®¤ç«¯å£ï¼‰ï¼›å½“ Redis çš„åœ°å€æ ¼å¼ä¸æ­£ç¡®çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¸Œæœ›ç¨‹åºèƒ½ fail-fastï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒæŠŠè¿™ç§æƒ…å†µå½“æˆä¸å¯æ¢å¤çš„å¼‚å¸¸ï¼Œç›´æ¥æŠ›å‡ºè¿è¡Œæ—¶å¼‚å¸¸ï¼Œå°†ç¨‹åºç»ˆæ­¢æ‰ã€‚
>
> å®é™…ä¸Šï¼ŒJava æ”¯æŒçš„å—æ£€å¼‚å¸¸ä¸€ç›´è¢«äººè¯Ÿç—…ï¼Œå¾ˆå¤šäººä¸»å¼ æ‰€æœ‰çš„å¼‚å¸¸æƒ…å†µéƒ½åº”è¯¥ä½¿ç”¨éå—æ£€å¼‚å¸¸ã€‚æ”¯æŒè¿™ç§è§‚ç‚¹çš„ç†ç”±ä¸»è¦æœ‰ä»¥ä¸‹ä¸‰ä¸ªã€‚
>
> å—æ£€å¼‚å¸¸éœ€è¦æ˜¾å¼åœ°åœ¨å‡½æ•°å®šä¹‰ä¸­å£°æ˜ã€‚å¦‚æœå‡½æ•°ä¼šæŠ›å‡ºå¾ˆå¤šå—æ£€å¼‚å¸¸ï¼Œé‚£å‡½æ•°çš„å®šä¹‰å°±ä¼šéå¸¸å†—é•¿ï¼Œè¿™å°±ä¼šå½±å“ä»£ç çš„å¯è¯»æ€§ï¼Œä½¿ç”¨èµ·æ¥ä¹Ÿä¸æ–¹ä¾¿ã€‚
>
> ç¼–è¯‘å™¨å¼ºåˆ¶æˆ‘ä»¬å¿…é¡»æ˜¾ç¤ºåœ°æ•è·æ‰€æœ‰çš„å—æ£€å¼‚å¸¸ï¼Œä»£ç å®ç°ä¼šæ¯”è¾ƒç¹çã€‚è€Œéå—æ£€å¼‚å¸¸æ­£å¥½ç›¸åï¼Œæˆ‘ä»¬ä¸éœ€è¦åœ¨å®šä¹‰ä¸­æ˜¾ç¤ºå£°æ˜ï¼Œå¹¶ä¸”æ˜¯å¦éœ€è¦æ•è·å¤„ç†ï¼Œä¹Ÿå¯ä»¥è‡ªç”±å†³å®šã€‚
>
> å—æ£€å¼‚å¸¸çš„ä½¿ç”¨è¿åå¼€é—­åŸåˆ™ã€‚å¦‚æœæˆ‘ä»¬ç»™æŸä¸ªå‡½æ•°æ–°å¢ä¸€ä¸ªå—æ£€å¼‚å¸¸ï¼Œè¿™ä¸ªå‡½æ•°æ‰€åœ¨ çš„å‡½æ•°è°ƒç”¨é“¾ä¸Šçš„æ‰€æœ‰ä½äºå…¶ä¹‹ä¸Šçš„å‡½æ•°éƒ½éœ€è¦åšç›¸åº”çš„ä»£ç ä¿®æ”¹ï¼Œç›´åˆ°è°ƒç”¨é“¾ä¸­çš„æŸ ä¸ªå‡½æ•°å°†è¿™ä¸ªæ–°å¢çš„å¼‚å¸¸ try-catch å¤„ç†æ‰ä¸ºæ­¢ã€‚è€Œæ–°å¢éå—æ£€å¼‚å¸¸å¯ä»¥ä¸æ”¹åŠ¨è°ƒç”¨é“¾ä¸Šçš„ä»£ç ã€‚æˆ‘ä»¬å¯ä»¥çµæ´»åœ°é€‰æ‹©åœ¨æŸä¸ªå‡½æ•°ä¸­é›†ä¸­å¤„ç†ï¼Œæ¯”å¦‚åœ¨ Spring ä¸­çš„ AOP åˆ‡é¢ä¸­é›†ä¸­å¤„ç†å¼‚å¸¸ã€‚
>
> ä¸è¿‡ï¼Œéå—æ£€å¼‚å¸¸ä¹Ÿæœ‰å¼Šç«¯ï¼Œå®ƒçš„ä¼˜ç‚¹å…¶å®ä¹Ÿæ­£æ˜¯å®ƒçš„ç¼ºç‚¹ã€‚ä»åˆšåˆšçš„è¡¨è¿°ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œéå—æ£€å¼‚å¸¸ä½¿ç”¨èµ·æ¥æ›´åŠ çµæ´»ï¼Œæ€ä¹ˆå¤„ç†çš„ä¸»åŠ¨æƒè¿™é‡Œå°±äº¤ç»™äº†ç¨‹åºå‘˜ã€‚æˆ‘ä»¬å‰é¢ä¹Ÿè®²åˆ°ï¼Œè¿‡äºçµæ´»ä¼šå¸¦æ¥ä¸å¯æ§ï¼Œéå—æ£€å¼‚å¸¸ä¸éœ€è¦æ˜¾å¼åœ°åœ¨å‡½æ•°å®šä¹‰ä¸­å£°æ˜ï¼Œé‚£æˆ‘ä»¬åœ¨ä½¿ç”¨å‡½æ•°çš„æ—¶å€™ï¼Œå°±éœ€è¦æŸ¥çœ‹ä»£ç æ‰èƒ½çŸ¥é“å…·ä½“ä¼šæŠ›å‡ºå“ªäº›å¼‚å¸¸ã€‚éå—æ£€å¼‚å¸¸ä¸éœ€è¦å¼ºåˆ¶æ•è·å¤„ ç†ï¼Œé‚£ç¨‹åºå‘˜å°±æœ‰å¯èƒ½æ¼æ‰ä¸€äº›æœ¬åº”è¯¥æ•è·å¤„ç†çš„å¼‚å¸¸ã€‚
>
> å¯¹äºåº”è¯¥ç”¨å—æ£€å¼‚å¸¸è¿˜æ˜¯éå—æ£€å¼‚å¸¸ï¼Œç½‘ä¸Šçš„äº‰è®ºæœ‰å¾ˆå¤šï¼Œä½†å¹¶æ²¡æœ‰ä¸€ä¸ªéå¸¸å¼ºæœ‰åŠ›çš„ç†ç”±èƒ½å¤Ÿè¯´æ˜ä¸€ä¸ªå°±ä¸€å®šæ¯”å¦ä¸€ä¸ªæ›´å¥½ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬åªéœ€è¦æ ¹æ®å›¢é˜Ÿçš„å¼€å‘ä¹ æƒ¯ï¼Œåœ¨åŒä¸€ä¸ªé¡¹ç›®ä¸­ï¼Œåˆ¶å®šç»Ÿä¸€çš„å¼‚å¸¸å¤„ç†è§„èŒƒå³å¯ã€‚
>
> **åˆšåˆšæˆ‘ä»¬è®²äº†ä¸¤ç§å¼‚å¸¸ç±»å‹ï¼Œç°åœ¨æˆ‘ä»¬å†æ¥è®²ä¸‹ï¼Œå¦‚ä½•å¤„ç†å‡½æ•°æŠ›å‡ºçš„å¼‚å¸¸ï¼Ÿ**æ€»ç»“ä¸€ä¸‹ï¼Œä¸€èˆ¬æœ‰ä¸‹é¢ä¸‰ç§å¤„ç†æ–¹æ³•ã€‚
>
> ç›´æ¥åæ‰ã€‚å…·ä½“çš„ä»£ç ç¤ºä¾‹å¦‚ä¸‹æ‰€ç¤ºï¼š
>
> åŸå°ä¸åŠ¨åœ° re-throwã€‚å…·ä½“çš„ä»£ç ç¤ºä¾‹å¦‚ä¸‹æ‰€ç¤ºï¼š
>
> åŒ…è£…æˆæ–°çš„å¼‚å¸¸ re-throwã€‚å…·ä½“çš„ä»£ç ç¤ºä¾‹å¦‚ä¸‹æ‰€ç¤ºï¼š
>
> å½“æˆ‘ä»¬é¢å¯¹å‡½æ•°æŠ›å‡ºå¼‚å¸¸çš„æ—¶å€™ï¼Œåº”è¯¥é€‰æ‹©ä¸Šé¢çš„å“ªç§å¤„ç†æ–¹å¼å‘¢ï¼Ÿæˆ‘æ€»ç»“äº†ä¸‹é¢ä¸‰ä¸ªå‚è€ƒåŸåˆ™ï¼š
>
> å¦‚æœ func1() æŠ›å‡ºçš„å¼‚å¸¸æ˜¯å¯ä»¥æ¢å¤ï¼Œä¸” func2() çš„è°ƒç”¨æ–¹å¹¶ä¸å…³å¿ƒæ­¤å¼‚å¸¸ï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥åœ¨ func2() å†…å°† func1() æŠ›å‡ºçš„å¼‚å¸¸åæ‰ï¼›
>
> å¦‚æœ func1() æŠ›å‡ºçš„å¼‚å¸¸å¯¹ func2() çš„è°ƒç”¨æ–¹æ¥è¯´ï¼Œä¹Ÿæ˜¯å¯ä»¥ç†è§£çš„ã€å…³å¿ƒçš„ ï¼Œå¹¶ä¸”åœ¨ä¸šåŠ¡æ¦‚å¿µä¸Šæœ‰ä¸€å®šçš„ç›¸å…³æ€§ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©ç›´æ¥å°† func1 æŠ›å‡ºçš„å¼‚å¸¸ re-throwï¼›
>
> å¦‚æœ func1() æŠ›å‡ºçš„å¼‚å¸¸å¤ªåº•å±‚ï¼Œå¯¹ func2() çš„è°ƒç”¨æ–¹æ¥è¯´ï¼Œç¼ºä¹èƒŒæ™¯å»ç†è§£ã€ä¸”ä¸šåŠ¡æ¦‚å¿µä¸Šæ— å…³ï¼Œæˆ‘ä»¬å¯ä»¥å°†å®ƒé‡æ–°åŒ…è£…æˆè°ƒç”¨æ–¹å¯ä»¥ç†è§£çš„æ–°å¼‚å¸¸ï¼Œç„¶å re-throwã€‚
>
> æ€»ä¹‹ï¼Œæ˜¯å¦å¾€ä¸Šç»§ç»­æŠ›å‡ºï¼Œè¦çœ‹ä¸Šå±‚ä»£ç æ˜¯å¦å…³å¿ƒè¿™ä¸ªå¼‚å¸¸ã€‚å…³å¿ƒå°±å°†å®ƒæŠ›å‡ºï¼Œå¦åˆ™å°±ç›´æ¥åæ‰ã€‚æ˜¯å¦éœ€è¦åŒ…è£…æˆæ–°çš„å¼‚å¸¸æŠ›å‡ºï¼Œçœ‹ä¸Šå±‚ä»£ç æ˜¯å¦èƒ½ç†è§£è¿™ä¸ªå¼‚å¸¸ã€æ˜¯å¦ä¸šåŠ¡ç›¸å…³ã€‚å¦‚æœèƒ½ç†è§£ã€ä¸šåŠ¡ç›¸å…³å°±å¯ä»¥ç›´æ¥æŠ›å‡ºï¼Œå¦åˆ™å°±å°è£…æˆæ–°çš„å¼‚å¸¸æŠ›å‡ºã€‚å…³äºè¿™éƒ¨åˆ†ç†è®ºçŸ¥è¯†ï¼Œ æˆ‘ä»¬åœ¨ä¸‹ä¸€èŠ‚è¯¾ä¸­ï¼Œä¼šç»“åˆ ID ç”Ÿæˆå™¨çš„ä»£ç æ¥è¿›ä¸€æ­¥è®²è§£ã€‚

# é‡ç‚¹å›é¡¾

> å¥½äº†ï¼Œä»Šå¤©çš„å†…å®¹åˆ°æ­¤å°±è®²å®Œäº†ã€‚æˆ‘ä»¬ä¸€å—æ¥æ€»ç»“å›é¡¾ä¸€ä¸‹ï¼Œä½ éœ€è¦æŒæ¡çš„é‡ç‚¹å†…å®¹ã€‚
>
> å¯¹äºå‡½æ•°å‡ºé”™è¿”å›æ•°æ®ç±»å‹ï¼Œæˆ‘æ€»ç»“äº† 4 ç§æƒ…å†µï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ï¼šé”™è¯¯ç ã€NULL å€¼ã€ç©ºå¯¹è±¡ã€å¼‚å¸¸å¯¹è±¡ã€‚

### è¿”å›é”™è¯¯ç 

> C è¯­è¨€æ²¡æœ‰å¼‚å¸¸è¿™æ ·çš„è¯­æ³•æœºåˆ¶ï¼Œè¿”å›é”™è¯¯ç ä¾¿æ˜¯æœ€å¸¸ç”¨çš„å‡ºé”™å¤„ç†æ–¹å¼ã€‚è€Œ Javaã€Python ç­‰æ¯”è¾ƒæ–°çš„ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éƒ½ç”¨å¼‚å¸¸æ¥å¤„ç†å‡½æ•°å‡ºé”™çš„æƒ…å†µï¼Œæå°‘ä¼šç”¨åˆ°é”™è¯¯ç ã€‚

### è¿”å› NULL å€¼

> åœ¨å¤šæ•°ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œæˆ‘ä»¬ç”¨ NULL æ¥è¡¨ç¤ºâ€œä¸å­˜åœ¨â€è¿™ç§è¯­ä¹‰ã€‚å¯¹äºæŸ¥æ‰¾å‡½æ•°æ¥è¯´ï¼Œæ•°æ®ä¸å­˜åœ¨å¹¶éä¸€ç§å¼‚å¸¸æƒ…å†µï¼Œæ˜¯ä¸€ç§æ­£å¸¸è¡Œä¸ºï¼Œæ‰€ä»¥è¿”å›è¡¨ç¤ºä¸å­˜åœ¨è¯­ä¹‰çš„ NULL å€¼æ¯”è¿”å›å¼‚å¸¸æ›´åŠ åˆç†ã€‚

### è¿”å›ç©ºå¯¹è±¡

> è¿”å› NULL å€¼æœ‰å„ç§å¼Šç«¯ï¼Œå¯¹æ­¤æœ‰ä¸€ä¸ªæ¯”è¾ƒç»å…¸çš„åº”å¯¹ç­–ç•¥ï¼Œé‚£å°±æ˜¯åº”ç”¨ç©ºå¯¹è±¡è®¾è®¡æ¨¡
>
> å¼ã€‚å½“å‡½æ•°è¿”å›çš„æ•°æ®æ˜¯å­—ç¬¦ä¸²ç±»å‹æˆ–è€…é›†åˆç±»å‹çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ç©ºå­—ç¬¦ä¸²æˆ–ç©ºé›†åˆæ›¿ä»£ NULL å€¼ï¼Œæ¥è¡¨ç¤ºä¸å­˜åœ¨çš„æƒ…å†µã€‚è¿™æ ·ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨å‡½æ•°çš„æ—¶å€™ï¼Œå°±å¯ä»¥ä¸ç”¨åš NULL å€¼åˆ¤æ–­ã€‚

### æŠ›å‡ºå¼‚å¸¸å¯¹è±¡

> å°½ç®¡å‰é¢è®²äº†å¾ˆå¤šå‡½æ•°å‡ºé”™çš„è¿”å›æ•°æ®ç±»å‹ï¼Œä½†æ˜¯ï¼Œæœ€å¸¸ç”¨çš„å‡½æ•°å‡ºé”™å¤„ç†æ–¹å¼æ˜¯æŠ›å‡ºå¼‚å¸¸ã€‚å¼‚å¸¸æœ‰ä¸¤ç§ç±»å‹ï¼šå—æ£€å¼‚å¸¸å’Œéå—æ£€å¼‚å¸¸ã€‚
>
> å¯¹äºåº”è¯¥ç”¨å—æ£€å¼‚å¸¸è¿˜æ˜¯éå—æ£€å¼‚å¸¸ï¼Œç½‘ä¸Šçš„äº‰è®ºæœ‰å¾ˆå¤šï¼Œä½†ä¹Ÿå¹¶æ²¡æœ‰ä¸€ä¸ªéå¸¸å¼ºæœ‰åŠ›çš„ç†ç”±ï¼Œè¯´æ˜ä¸€ä¸ªå°±ä¸€å®šæ¯”å¦ä¸€ä¸ªæ›´å¥½ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬åªéœ€è¦æ ¹æ®å›¢é˜Ÿçš„å¼€å‘ä¹ æƒ¯ï¼Œåœ¨åŒä¸€ä¸ªé¡¹ç›®ä¸­ï¼Œåˆ¶å®šç»Ÿä¸€çš„å¼‚å¸¸å¤„ç†è§„èŒƒå³å¯ã€‚
>
> å¯¹äºå‡½æ•°æŠ›å‡ºçš„å¼‚å¸¸ï¼Œæˆ‘ä»¬æœ‰ä¸‰ç§å¤„ç†æ–¹æ³•ï¼šç›´æ¥åæ‰ã€ç›´æ¥å¾€ä¸ŠæŠ›å‡ºã€åŒ…è£¹æˆæ–°çš„å¼‚å¸¸æŠ›å‡ºã€‚è¿™ä¸€éƒ¨åˆ†æˆ‘ä»¬ç•™åœ¨ä¸‹ä¸€èŠ‚è¯¾ä¸­ç»“åˆå®æˆ˜è¿›ä¸€æ­¥è®²è§£ã€‚

# è¯¾å ‚è®¨è®º

> ç»“åˆæˆ‘ä»¬ä»Šå¤©å­¦çš„ç†è®ºçŸ¥è¯†ï¼Œè¯•ç€å›ç­”ä¸€ä¸‹åœ¨æ–‡ç« å¼€å¤´é’ˆå¯¹ RandomIdGenerator æåˆ°çš„å››ä¸ªé—®é¢˜ã€‚
>
> æ¬¢è¿åœ¨ç•™è¨€åŒºå†™ä¸‹ä½ çš„ç­”æ¡ˆï¼Œå’ŒåŒå­¦ä¸€èµ·äº¤æµå’Œåˆ†äº«ã€‚å¦‚æœæœ‰æ”¶è·ï¼Œä¹Ÿæ¬¢è¿ä½ æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™ä½ çš„æœ‹å‹ã€‚
>
> ![](media/image10.png)
>
> Â© ç‰ˆæƒå½’æå®¢é‚¦ç§‘æŠ€æ‰€æœ‰ï¼Œæœªç»è®¸å¯ä¸å¾—ä¼ æ’­å”®å–ã€‚ é¡µé¢å·²å¢åŠ é˜²ç›—è¿½è¸ªï¼Œå¦‚æœ‰ä¾µæƒæå®¢é‚¦å°†ä¾æ³•è¿½ç©¶å…¶æ³•å¾‹è´£ä»»ã€‚
>
> ä¸Šä¸€ç¯‡ 35 \| å®æˆ˜ä¸€ï¼ˆä¸‹ï¼‰ï¼šæ‰‹æŠŠæ‰‹å¸¦ä½ å°†IDç”Ÿæˆå™¨ä»£ç ä»â€œèƒ½ç”¨â€é‡æ„ä¸ºâ€œå¥½ç”¨â€
>
> ä¸‹ä¸€ç¯‡ 37 \| å®æˆ˜äºŒï¼ˆä¸‹ï¼‰ï¼šé‡æ„IDç”Ÿæˆå™¨é¡¹ç›®ä¸­å„å‡½æ•°çš„å¼‚å¸¸å¤„ç†ä»£ç 
>
> ![](media/image11.png)**ç²¾é€‰ç•™è¨€ (22)**
>
> ![](media/image13.png)**Jxin**
>
> 2020-01-24
>
> å›ç­”é—®é¢˜ 1.æŠ›å‡ºå¼‚å¸¸ï¼Œå› ä¸ºæœåŠ¡å™¨è·å–ä¸åˆ°hostæ˜¯ä¸€ç§å¼‚å¸¸æƒ…å†µï¼Œå¹¶ä¸”æ‰“å°çš„å¼‚å¸¸æ—¥å¿—ä¸èƒ½æ˜¯war m,è€Œæ˜¯errï¼Œå› ä¸ºè¯¥å¼‚å¸¸ä¸ä¼šè‡ªåŠ¨å›å¤ã€‚
>
> 2.å¾€ä¸ŠæŠ›ï¼ŒåŸå°ä¸åŠ¨ã€‚åº”è¯¥åœ¨apiç»Ÿä¸€å‡ºå£å¤„å¤„ç†å¼‚å¸¸ï¼Œè¿™æ ·å¼‚å¸¸ä»£ç ä¼šæ¯”è¾ƒèšåˆï¼ˆä¸ªäººâ€¦
>
> å±•å¼€î˜ƒ

![](media/image14.png)![](media/image15.png)10

> ![](media/image16.png)**W.T**
>
> 2020-01-25
>
> Happy new yearï¼
>
> é¼ å¹´å¤§å‰ğŸŠğŸˆğŸ‰ğŸ¾ğŸ†â–¡
>
> ä½œè€…å›å¤: æ–°å¹´å¿«ä¹\~

![](media/image17.png)![](media/image18.png)2

> ![](media/image19.png)**Demon.Lee**
>
> 2020-02-02
>
> è¿™èŠ‚è¯¾å ªç§°ç»å…¸!!!ğŸ˜­
>
> å±•å¼€î˜ƒ

![](media/image20.png)![](media/image18.png)

> ![](media/image21.png)**å®ˆæ‹™**
>
> 2020-01-28
>
> è¯¾å ‚è®¨è®º:

1.  å¯¹äº generate() å‡½æ•°ï¼Œå¦‚æœæœ¬æœºåè·å–å¤±è´¥ï¼Œå‡½æ•°è¿”å›ä»€ä¹ˆï¼Ÿè¿™æ ·çš„è¿”å›å€¼æ˜¯å¦åˆç†â€¦

> å±•å¼€î˜ƒ

![](media/image22.png)![](media/image23.png)

> ![](media/image24.png)**å•¦å•¦å•¦**
>
> 2020-01-27
>
> æ­¦æ±‰åŠ æ²¹
>
> å±•å¼€î˜ƒ

![](media/image22.png)![](media/image25.png)

> ![](media/image26.png)**é€é¥æ€**
>
> 2020-01-27
>
> 1\. è¿”å›â€null-1577456311467-3nR3Do45â€ï¼Œä¸å¤Ÿåˆç†ï¼Œä½†å‹‰å¼ºèƒ½æ¥å—

1.  åº”è¯¥åæ‰ï¼Œå› ä¸º generate() å¹¶ä¸å…³å¿ƒ getLastFiledOfHostName() æŠ›å‡ºçš„å¼‚å¸¸

2.  è¿”å› null

3.  è¿”å›ç©ºå­—ç¬¦ä¸²

> â€¦
>
> å±•å¼€î˜ƒ

![](media/image20.png)![](media/image18.png)

> ![](media/image27.png)**javaadu**
>
> 2020-01-27
>
> å¯¹äºä»Šå¤©è¯¾å ‚ç•™çš„ä½œä¸šï¼Œæˆ‘é‡‡ç”¨äº†ç»Ÿä¸€çš„æ€è·¯â€”èƒ½ç”¨å¼‚å¸¸è§£å†³çš„éƒ½ç”¨å¼‚å¸¸è§£å†³ã€‚
>
> 1.å¯¹äº generate() å‡½æ•°ï¼Œå¦‚æœæœ¬æœºåè·å–å¤±è´¥ï¼Œå‡½æ•°è¿”å›ä»€ä¹ˆï¼Ÿè¿™æ ·çš„è¿”å›å€¼æ˜¯å¦åˆç†ï¼Ÿ ç­”ï¼šæŠ›å‡ºå¼‚å¸¸ï¼Œè¿™æ˜¯ä¸€ä¸ªæ— æ³•æ¢å¤çš„æƒ…å†µï¼Œæ‰“æ–­æ­£å¸¸çš„å¤„ç†æµç¨‹å¹¶è¿›å…¥å¼‚å¸¸é€»è¾‘å¤„ç†æ¨¡å—
>
> â€¦
>
> å±•å¼€î˜ƒ

![](media/image28.png)![](media/image29.png)

> ![](media/image30.png)**Jeff.Smile**
>
> 2020-01-26
>
> åšä¸€ä¸ªSZç¨‹åºå‘˜ï¼Œä¸åšMSç¨‹åºå‘˜ï¼è·Ÿè¿›ï¼
>
> å±•å¼€î˜ƒ
>
> ![](media/image31.png)![](media/image29.png)2
>
> ![](media/image32.png)**è¾£ä¹ˆå¤§**
>
> 2020-01-25
>
> 1ã€ä¸æŠ›ã€‚è¿”å›null-123123784378-aldjf780ã€‚ä»åŠŸèƒ½ä¸Šè®²ï¼Œå‡½æ•°æ˜¯ç”Ÿæˆlogtraceidï¼Œç”¨äºç»™è®°å½•åŠ idï¼Œä¾¿äºæŸ¥æ‰¾æ—¥å¿—ã€‚è¿”å›nullä¸å½±å“å®šä½é—®é¢˜ï¼ŒåŒæ—¶ç¨‹åºä¸ä¼šè¹¦ã€‚ 2ã€ä¸ŠæŠ›ï¼Œåˆ°generateä¸­å¤„ç†ã€‚
>
> 3ã€è¿”å›ç©ºä¸²
>
> 4ã€è¿”å›ç©ºä¸²
>
> å±•å¼€î˜ƒ

![](media/image33.png)![](media/image34.png)

> ![](media/image35.png)**Frank**
>
> 2020-01-25
>
> è¿”å›é”™è¯¯ç è¿™ç§æƒ…å†µï¼Œåœ¨å†™RPCæ¥å£ï¼Œè¿”å›æ—¶ç»å¸¸ç”¨åˆ°ã€‚åœ¨åˆšå¼€å§‹å¼€å‘å·¥ä½œæ—¶ï¼Œæˆ‘å¸¸ç”¨çš„å‡½æ•°å‡ºé”™è¿”å›ç±»å‹æ˜¯è¿”å›NULLå€¼å’ŒæŠ›å‡ºå¼‚å¸¸å¯¹è±¡ã€‚åé¢é€æ¥è§¦åˆ°å¯¹äºé›†åˆï¼Œå¦‚æœæ— æ•°æ®è¿”å›ç©ºé›†åˆè¿™ç§æ–¹æ³•ã€‚å­¦ä¹ Java8åï¼Œä¸ºäº†é¿å…NPEï¼Œå¯ä»¥ä½¿ç”¨Optionalç±»æ¥å¤„ç†ã€‚å¬è¿‡æŸäººè¯´å¯¹äºè°ƒç”¨åˆ«äººå†™çš„å‡½æ•°è¿”å›é›†åˆç±»å‹çš„æ•°æ®ï¼Œæœ€å¥½è‡ªå·±å…ˆåˆ¤æ–­NULLï¼Œå†å¤„ç†ã€‚å¦‚æœæ˜¯è‡ªå·±å†™è¿”å›é›†åˆæ•°æ®çš„æ¥å£ï¼Œè‹¥æ— æ•°æ®ï¼Œè¿”å›ç©ºé›†åˆï¼Œä¸è¦è¿”å›NULLï¼Œä¸è¦æŒ‡æœ›åˆ«äººå¸®ä½ â€¦
>
> å±•å¼€î˜ƒ

![](media/image36.png)![](media/image29.png)

> ![](media/image37.png)**L**ğŸš²ğŸ±
>
> 2020-01-25

1.  å¯¹äº generate() å‡½æ•°ï¼Œå¦‚æœæœ¬æœºåè·å–å¤±è´¥ï¼Œå‡½æ•°è¿”å›ä»€ä¹ˆï¼Ÿè¿™æ ·çš„è¿”å›å€¼æ˜¯å¦åˆç†ï¼Ÿ: æŠ›å‡ºå¼‚å¸¸, å› ä¸ºè·å–å¤±è´¥æ˜¯ä¸€ä¸ªå¼‚å¸¸æƒ…å†µ, æ‰€ä»¥éœ€è¦è¿”å›å¼‚å¸¸

2.  å¯¹äº getLastFiledOfHostName() å‡½æ•°ï¼Œæ˜¯å¦åº”è¯¥å°† UnknownHostException å¼‚å¸¸åœ¨å‡½æ•°å†…éƒ¨åæ‰ï¼ˆtry-catch å¹¶æ‰“å°æ—¥å¿—ï¼‰ï¼Ÿè¿˜æ˜¯åº”è¯¥å°†å¼‚å¸¸ç»§ç»­å¾€ä¸ŠæŠ›å‡ºï¼Ÿå¦‚æœå¾€ä¸ŠæŠ›å‡ºçš„è¯ï¼Œæ˜¯ç›´æ¥æŠŠ UnknownHostException å¼‚å¸¸åŸå°ä¸åŠ¨åœ°æŠ›å‡ºï¼Œè¿˜æ˜¯å°è£…æˆæ–°çš„å¼‚å¸¸æŠ›â€¦

> å±•å¼€î˜ƒ

![](media/image38.png)![](media/image39.png)

> ![](media/image40.png)**Fstar**
>
> 2020-01-24
>
> ä¸ªäººè§è§£ã€‚
>
> 1\. è·å–æœ¬æœºåå¤±è´¥å¯ä»¥è¿”å›ä¸€ä¸ªé»˜è®¤å€¼ï¼Œæ¯”å¦‚ "unknown"ã€‚å› ä¸º Id åªè¦éšæœºå°±è¡Œï¼Œhost Nameå…¶å®ä¸æ˜¯å¾ˆé‡è¦ã€‚ä¸è¿‡å¯ä»¥è€ƒè™‘å‘é€ä¸€ä¸ªæé†’ï¼Œå‘ŠçŸ¥å¼€å‘è€…è¿è¡Œç¯å¢ƒæœ‰æ— æ³•è·å–æœ¬æœºåçš„é—®é¢˜ã€‚â€¦
>
> å±•å¼€î˜ƒ

![](media/image38.png)![](media/image39.png)

> ![](media/image41.png)**å¹³é£é€ é›¨**
>
> 2020-01-24
>
> ä¸èƒ½æ¢å¤çš„å¼‚å¸¸åº”è¯¥æŠ›å‡ºï¼Œèƒ½å¤„ç†èƒ½æ¢å¤çš„å¯ä»¥åæ‰ï¼Œä½†æ˜¯åæ‰çš„å¼‚å¸¸è¦æœ‰åŠæ³•åœ¨æ—¥å¿—æˆ–è€…å…¶å®ƒåŠæ³•çœ‹åˆ°å¼‚å¸¸çš„åŸå› ï¼Œä¾¿äºåç»­æ’æŸ¥é—®é¢˜ã€‚å¼‚å¸¸æ˜¯å¦è¦é‡æ–°å®šä¹‰å¼‚å¸¸å¹¶æŠ›å‡ºï¼Œä¸èƒ½ä¸€æ¦‚è€Œè®ºï¼ŒæŸäº›æƒ…å†µä¸‹ï¼Œå¼‚å¸¸çš„å€¼å’Œç±»å‹æœ¬èº«å°±æ˜¯æ¥å£çº¦å®šä¸­çš„ä¸€éƒ¨åˆ†ï¼Œç‰¹åˆ«æ˜¯unchecke då¼‚å¸¸ã€‚
>
> å±•å¼€î˜ƒ

![](media/image42.png)![](media/image43.png)

> ![](media/image44.png)**ã¡ã‚ˆãã‚“**
>
> 2020-01-24
>
> æ‰“å¡
>
> å±•å¼€î˜ƒ

![](media/image45.png)![](media/image46.png)

> ![](media/image47.png)**Jamespxy**
>
> 2020-01-24
>
> æ–°å¹´å¿«ä¹ï¼Œå¼€å¿ƒå®æˆ˜ï¼
>
> å±•å¼€î˜ƒ

![](media/image48.png)![](media/image49.png)

> ![](media/image50.png)**ç›¸é€¢æ˜¯ç¼˜**
>
> 2020-01-24
>
> æ‰“å¡
>
> å‡½æ•°å‡ºé”™åº”è¯¥è¿”å›ï¼Ÿ 1ï¼‰è¿”å›é”™è¯¯ç ï¼ˆCè¯­è¨€ï¼Œå…¶ä»–çš„è¯­éŸ³å¯èƒ½æŠ›å‡ºå¼‚å¸¸ï¼‰
>
> 2ï¼‰è¿”å›NULL
>
> ï¼ˆå¯¹äºâ€œæ²¡æœ‰æŸ¥æ‰¾åˆ°â€ï¼Œè¿”å›nullæ›´ä¸ºåˆç†ï¼‰â€¦
>
> å±•å¼€î˜ƒ

![](media/image51.png)![](media/image52.png)

> ![](media/image53.png)**çš®å¡çš®å¡**
>
> 2020-01-24
>
> è¿”å›ç©ºå¯¹è±¡ç« èŠ‚ä¸­ï¼Œreturn Collectiosn.emptyList();å‡ºç°æ‹¼å†™é”™è¯¯ï¼Œåº”è¯¥æ˜¯Collections.e mptyList();
>
> ä½œè€…å›å¤: å—¯å—¯ æ”¶åˆ° æˆ‘æ”¹ä¸‹

![](media/image51.png)![](media/image54.png)

> ![](media/image55.png)**test**
>
> 2020-01-24

1.  è·å–ä¸åˆ°æœ¬æœºåï¼ŒæŠ›å‡ºå¼‚å¸¸

2.  å¾€ä¸Šè·‘ï¼Œå¯ä»¥åŒ…è£…ä¸ºæ–°çš„å¼‚å¸¸

3.  è¿”å›nullå€¼

4.  è¿”å›ç©ºå¯¹è±¡

![](media/image56.png)![](media/image57.png)

> ![](media/image58.png)**å—å±±**
>
> 2020-01-24
>
> ä»å›¢é˜Ÿçš„å®è·µæ¥çœ‹ï¼Œå¼‚å¸¸ç»Ÿä¸€åªé äººä¸ºçº¦å®šæ˜¯æ¯”è¾ƒéš¾å®è¡Œçš„ï¼Œå›¢é˜Ÿæˆå‘˜ç†è§£ä¸ä¸€æ ·ï¼Œå®é™…å†™ä»£ç æ—¶å€™å„ç§åŸå› ä¸æŒ‰çº¦å®šæ¥ã€‚é€šè¿‡æ’ä»¶ï¼Œæˆ–è€…IDEè‡ªåŠ¨ç›‘æµ‹çš„æ‰‹æ®µä¼šæ¯”è¾ƒå¥½ï¼Œæ¯”å¦‚son arã€‚

![](media/image56.png)![](media/image57.png)

> ![](media/image59.png)**é»„æ—æ™´**
>
> 2020-01-24
>
> æ‰“å¡âœ” æ–°å¹´å¿«ä¹

![](media/image51.png)![](media/image54.png)
