180.120.131.67

## 简介 

**M文件：** 脚本文件只存储MATLAB语句，脚本文件中创建的变量在脚本运行结束之后仍然存放在工作区，所有的脚本文件通过工作区进行数据交互。  

**MATLAB函数**  运行在独立的工作区，

**MATLAB函数标准模式**   

    function[outarg1,outarg2,...]=fname(inarg1,inarg2,...)    
    //定义函数名，输入输出列表，如果输出列表只有一个可以不需要中括号；  
输入与输出参数仅仅为函数名，相当于形参；  

    %H1 comment line  
    // 这是H1注释行，对本函数功能进行概括，使用lookfor命令可以搜到该函数   
    %other comment line  
    // 从H1注释行到第一个空行或第一个可执行性语句可以通过help命令查找到   
    ...    
    (Executable code)   
    ...    
    (return)   






## 在MATLAB中传递变量：按值传递机制   

- 当一个函数调用发生时候，MATLAB会先生成一个副本，然后将值传递给函数，在函数内部该值可能经过运算从而改变，但是不影响调用者的原值。    

- MATLAB对于数组同样可以使用按值传递，但是C语言对于数组不可以使用按值传递  







## 选择性参数   

支持选择性输入函数与输出函数的参数数目    

**获取关于选择性参数的信息和用于报告这些参数的错误的函数**   

函数名 | 功能  
|-----------|----------------------|
nargin | 这个函数返回调用这个函数时所需要的实际输入参数的个数 
nargout | 这个函数返回调用这个函数时所需要的实际输出参数的个数 
nargchk | 如要一个函数调用被调用时参数过多或过少，那么 nargchk 函数将返回一个标准错误信息，否则返回一个空字符。**使用方法为：**message=nargchk(min_args,max_args,num_args);参数最小个数，参数最大个数，参数的实际个数 
error | 显示错误信息，并中止函数以免它产生这个错误，并返回到键盘的输入状态。如果参数错误是致命的，这个函数将会被调用。**使用方法为:**error('msg');%msg为包含错误信息的字符串   
warning | 显示警告信息并继续执行函数，如果参数错误不是致命的，执行还能继续，则这个将会被调用。 **使用方法为:**warning('msg');%msg为含有警告信息的字符串  
inputname | 这个函数将会返回对于特定参数个数的实际变量名。 **使用方法为：**name=inputname(argno);%argno为参数的个数，若是一个变量则返回变量名，若是一个表达式，返回一个空字符。







## 用全局内存分享数据   

声明为全局变量的数据可以占用全局内存分享数据   

**声明全局变量**    

    global var1 var2....      
    一般为了区别于本地变量，全局变量一般在函数的开头进行声明     









## 在函数调用两次之间本地数据的存储   

一般情况下函数执行结束之后，由该函数创建的工作区被破坏，本地变量也会消失，下次调用又将创建新的工作区，现在可以将本地变量保存为持久内存。  

**声明持久变量**    

    persistent var1 var2 var3.....   






## 函数的函数  
即只函数的输入参数含有其他函数传值给函数的函数的变量名一般情况下应用于这个函数执行的过程中。

    exp：  

    fzero('cos',[0 pi])   
    ans=1.5708   

%函数功能注释：fzero函数功能是用于找到传递给他的函数值为0时的自变量   



### 函数的函数操作关键字：eval和feval  

**eval**  
功能：对一个字符串进行求值    

标准格式：eval（string）   

    exp1:  
     x=eval('sin(pi/4)')   

     x=  
    0.7071   

    exp2:   
     x=1;  
    str=['exp('num2str(x)')-1'];  
    res=eval(str);   

     res=1.7183  


**feval**   
功能：用一个特定的输入值对命名的函数进行求值    

标准格式：feval(fun,value)   

    exp:  
     x=feval('sin',pi/4)   

     x=0.7071   


**常见的函数的函数：**    


函数名|功能   
---|---   
fminbnd | 求函数的最小值，这函数只有一个自变量 
fzero | 找出函数为 0 时的自变量的值 
quad | 在数学上组合一个函数 
ezplot | 简单易用的函数画图 
fplot | 通过函数名画出这个函数的图象     


## 子函数和私有函数   

### 子函数   

**子函数概述定义**    

在一个单个文件中创建多个函数，最上面的是普通函数，下面的是**子函数**或者**中间函数**,**所有子函数只能被同一文件的函数调用。**   


### 私有函数  

**私有函数概述定义**  

指属于private为名字的子目录的函数，这些函数只有在父目录中才是可见的，因此这些私有函数只能被父目录内部的函数调用。   

**PS**
私有函数名与父目录之外的目录中函数是可以重名的，查找时候，先查找到私有函数，











